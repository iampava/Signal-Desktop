"use strict";(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[6762],{"./ts/components/GroupDescriptionText.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>GroupDescriptionText});__webpack_require__("./node_modules/react/index.js");var _conversation_AddNewLines__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversation/AddNewLines.tsx"),_conversation_Emojify__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/Emojify.tsx"),_conversation_Linkify__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/conversation/Linkify.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderNonLink=function(_ref){var key=_ref.key,text=_ref.text;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_conversation_Emojify__WEBPACK_IMPORTED_MODULE_2__.u,{text},key)};renderNonLink.displayName="renderNonLink";var renderNonNewLine=function(_ref2){var key=_ref2.key,text=_ref2.text;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_conversation_Linkify__WEBPACK_IMPORTED_MODULE_3__.zR,{text,renderNonLink},key)};function GroupDescriptionText(_ref3){var text=_ref3.text;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_conversation_AddNewLines__WEBPACK_IMPORTED_MODULE_1__.K,{text,renderNonNewLine})}renderNonNewLine.displayName="renderNonNewLine",GroupDescriptionText.displayName="GroupDescriptionText"},"./ts/components/GroupDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>GroupDialog});__webpack_require__("./node_modules/react/index.js");var _ModalHost__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/ModalHost.tsx"),_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/Button.tsx"),_Avatar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Avatar.tsx"),_conversation_ContactName__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function GroupDialog(props){var secondaryButton,children=props.children,i18n=props.i18n,onClickPrimaryButton=props.onClickPrimaryButton,onClose=props.onClose,primaryButtonText=props.primaryButtonText,title=props.title;if("secondaryButtonText"in props){var onClickSecondaryButton=props.onClickSecondaryButton,secondaryButtonText=props.secondaryButtonText;secondaryButton=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.zx,{onClick:onClickSecondaryButton,variant:_Button__WEBPACK_IMPORTED_MODULE_2__.Wu.Secondary,children:secondaryButtonText})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ModalHost__WEBPACK_IMPORTED_MODULE_1__.l,{modalName:"GroupDialog",onClose,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"module-GroupDialog",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{"aria-label":i18n("icu:close"),type:"button",className:"module-GroupDialog__close-button",onClick:function(){onClose()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h1",{className:"module-GroupDialog__title",children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"module-GroupDialog__body",children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"module-GroupDialog__button-container",children:[secondaryButton,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.zx,{onClick:onClickPrimaryButton,ref:focusRef,variant:_Button__WEBPACK_IMPORTED_MODULE_2__.Wu.Primary,children:primaryButtonText})]})]})})}function Paragraph(_ref){var children=_ref.children;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("p",{className:"module-GroupDialog__paragraph",children})}function Contacts(_ref2){var contacts=_ref2.contacts,getPreferredBadge=_ref2.getPreferredBadge,i18n=_ref2.i18n,theme=_ref2.theme;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("ul",{className:"module-GroupDialog__contacts",children:contacts.map((function(contact){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("li",{className:"module-GroupDialog__contacts__contact",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Avatar__WEBPACK_IMPORTED_MODULE_3__.qE,{acceptedMessageRequest:contact.acceptedMessageRequest,avatarPath:contact.avatarPath,badge:getPreferredBadge(contact.badges),color:contact.color,conversationType:contact.type,isMe:contact.isMe,noteToSelf:contact.isMe,theme,title:contact.title,unblurredAvatarPath:contact.unblurredAvatarPath,sharedGroupNames:contact.sharedGroupNames,size:_Avatar__WEBPACK_IMPORTED_MODULE_3__.DZ.TWENTY_EIGHT,i18n}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_conversation_ContactName__WEBPACK_IMPORTED_MODULE_4__.K,{module:"module-GroupDialog__contacts__contact__name",title:contact.title})]},contact.id)}))})}function focusRef(el){el&&el.focus()}GroupDialog.displayName="GroupDialog",Paragraph.displayName="Paragraph",GroupDialog.Paragraph=Paragraph,Contacts.displayName="Contacts",GroupDialog.Contacts=Contacts},"./ts/components/GroupV1MigrationDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>GroupV1MigrationDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_GroupDialog__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/GroupDialog.tsx"),_util_sortByTitle__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/util/sortByTitle.ts"),_util_missingCaseError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/missingCaseError.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),GroupV1MigrationDialog=react__WEBPACK_IMPORTED_MODULE_0__.memo((function GroupV1MigrationDialogInner(props){var migrateHandler,closeHandler,areWeInvited=props.areWeInvited,conversationId=props.conversationId,droppedMembers=props.droppedMembers,getPreferredBadge=props.getPreferredBadge,hasMigrated=props.hasMigrated,i18n=props.i18n,invitedMembers=props.invitedMembers,theme=props.theme;if("migrate"in props)migrateHandler=props.migrate;else{if(!("initiateMigrationToGroupV2"in props))throw new Error("GroupV1MigrationDialog: No conversationId or migration function");migrateHandler=function(){return props.initiateMigrationToGroupV2(conversationId)}}if("onClose"in props)closeHandler=props.onClose;else{if(!("closeGV2MigrationDialog"in props))throw new Error("GroupV1MigrationDialog: No close function provided");closeHandler=props.closeGV2MigrationDialog}var primaryButtonText,onClickPrimaryButton,secondaryButtonProps,title=i18n(hasMigrated?"icu:GroupV1--Migration--info--title":"icu:GroupV1--Migration--migrate--title"),keepHistory=i18n(hasMigrated?"icu:GroupV1--Migration--info--keep-history":"icu:GroupV1--Migration--migrate--keep-history");return hasMigrated?(primaryButtonText=i18n("icu:Confirmation--confirm"),onClickPrimaryButton=closeHandler):(primaryButtonText=i18n("icu:GroupV1--Migration--migrate"),onClickPrimaryButton=migrateHandler,secondaryButtonProps={secondaryButtonText:i18n("icu:cancel"),onClickSecondaryButton:closeHandler}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_GroupDialog__WEBPACK_IMPORTED_MODULE_1__.W,Object.assign({i18n,onClickPrimaryButton,onClose:closeHandler,primaryButtonText,title},secondaryButtonProps,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_GroupDialog__WEBPACK_IMPORTED_MODULE_1__.W.Paragraph,{children:i18n("icu:GroupV1--Migration--info--summary")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_GroupDialog__WEBPACK_IMPORTED_MODULE_1__.W.Paragraph,{children:keepHistory}),areWeInvited?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_GroupDialog__WEBPACK_IMPORTED_MODULE_1__.W.Paragraph,{children:i18n("icu:GroupV1--Migration--info--invited--you")}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[renderMembers({getPreferredBadge,i18n,members:invitedMembers,hasMigrated,kind:"invited",theme}),renderMembers({getPreferredBadge,i18n,members:droppedMembers,hasMigrated,kind:"dropped",theme})]})]}))}));function renderMembers(_ref){var text,getPreferredBadge=_ref.getPreferredBadge,i18n=_ref.i18n,members=_ref.members,hasMigrated=_ref.hasMigrated,kind=_ref.kind,theme=_ref.theme;if(!members.length)return null;switch(kind){case"invited":text=1===members.length?i18n("icu:GroupV1--Migration--info--invited--one"):i18n("icu:GroupV1--Migration--info--invited--many");break;case"dropped":text=hasMigrated?1===members.length?i18n("icu:GroupV1--Migration--info--removed--before--one"):i18n("icu:GroupV1--Migration--info--removed--before--many"):1===members.length?i18n("icu:GroupV1--Migration--info--removed--after--one"):i18n("icu:GroupV1--Migration--info--removed--after--many");break;default:throw(0,_util_missingCaseError__WEBPACK_IMPORTED_MODULE_3__.b)(kind)}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_GroupDialog__WEBPACK_IMPORTED_MODULE_1__.W.Paragraph,{children:text}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_GroupDialog__WEBPACK_IMPORTED_MODULE_1__.W.Contacts,{contacts:(0,_util_sortByTitle__WEBPACK_IMPORTED_MODULE_4__.m)(members),getPreferredBadge,i18n,theme})]})}},"./ts/components/Intl.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>Intl});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_logging_log__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/logging/log.ts"),_util_assert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/assert.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var defaultRenderText=function(_ref){var text=_ref.text,key=_ref.key;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:text},key)};defaultRenderText.displayName="defaultRenderText";var Intl=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Intl,_React$Component);var _super=_createSuper(Intl);function Intl(){return _classCallCheck(this,Intl),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Intl,[{key:"getComponent",value:function getComponent(index,placeholderName,key){var _this$props=this.props,id=_this$props.id,components=_this$props.components;if(!components)return _logging_log__WEBPACK_IMPORTED_MODULE_1__.error(`Error: Intl component prop not provided; Metadata: id '${id}', index ${index}, placeholder '${placeholderName}'`),null;if(Array.isArray(components))return!components||!components.length||components.length<=index?(_logging_log__WEBPACK_IMPORTED_MODULE_1__.error(`Error: Intl missing provided component for id '${id}', index ${index}`),null):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:components[index]},key);var value=components[placeholderName];return value?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:value},key):(_logging_log__WEBPACK_IMPORTED_MODULE_1__.error(`Error: Intl missing provided component for id '${id}', placeholder '${placeholderName}'`),null)}},{key:"render",value:function render(){var _this$props2=this.props,components=_this$props2.components,id=_this$props2.id,localizer=_this$props2.i18n,_this$props2$renderTe=_this$props2.renderText,renderText=void 0===_this$props2$renderTe?defaultRenderText:_this$props2$renderTe;if(!id)return _logging_log__WEBPACK_IMPORTED_MODULE_1__.error("Error: Intl id prop not provided"),null;if(!localizer.isLegacyFormat(id))return(0,_util_assert__WEBPACK_IMPORTED_MODULE_2__.Yj)(!Array.isArray(components),`components cannot be an array for ICU message ${id}`),localizer.getIntl().formatMessage({id},components);var text=localizer(id),results=[],FIND_REPLACEMENTS=/\$([^$]+)\$/g;if(Array.isArray(components)&&components.length>1)throw new Error("Array syntax is not supported with more than one placeholder");var componentIndex=0,key=0,lastTextIndex=0,match=FIND_REPLACEMENTS.exec(text);if(!match)return renderText({text,key:0});for(;match;){if(lastTextIndex<match.index){var textWithNoReplacements=text.slice(lastTextIndex,match.index);results.push(renderText({text:textWithNoReplacements,key})),key+=1}var placeholderName=match[1];results.push(this.getComponent(componentIndex,placeholderName,key)),componentIndex+=1,key+=1,lastTextIndex=FIND_REPLACEMENTS.lastIndex,match=FIND_REPLACEMENTS.exec(text)}return lastTextIndex<text.length&&(results.push(renderText({text:text.slice(lastTextIndex),key})),key+=1),results}}]),Intl}(react__WEBPACK_IMPORTED_MODULE_0__.Component)},"./ts/components/Tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>TooltipPlacement,u:()=>Tooltip});var lodash_noop__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/noop.js"),lodash_noop__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_noop__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_popper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-popper/lib/esm/Manager.js"),react_popper__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-popper/lib/esm/Reference.js"),react_popper__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-popper/lib/esm/Popper.js"),_util_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/theme.ts"),_util_refMerger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/util/refMerger.ts"),_util_popperUtil__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/util/popperUtil.ts"),_services_InteractionMode__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ts/services/InteractionMode.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TooltipPlacement,TooltipEventWrapper=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((function TooltipEvent(_ref,ref){var onHoverChanged=_ref.onHoverChanged,children=_ref.children,wrapperRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),on=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(){onHoverChanged(!0)}),[onHoverChanged]),off=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(){onHoverChanged(!1)}),[onHoverChanged]),onFocus=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((function(){"keyboard"===(0,_services_InteractionMode__WEBPACK_IMPORTED_MODULE_7__.G)()&&on()}),[on]);return react__WEBPACK_IMPORTED_MODULE_1__.useEffect((function(){var wrapperEl=wrapperRef.current;return wrapperEl?(wrapperEl.addEventListener("mouseenter",on),wrapperEl.addEventListener("mouseleave",off),function(){wrapperEl.removeEventListener("mouseenter",on),wrapperEl.removeEventListener("mouseleave",off)}):lodash_noop__WEBPACK_IMPORTED_MODULE_0___default()}),[on,off]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{onFocus,onBlur:off,ref:(0,_util_refMerger__WEBPACK_IMPORTED_MODULE_4__.M)(ref,wrapperRef),children})}));function Tooltip(_ref2){var children=_ref2.children,className=_ref2.className,content=_ref2.content,direction=_ref2.direction,sticky=_ref2.sticky,theme=_ref2.theme,_ref2$popperModifiers=_ref2.popperModifiers,popperModifiers=void 0===_ref2$popperModifiers?[]:_ref2$popperModifiers,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_1__.useState(!1),2),isHovering=_React$useState2[0],setIsHovering=_React$useState2[1],showTooltip=isHovering||Boolean(sticky),tooltipThemeClassName=theme?`module-tooltip--${(0,_util_theme__WEBPACK_IMPORTED_MODULE_3__.j)(theme)}`:void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_popper__WEBPACK_IMPORTED_MODULE_8__.dK,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_popper__WEBPACK_IMPORTED_MODULE_9__.s,{children:function(_ref3){var ref=_ref3.ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(TooltipEventWrapper,{ref,onHoverChanged:setIsHovering,children})}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_popper__WEBPACK_IMPORTED_MODULE_10__.r,{placement:direction,modifiers:[(0,_util_popperUtil__WEBPACK_IMPORTED_MODULE_5__.E)(12)].concat(_toConsumableArray(popperModifiers)),children:function(_ref4){var arrowProps=_ref4.arrowProps,placement=_ref4.placement,ref=_ref4.ref,style=_ref4.style;return showTooltip&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("module-tooltip",tooltipThemeClassName,className),ref,style,"data-placement":placement,children:[content,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"module-tooltip-arrow",ref:arrowProps.ref,style:arrowProps.style})]})}})]})}!function(TooltipPlacement){TooltipPlacement.Top="top",TooltipPlacement.Right="right",TooltipPlacement.Bottom="bottom",TooltipPlacement.Left="left"}(TooltipPlacement||(TooltipPlacement={})),Tooltip.displayName="Tooltip"},"./ts/components/conversation/CallingNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>CallingNotification});var noop=__webpack_require__("./node_modules/lodash/noop.js"),noop_default=__webpack_require__.n(noop),react=__webpack_require__("./node_modules/react/index.js"),SystemMessage=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),Button=__webpack_require__("./ts/components/Button.tsx"),MessageTimestamp=__webpack_require__("./ts/components/conversation/MessageTimestamp.tsx"),Calling=__webpack_require__("./ts/types/Calling.ts"),missingCaseError=__webpack_require__("./ts/util/missingCaseError.ts"),log=__webpack_require__("./ts/logging/log.ts");function getCallingNotificationText(notification,i18n){switch(notification.callMode){case Calling.L6.Direct:return function getDirectCallNotificationText(_ref,i18n){var wasIncoming=_ref.wasIncoming,wasVideoCall=_ref.wasVideoCall,wasDeclined=_ref.wasDeclined,acceptedTime=_ref.acceptedTime,wasAccepted=Boolean(acceptedTime);return i18n(wasIncoming?wasDeclined?wasVideoCall?"icu:declinedIncomingVideoCall":"icu:declinedIncomingAudioCall":wasAccepted?wasVideoCall?"icu:acceptedIncomingVideoCall":"icu:acceptedIncomingAudioCall":wasVideoCall?"icu:missedIncomingVideoCall":"icu:missedIncomingAudioCall":wasAccepted?wasVideoCall?"icu:acceptedOutgoingVideoCall":"icu:acceptedOutgoingAudioCall":wasVideoCall?"icu:missedOrDeclinedOutgoingVideoCall":"icu:missedOrDeclinedOutgoingAudioCall")}(notification,i18n);case Calling.L6.Group:return function getGroupCallNotificationText(notification,i18n){var _notification$creator;return notification.ended?i18n("icu:calling__call-notification__ended"):notification.creator?notification.creator.isMe?i18n("icu:calling__call-notification__started-by-you"):i18n("icu:calling__call-notification__started",{name:null!==(_notification$creator=notification.creator.systemGivenName)&&void 0!==_notification$creator?_notification$creator:notification.creator.title}):i18n("icu:calling__call-notification__started-by-someone")}(notification,i18n);default:return log.error(`getCallingNotificationText: missing case ${(0,missingCaseError.b)(notification)}`),""}}function getCallingIcon(notification){switch(notification.callMode){case Calling.L6.Direct:return function getDirectCallingIcon(_ref2){var wasIncoming=_ref2.wasIncoming,wasVideoCall=_ref2.wasVideoCall,acceptedTime=_ref2.acceptedTime,wasAccepted=Boolean(acceptedTime);return wasVideoCall?wasAccepted?wasIncoming?"video-incoming":"video-outgoing":"video-missed":wasAccepted?wasIncoming?"audio-incoming":"audio-outgoing":"audio-missed"}(notification);case Calling.L6.Group:return"video";default:return log.error(`getCallingNotificationText: missing case ${(0,missingCaseError.b)(notification)}`),"phone"}}var Tooltip=__webpack_require__("./ts/components/Tooltip.tsx"),assert=__webpack_require__("./ts/util/assert.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CallingNotification=react.memo((function CallingNotificationInner(props){var timestamp,i18n=props.i18n,wasMissed=!1;switch(props.callMode){case Calling.L6.Direct:var _props$acceptedTime,resolvedTime=null!==(_props$acceptedTime=props.acceptedTime)&&void 0!==_props$acceptedTime?_props$acceptedTime:props.endedTime;(0,assert.q8)(resolvedTime,"Direct call must have accepted or ended time"),timestamp=resolvedTime,wasMissed=props.wasIncoming&&!props.acceptedTime&&!props.wasDeclined;break;case Calling.L6.Group:timestamp=props.startedTime;break;default:return log.error(`CallingNotification missing case: ${(0,missingCaseError.b)(props)}`),null}var icon=getCallingIcon(props);return(0,jsx_runtime.jsx)(SystemMessage.j,{button:renderCallingNotificationButton(props),contents:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[getCallingNotificationText(props,i18n)," ·"," ",(0,jsx_runtime.jsx)(MessageTimestamp.i,{direction:"outgoing",i18n,timestamp,withImageNoCaption:!1,withSticker:!1,withTapToViewExpired:!1})]}),icon,kind:wasMissed?SystemMessage.N.Danger:SystemMessage.N.Normal})}));function renderCallingNotificationButton(props){var buttonText,disabledTooltipText,onClick,activeCallConversationId=props.activeCallConversationId,conversationId=props.conversationId,i18n=props.i18n,isNextItemCallingNotification=props.isNextItemCallingNotification,returnToActiveCall=props.returnToActiveCall,startCallingLobby=props.startCallingLobby;if(isNextItemCallingNotification)return null;switch(props.callMode){case Calling.L6.Direct:var wasIncoming=props.wasIncoming,wasVideoCall=props.wasVideoCall;buttonText=i18n(wasIncoming?"icu:calling__call-back":"icu:calling__call-again"),activeCallConversationId?(disabledTooltipText=i18n("icu:calling__in-another-call-tooltip"),onClick=noop_default()):onClick=function(){startCallingLobby({conversationId,isVideoCall:wasVideoCall})};break;case Calling.L6.Group:if(props.ended)return null;var deviceCount=props.deviceCount,maxDevices=props.maxDevices;activeCallConversationId?activeCallConversationId===conversationId?(buttonText=i18n("icu:calling__return"),onClick=returnToActiveCall):(buttonText=i18n("icu:calling__join"),disabledTooltipText=i18n("icu:calling__in-another-call-tooltip"),onClick=noop_default()):deviceCount>=maxDevices?(buttonText=i18n("icu:calling__call-is-full"),disabledTooltipText=i18n("icu:calling__call-notification__button__call-full-tooltip",{max:deviceCount}),onClick=noop_default()):(buttonText=i18n("icu:calling__join"),onClick=function(){startCallingLobby({conversationId,isVideoCall:!0})});break;default:return log.error((0,missingCaseError.b)(props)),null}var button=(0,jsx_runtime.jsx)(Button.zx,{disabled:Boolean(disabledTooltipText),onClick,size:Button.qE.Small,variant:Button.Wu.SystemMessage,children:buttonText});return disabledTooltipText?(0,jsx_runtime.jsx)(Tooltip.u,{content:disabledTooltipText,direction:Tooltip.T.Top,children:button}):button}},"./ts/components/conversation/ChangeNumberNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>ChangeNumberNotification});__webpack_require__("./node_modules/react/index.js");var _Intl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Intl.tsx"),_SystemMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_MessageTimestamp__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/conversation/MessageTimestamp.tsx"),_UserText__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/UserText.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ChangeNumberNotification(props){var i18n=props.i18n,sender=props.sender,timestamp=props.timestamp;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_2__.j,{contents:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_1__.R,{id:"icu:ChangeNumber--notification",components:{sender:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_UserText__WEBPACK_IMPORTED_MODULE_4__.a,{text:sender.title||sender.firstName||""})},i18n})," · ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MessageTimestamp__WEBPACK_IMPORTED_MODULE_3__.i,{i18n,timestamp})]}),icon:"phone"})}ChangeNumberNotification.displayName="ChangeNumberNotification"},"./ts/components/conversation/ChatSessionRefreshedDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>ChatSessionRefreshedDialog});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/Modal.tsx"),_hooks_useRestoreFocus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/hooks/useRestoreFocus.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChatSessionRefreshedDialog(props){var i18n=props.i18n,contactSupport=props.contactSupport,onClose=props.onClose,focusRef=_slicedToArray((0,_hooks_useRestoreFocus__WEBPACK_IMPORTED_MODULE_3__.H)(),1)[0];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Modal__WEBPACK_IMPORTED_MODULE_2__.u_,{modalName:"ChatSessionRefreshedDialog",hasXButton:!1,onClose,i18n,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-chat-session-refreshed-dialog",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-chat-session-refreshed-dialog__image",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"images/chat-session-refresh.svg",height:"110",width:"200",alt:""})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-chat-session-refreshed-dialog__title",children:i18n("icu:ChatRefresh--notification")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-chat-session-refreshed-dialog__description",children:i18n("icu:ChatRefresh--summary")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-chat-session-refreshed-dialog__buttons",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:contactSupport,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-chat-session-refreshed-dialog__button","module-chat-session-refreshed-dialog__button--secondary"),children:i18n("icu:ChatRefresh--contactSupport")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:onClose,ref:focusRef,className:"module-chat-session-refreshed-dialog__button",children:i18n("icu:Confirmation--confirm")})]})]})})}ChatSessionRefreshedDialog.displayName="ChatSessionRefreshedDialog"},"./ts/components/conversation/ChatSessionRefreshedNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>ChatSessionRefreshedNotification});var react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./ts/components/Button.tsx"),SystemMessage=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),ChatSessionRefreshedDialog=__webpack_require__("./ts/components/conversation/ChatSessionRefreshedDialog.tsx"),openLinkInWebBrowser=__webpack_require__("./ts/util/openLinkInWebBrowser.ts");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChatSessionRefreshedNotification(props){var i18n=props.i18n,_useState2=_slicedToArray((0,react.useState)(!1),2),isDialogOpen=_useState2[0],setIsDialogOpen=_useState2[1],openDialog=(0,react.useCallback)((function(){setIsDialogOpen(!0)}),[setIsDialogOpen]),closeDialog=(0,react.useCallback)((function(){setIsDialogOpen(!1)}),[setIsDialogOpen]),wrappedContactSupport=(0,react.useCallback)((function(){setIsDialogOpen(!1);var supportLocale=function mapToSupportLocale(ourLocale){return"ar"===ourLocale||"de"===ourLocale||"es"===ourLocale||"fr"===ourLocale||"it"===ourLocale||"ja"===ourLocale||"pl"===ourLocale?ourLocale:"pt-BR"===ourLocale?"pt-br":"ru"===ourLocale||"sq"===ourLocale?ourLocale:"zh-TW"===ourLocale?"zh-tw":"en-us"}(window.getResolvedMessagesLocale()),url="https://support.signal.org/hc/LOCALE/requests/new?desktop&chat_refreshed".replace("LOCALE",supportLocale);(0,openLinkInWebBrowser.P)(url)}),[setIsDialogOpen]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SystemMessage.j,{contents:i18n("icu:ChatRefresh--notification"),button:(0,jsx_runtime.jsx)(Button.zx,{onClick:openDialog,size:Button.qE.Small,variant:Button.Wu.SystemMessage,children:i18n("icu:ChatRefresh--learnMore")}),icon:"session-refresh"}),isDialogOpen?(0,jsx_runtime.jsx)(ChatSessionRefreshedDialog.o,{onClose:closeDialog,contactSupport:wrappedContactSupport,i18n}):null]})}},"./ts/components/conversation/ConversationMergeNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ConversationMergeNotification});var react=__webpack_require__("./node_modules/react/index.js");var Button=__webpack_require__("./ts/components/Button.tsx"),SystemMessage=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),Emojify=__webpack_require__("./ts/components/conversation/Emojify.tsx"),Modal=__webpack_require__("./ts/components/Modal.tsx"),Intl=__webpack_require__("./ts/components/Intl.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ConversationMergeNotification(props){var conversationTitle=props.conversationTitle,obsoleteConversationTitle=props.obsoleteConversationTitle,obsoleteConversationNumber=props.obsoleteConversationNumber,i18n=props.i18n,message=function getStringForConversationMerge(_ref){var obsoleteConversationTitle=_ref.obsoleteConversationTitle,obsoleteConversationNumber=_ref.obsoleteConversationNumber,conversationTitle=_ref.conversationTitle,i18n=_ref.i18n;return obsoleteConversationTitle?obsoleteConversationNumber?i18n("icu:ConversationMerge--notification--with-e164",{conversationTitle,obsoleteConversationNumber}):i18n("icu:ConversationMerge--notification",{obsoleteConversationTitle,conversationTitle}):i18n("icu:ConversationMerge--notification--no-title",{conversationTitle})}({conversationTitle,obsoleteConversationTitle,obsoleteConversationNumber,i18n}),_React$useState2=_slicedToArray(react.useState(!1),2),showingDialog=_React$useState2[0],setShowingDialog=_React$useState2[1],showDialog=react.useCallback((function(){setShowingDialog(!0)}),[setShowingDialog]),dismissDialog=react.useCallback((function(){setShowingDialog(!1)}),[setShowingDialog]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SystemMessage.j,{icon:"merge",contents:(0,jsx_runtime.jsx)(Emojify.u,{text:message}),button:obsoleteConversationTitle?(0,jsx_runtime.jsx)(Button.zx,{onClick:showDialog,size:Button.qE.Small,variant:Button.Wu.SystemMessage,children:i18n("icu:ConversationMerge--learn-more")}):void 0}),showingDialog&&obsoleteConversationTitle?(0,jsx_runtime.jsx)(Modal.u_,{hasXButton:!0,modalName:"ConversationMergeExplainer",onClose:dismissDialog,i18n,children:(0,jsx_runtime.jsxs)("div",{className:"module-conversation-merge-notification__dialog__image",children:[(0,jsx_runtime.jsx)("img",{src:"images/merged-chat.svg",alt:""}),(0,jsx_runtime.jsx)("div",{className:"module-conversation-merge-notification__dialog__text-1",children:(0,jsx_runtime.jsx)(Intl.R,{i18n,id:"icu:ConversationMerge--explainer-dialog--line-1",components:{conversationTitle,obsoleteConversationTitle}})}),(0,jsx_runtime.jsx)("div",{className:"module-conversation-merge-notification__dialog__text-2",children:(0,jsx_runtime.jsx)(Intl.R,{i18n,id:"icu:ConversationMerge--explainer-dialog--line-2"})})]})}):null]})}},"./ts/components/conversation/DeliveryIssueDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>DeliveryIssueDialog});__webpack_require__("./node_modules/react/index.js");var _Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Button.tsx"),_Modal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/Modal.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Intl.tsx"),_Emojify__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/conversation/Emojify.tsx"),_hooks_useRestoreFocus__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/hooks/useRestoreFocus.ts"),_util_openLinkInWebBrowser__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ts/util/openLinkInWebBrowser.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DeliveryIssueDialog(props){var i18n=props.i18n,inGroup=props.inGroup,sender=props.sender,onClose=props.onClose,focusRef=_slicedToArray((0,_hooks_useRestoreFocus__WEBPACK_IMPORTED_MODULE_5__.H)(),1)[0],footer=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{onClick:function(){return(0,_util_openLinkInWebBrowser__WEBPACK_IMPORTED_MODULE_7__.P)("https://support.signal.org/hc/articles/4404859745690")},size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Medium,variant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.Secondary,children:i18n("icu:DeliveryIssue--learnMore")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{onClick:onClose,ref:focusRef,size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Medium,variant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.Primary,className:"module-delivery-issue-dialog__close-button",children:i18n("icu:Confirmation--confirm")})]}),senderTitle=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Emojify__WEBPACK_IMPORTED_MODULE_4__.u,{text:sender.title});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Modal__WEBPACK_IMPORTED_MODULE_2__.u_,{modalName:"DeliveryIssueDialog",hasXButton:!1,onClose,i18n,modalFooter:footer,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("section",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"module-delivery-issue-dialog__image",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("img",{src:"images/delivery-issue.svg",height:"110",width:"200",alt:""})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"module-delivery-issue-dialog__title",children:i18n("icu:DeliveryIssue--title")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"module-delivery-issue-dialog__description",children:inGroup?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:DeliveryIssue--summary--group",components:{sender:senderTitle},i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:DeliveryIssue--summary",components:{sender:senderTitle},i18n})})]})})}DeliveryIssueDialog.displayName="DeliveryIssueDialog"},"./ts/components/conversation/DeliveryIssueNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>DeliveryIssueNotification});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Button.tsx"),_SystemMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Intl.tsx"),_DeliveryIssueDialog__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/conversation/DeliveryIssueDialog.tsx"),_UserText__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/components/UserText.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function DeliveryIssueNotification(props){var i18n=props.i18n,inGroup=props.inGroup,sender=props.sender,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isDialogOpen=_useState2[0],setIsDialogOpen=_useState2[1],openDialog=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setIsDialogOpen(!0)}),[setIsDialogOpen]),closeDialog=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setIsDialogOpen(!1)}),[setIsDialogOpen]);return sender?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_2__.j,{contents:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:DeliveryIssue--notification",components:{sender:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_UserText__WEBPACK_IMPORTED_MODULE_5__.a,{text:sender.firstName||sender.title})},i18n}),icon:"info",button:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{onClick:openDialog,size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Small,variant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.SystemMessage,children:i18n("icu:DeliveryIssue--learnMore")})}),isDialogOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_DeliveryIssueDialog__WEBPACK_IMPORTED_MODULE_4__.J,{i18n,inGroup,sender,onClose:closeDialog}):null]}):null}},"./ts/components/conversation/GroupNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>GroupNotification});var lodash_flatten__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/flatten.js"),lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_0__),lodash_compact__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_1__),_ContactName__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./ts/components/conversation/ContactName.tsx")),_SystemMessage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/components/Intl.tsx"),_util_missingCaseError__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ts/util/missingCaseError.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");function GroupNotificationChange(_ref){var change=_ref.change,from=_ref.from,i18n=_ref.i18n,contacts=change.contacts,type=change.type,newName=change.newName,otherPeople=lodash_compact__WEBPACK_IMPORTED_MODULE_1___default()((contacts||[]).map((function(contact){return contact.isMe?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:"module-group-notification__contact",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_3__.K,{title:contact.title})},`external-${contact.id}`)}))),otherPeopleWithCommas=lodash_compact__WEBPACK_IMPORTED_MODULE_1___default()(lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default()(otherPeople.map((function(person,index){return[index>0?", ":null,person]})))),contactsIncludesMe=(contacts||[]).length!==otherPeople.length;switch(type){case"name":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:titleIsNow",components:{name:newName||""}});case"avatar":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:updatedGroupAvatar"});case"add":if(!contacts||!contacts.length)throw new Error("Group update is missing contacts");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[otherPeople.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:1===otherPeople.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:joinedTheGroup",components:{name:otherPeopleWithCommas}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:multipleJoinedTheGroup",components:{names:otherPeopleWithCommas}})}),contactsIncludesMe&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"module-group-notification__change",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:youJoinedTheGroup"})})]});case"remove":if(from&&from.isMe)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:i18n("icu:youLeftTheGroup")});if(!contacts||!contacts.length)throw new Error("Group update is missing contacts");return contacts.length>1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{id:"icu:multipleLeftTheGroup",i18n,components:{name:otherPeopleWithCommas}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{id:"icu:leftTheGroup",i18n,components:{name:otherPeopleWithCommas}});case"general":return null;default:throw(0,_util_missingCaseError__WEBPACK_IMPORTED_MODULE_7__.b)(type)}}function GroupNotification(_ref2){var contents,rawChanges=_ref2.changes,i18n=_ref2.i18n,from=_ref2.from,changes=Array.isArray(rawChanges)?rawChanges:[],firstChange=changes[0],isLeftOnly=1===changes.length&&"remove"===(null==firstChange?void 0:firstChange.type),fromLabel=from.isMe?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:youUpdatedTheGroup"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_5__.R,{i18n,id:"icu:updatedTheGroup",components:{name:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_3__.K,{title:from.title})}});return contents=isLeftOnly?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(GroupNotificationChange,{change:firstChange,from,i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p",{children:fromLabel}),changes.map((function(change,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p",{className:"module-group-notification__change",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(GroupNotificationChange,{change,from,i18n})},i)}))]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_4__.j,{contents,icon:"group"})}GroupNotification.displayName="GroupNotification"},"./ts/components/conversation/GroupV1Migration.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>GroupV1Migration});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Button.tsx"),_SystemMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Intl.tsx"),_ContactName__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),_GroupV1MigrationDialog__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/components/GroupV1MigrationDialog.tsx"),_logging_log__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ts/logging/log.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function GroupV1Migration(props){var areWeInvited=props.areWeInvited,conversationId=props.conversationId,droppedMembers=props.droppedMembers,getPreferredBadge=props.getPreferredBadge,i18n=props.i18n,invitedMembers=props.invitedMembers,theme=props.theme,_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),2),showingDialog=_React$useState2[0],setShowingDialog=_React$useState2[1],showDialog=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setShowingDialog(!0)}),[setShowingDialog]),dismissDialog=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setShowingDialog(!1)}),[setShowingDialog]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_2__.j,{icon:"group",contents:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:i18n("icu:GroupV1--Migration--was-upgraded")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:areWeInvited?i18n("icu:GroupV1--Migration--invited--you"):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[renderUsers(invitedMembers,i18n,"invited"),renderUsers(droppedMembers,i18n,"removed")]})})]}),button:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{onClick:showDialog,size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Small,variant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.SystemMessage,children:i18n("icu:GroupV1--Migration--learn-more")})}),showingDialog?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_GroupV1MigrationDialog__WEBPACK_IMPORTED_MODULE_5__.C,{areWeInvited,conversationId,droppedMembers,getPreferredBadge,hasMigrated:!0,i18n,invitedMembers,migrate:function(){return _logging_log__WEBPACK_IMPORTED_MODULE_6__.warn("GroupV1Migration: Modal called migrate()")},onClose:dismissDialog,theme}):null]})}function renderUsers(members,i18n,kind){if(!members||0===members.length)return null;if(1===members.length){var contact=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_4__.K,{title:members[0].title});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("p",{children:["invited"===kind&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{i18n,id:"icu:GroupV1--Migration--invited--one",components:{contact}}),"removed"===kind&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{i18n,id:"icu:GroupV1--Migration--removed--one",components:{contact}})]})}var count=members.length.toString();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("p",{children:["invited"===kind&&members.length>1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{i18n,id:"icu:GroupV1--Migration--invited--many",components:{count}}),"removed"===kind&&members.length>1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{i18n,id:"icu:GroupV1--Migration--removed--many",components:{count}})]})}renderUsers.displayName="renderUsers"},"./ts/components/conversation/GroupV2Change.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>GroupV2Change});var get=__webpack_require__("./node_modules/lodash/get.js"),get_default=__webpack_require__.n(get),react=__webpack_require__("./node_modules/react/index.js"),log=__webpack_require__("./ts/logging/log.ts"),Intl=__webpack_require__("./ts/components/Intl.tsx"),GroupDescriptionText=__webpack_require__("./ts/components/GroupDescriptionText.tsx"),Button=__webpack_require__("./ts/components/Button.tsx"),SystemMessage=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),missingCaseError=__webpack_require__("./ts/util/missingCaseError.ts"),protobuf=__webpack_require__("./ts/protobuf/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AccessControlEnum=protobuf.g.AccessControl.AccessRequired,RoleEnum=protobuf.g.Member.Role;function renderChange(change,options){var details=change.details,from=change.from;return details.flatMap((function(detail){var texts=renderChangeDetail(detail,Object.assign({},options,{from}));return Array.isArray(texts)?texts.map((function(text,index){var isLastText=index===texts.length-1;return{detail,isLastText,text}})):{detail,isLastText:!0,text:texts}}))}function renderChangeDetail(detail,options){var from=options.from,localizer=options.i18n,ourACI=options.ourACI,ourPNI=options.ourPNI,renderContact=options.renderContact,renderString=options.renderString;function i18n(id,components){return renderString(id,localizer,components)}var isOurUuid=function(uuid){return!!uuid&&Boolean(ourACI&&uuid===ourACI||ourPNI&&uuid===ourPNI)},fromYou=isOurUuid(from);if("create"===detail.type)return fromYou?i18n("icu:GroupV2--create--you"):from?i18n("icu:GroupV2--create--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--create--unknown");if("title"===detail.type){var newTitle=detail.newTitle;return newTitle?fromYou?i18n("icu:GroupV2--title--change--you",{newTitle}):from?i18n("icu:GroupV2--title--change--other",{memberName:renderContact(from),newTitle}):i18n("icu:GroupV2--title--change--unknown",{newTitle}):fromYou?i18n("icu:GroupV2--title--remove--you"):from?i18n("icu:GroupV2--title--remove--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--title--remove--unknown")}if("avatar"===detail.type)return detail.removed?fromYou?i18n("icu:GroupV2--avatar--remove--you"):from?i18n("icu:GroupV2--avatar--remove--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--avatar--remove--unknown"):fromYou?i18n("icu:GroupV2--avatar--change--you"):from?i18n("icu:GroupV2--avatar--change--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--avatar--change--unknown");if("access-attributes"===detail.type){var newPrivilege=detail.newPrivilege;return newPrivilege===AccessControlEnum.ADMINISTRATOR?fromYou?i18n("icu:GroupV2--access-attributes--admins--you"):from?i18n("icu:GroupV2--access-attributes--admins--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--access-attributes--admins--unknown"):newPrivilege===AccessControlEnum.MEMBER?fromYou?i18n("icu:GroupV2--access-attributes--all--you"):from?i18n("icu:GroupV2--access-attributes--all--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--access-attributes--all--unknown"):(log.warn(`access-attributes change type, privilege ${newPrivilege} is unknown`),"")}if("access-members"===detail.type){var _newPrivilege=detail.newPrivilege;return _newPrivilege===AccessControlEnum.ADMINISTRATOR?fromYou?i18n("icu:GroupV2--access-members--admins--you"):from?i18n("icu:GroupV2--access-members--admins--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--access-members--admins--unknown"):_newPrivilege===AccessControlEnum.MEMBER?fromYou?i18n("icu:GroupV2--access-members--all--you"):from?i18n("icu:GroupV2--access-members--all--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--access-members--all--unknown"):(log.warn(`access-members change type, privilege ${_newPrivilege} is unknown`),"")}if("access-invite-link"===detail.type){var _newPrivilege2=detail.newPrivilege;return _newPrivilege2===AccessControlEnum.ADMINISTRATOR?fromYou?i18n("icu:GroupV2--access-invite-link--enabled--you"):from?i18n("icu:GroupV2--access-invite-link--enabled--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--access-invite-link--enabled--unknown"):_newPrivilege2===AccessControlEnum.ANY?fromYou?i18n("icu:GroupV2--access-invite-link--disabled--you"):from?i18n("icu:GroupV2--access-invite-link--disabled--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--access-invite-link--disabled--unknown"):(log.warn(`access-invite-link change type, privilege ${_newPrivilege2} is unknown`),"")}if("member-add"===detail.type){var _uuid=detail.uuid;return isOurUuid(_uuid)?fromYou?i18n("icu:GroupV2--member-add--you--you"):from?i18n("icu:GroupV2--member-add--you--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--member-add--you--unknown"):fromYou?i18n("icu:GroupV2--member-add--other--you",{memberName:renderContact(_uuid)}):from?i18n("icu:GroupV2--member-add--other--other",{adderName:renderContact(from),addeeName:renderContact(_uuid)}):i18n("icu:GroupV2--member-add--other--unknown",{memberName:renderContact(_uuid)})}if("member-add-from-invite"===detail.type){var _uuid2=detail.uuid,inviter=detail.inviter,_weAreJoiner=isOurUuid(_uuid2),weAreInviter=isOurUuid(inviter);return from&&from===_uuid2?_weAreJoiner?inviter?i18n("icu:GroupV2--member-add--from-invite--you",{inviterName:renderContact(inviter)}):i18n("icu:GroupV2--member-add--from-invite--you-no-from"):weAreInviter?i18n("icu:GroupV2--member-add--from-invite--from-you",{inviteeName:renderContact(_uuid2)}):inviter?i18n("icu:GroupV2--member-add--from-invite--other",{inviteeName:renderContact(_uuid2),inviterName:renderContact(inviter)}):i18n("icu:GroupV2--member-add--from-invite--other-no-from",{inviteeName:renderContact(_uuid2)}):_weAreJoiner?from?i18n("icu:GroupV2--member-add--you--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--member-add--you--unknown"):fromYou?i18n("icu:GroupV2--member-add--invited--you",{inviteeName:renderContact(_uuid2)}):from?i18n("icu:GroupV2--member-add--invited--other",{memberName:renderContact(from),inviteeName:renderContact(_uuid2)}):i18n("icu:GroupV2--member-add--invited--unknown",{inviteeName:renderContact(_uuid2)})}if("member-add-from-link"===detail.type){var _uuid3=detail.uuid;return fromYou&&isOurUuid(_uuid3)?i18n("icu:GroupV2--member-add-from-link--you--you"):from&&_uuid3===from?i18n("icu:GroupV2--member-add-from-link--other",{memberName:renderContact(from)}):(log.warn("member-add-from-link change type; we have no from!"),i18n("icu:GroupV2--member-add--other--unknown",{memberName:renderContact(_uuid3)}))}if("member-add-from-admin-approval"===detail.type){var _uuid4=detail.uuid;return isOurUuid(_uuid4)?from?i18n("icu:GroupV2--member-add-from-admin-approval--you--other",{adminName:renderContact(from)}):(log.warn("member-add-from-admin-approval change type; we have no from, and we are joiner!"),i18n("icu:GroupV2--member-add-from-admin-approval--you--unknown")):fromYou?i18n("icu:GroupV2--member-add-from-admin-approval--other--you",{joinerName:renderContact(_uuid4)}):from?i18n("icu:GroupV2--member-add-from-admin-approval--other--other",{adminName:renderContact(from),joinerName:renderContact(_uuid4)}):(log.warn("member-add-from-admin-approval change type; we have no from"),i18n("icu:GroupV2--member-add-from-admin-approval--other--unknown",{joinerName:renderContact(_uuid4)}))}if("member-remove"===detail.type){var _uuid5=detail.uuid;return isOurUuid(_uuid5)?fromYou?i18n("icu:GroupV2--member-remove--you--you"):from?i18n("icu:GroupV2--member-remove--you--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--member-remove--you--unknown"):fromYou?i18n("icu:GroupV2--member-remove--other--you",{memberName:renderContact(_uuid5)}):from&&from===_uuid5?i18n("icu:GroupV2--member-remove--other--self",{memberName:renderContact(from)}):from?i18n("icu:GroupV2--member-remove--other--other",{adminName:renderContact(from),memberName:renderContact(_uuid5)}):i18n("icu:GroupV2--member-remove--other--unknown",{memberName:renderContact(_uuid5)})}if("member-privilege"===detail.type){var _uuid6=detail.uuid,_newPrivilege3=detail.newPrivilege,weAreMember=isOurUuid(_uuid6);return _newPrivilege3===RoleEnum.ADMINISTRATOR?weAreMember?from?i18n("icu:GroupV2--member-privilege--promote--you--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--member-privilege--promote--you--unknown"):fromYou?i18n("icu:GroupV2--member-privilege--promote--other--you",{memberName:renderContact(_uuid6)}):from?i18n("icu:GroupV2--member-privilege--promote--other--other",{adminName:renderContact(from),memberName:renderContact(_uuid6)}):i18n("icu:GroupV2--member-privilege--promote--other--unknown",{memberName:renderContact(_uuid6)}):_newPrivilege3===RoleEnum.DEFAULT?weAreMember?from?i18n("icu:GroupV2--member-privilege--demote--you--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--member-privilege--demote--you--unknown"):fromYou?i18n("icu:GroupV2--member-privilege--demote--other--you",{memberName:renderContact(_uuid6)}):from?i18n("icu:GroupV2--member-privilege--demote--other--other",{adminName:renderContact(from),memberName:renderContact(_uuid6)}):i18n("icu:GroupV2--member-privilege--demote--other--unknown",{memberName:renderContact(_uuid6)}):(log.warn(`member-privilege change type, privilege ${_newPrivilege3} is unknown`),"")}if("pending-add-one"===detail.type){var _uuid7=detail.uuid;return isOurUuid(_uuid7)?from?i18n("icu:GroupV2--pending-add--one--you--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--pending-add--one--you--unknown"):fromYou?i18n("icu:GroupV2--pending-add--one--other--you",{inviteeName:renderContact(_uuid7)}):from?i18n("icu:GroupV2--pending-add--one--other--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--pending-add--one--other--unknown")}if("pending-add-many"===detail.type){var count=detail.count;return fromYou?i18n("icu:GroupV2--pending-add--many--you",{count}):from?i18n("icu:GroupV2--pending-add--many--other",{memberName:renderContact(from),count}):i18n("icu:GroupV2--pending-add--many--unknown",{count})}if("pending-remove-one"===detail.type){var _inviter=detail.inviter,_uuid8=detail.uuid,_weAreInviter=isOurUuid(_inviter),_weAreInvited=isOurUuid(_uuid8),sentByInvited=Boolean(from&&from===_uuid8),sentByInviter=Boolean(from&&_inviter&&from===_inviter);return _weAreInviter?sentByInvited?i18n("icu:GroupV2--pending-remove--decline--you",{inviteeName:renderContact(_uuid8)}):fromYou?i18n("icu:GroupV2--pending-remove--revoke-invite-from-you--one--you",{inviteeName:renderContact(_uuid8)}):from?i18n("icu:GroupV2--pending-remove--revoke-invite-from-you--one--other",{adminName:renderContact(from),inviteeName:renderContact(_uuid8)}):i18n("icu:GroupV2--pending-remove--revoke-invite-from-you--one--unknown",{inviteeName:renderContact(_uuid8)}):sentByInvited?fromYou?i18n("icu:GroupV2--pending-remove--decline--from-you"):_inviter?i18n("icu:GroupV2--pending-remove--decline--other",{memberName:renderContact(_inviter)}):i18n("icu:GroupV2--pending-remove--decline--unknown"):_inviter&&sentByInviter?i18n(_weAreInvited?"icu:GroupV2--pending-remove--revoke-own--to-you":"icu:GroupV2--pending-remove--revoke-own--unknown",{inviterName:renderContact(_inviter)}):_inviter?fromYou?i18n("icu:GroupV2--pending-remove--revoke-invite-from--one--you",{memberName:renderContact(_inviter)}):from?i18n("icu:GroupV2--pending-remove--revoke-invite-from--one--other",{adminName:renderContact(from),memberName:renderContact(_inviter)}):i18n("icu:GroupV2--pending-remove--revoke-invite-from--one--unknown",{memberName:renderContact(_inviter)}):fromYou?i18n("icu:GroupV2--pending-remove--revoke--one--you"):from?i18n("icu:GroupV2--pending-remove--revoke--one--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--pending-remove--revoke--one--unknown")}if("pending-remove-many"===detail.type){var _count=detail.count,_inviter2=detail.inviter;return isOurUuid(_inviter2)?fromYou?i18n("icu:GroupV2--pending-remove--revoke-invite-from-you--many--you",{count:_count}):from?i18n("icu:GroupV2--pending-remove--revoke-invite-from-you--many--other",{adminName:renderContact(from),count:_count}):i18n("icu:GroupV2--pending-remove--revoke-invite-from-you--many--unknown",{count:_count}):_inviter2?fromYou?i18n("icu:GroupV2--pending-remove--revoke-invite-from--many--you",{count:_count,memberName:renderContact(_inviter2)}):from?i18n("icu:GroupV2--pending-remove--revoke-invite-from--many--other",{adminName:renderContact(from),count:_count,memberName:renderContact(_inviter2)}):i18n("icu:GroupV2--pending-remove--revoke-invite-from--many--unknown",{count:_count,memberName:renderContact(_inviter2)}):fromYou?i18n("icu:GroupV2--pending-remove--revoke--many--you",{count:_count}):from?i18n("icu:GroupV2--pending-remove--revoke--many--other",{memberName:renderContact(from),count:_count}):i18n("icu:GroupV2--pending-remove--revoke--many--unknown",{count:_count})}if("admin-approval-add-one"===detail.type){var _uuid9=detail.uuid;return isOurUuid(_uuid9)?i18n("icu:GroupV2--admin-approval-add-one--you"):i18n("icu:GroupV2--admin-approval-add-one--other",{joinerName:renderContact(_uuid9)})}if("admin-approval-remove-one"===detail.type){var _uuid10=detail.uuid;return isOurUuid(_uuid10)?i18n(fromYou?"icu:GroupV2--admin-approval-remove-one--you--you":"icu:GroupV2--admin-approval-remove-one--you--unknown"):fromYou?i18n("icu:GroupV2--admin-approval-remove-one--other--you",{joinerName:renderContact(_uuid10)}):from&&from===_uuid10?i18n("icu:GroupV2--admin-approval-remove-one--other--own",{joinerName:renderContact(_uuid10)}):from?i18n("icu:GroupV2--admin-approval-remove-one--other--other",{adminName:renderContact(from),joinerName:renderContact(_uuid10)}):i18n("icu:GroupV2--admin-approval-remove-one--other--own",{joinerName:renderContact(_uuid10)})}if("admin-approval-bounce"===detail.type){var firstMessage,_uuid11=detail.uuid,times=detail.times,isApprovalPending=detail.isApprovalPending;if(firstMessage=1===times?i18n("icu:GroupV2--admin-approval-bounce--one",{joinerName:renderContact(_uuid11)}):i18n("icu:GroupV2--admin-approval-bounce",{joinerName:renderContact(_uuid11),numberOfRequests:times}),!isApprovalPending)return firstMessage;var secondMessage=renderChangeDetail({type:"admin-approval-add-one",uuid:_uuid11},options);return[firstMessage].concat(_toConsumableArray(Array.isArray(secondMessage)?secondMessage:[secondMessage]))}if("group-link-add"===detail.type){var privilege=detail.privilege;return privilege===AccessControlEnum.ADMINISTRATOR?fromYou?i18n("icu:GroupV2--group-link-add--enabled--you"):from?i18n("icu:GroupV2--group-link-add--enabled--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--group-link-add--enabled--unknown"):privilege===AccessControlEnum.ANY?fromYou?i18n("icu:GroupV2--group-link-add--disabled--you"):from?i18n("icu:GroupV2--group-link-add--disabled--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--group-link-add--disabled--unknown"):(log.warn(`group-link-add change type, privilege ${privilege} is unknown`),"")}if("group-link-reset"===detail.type)return fromYou?i18n("icu:GroupV2--group-link-reset--you"):from?i18n("icu:GroupV2--group-link-reset--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--group-link-reset--unknown");if("group-link-remove"===detail.type)return fromYou?i18n("icu:GroupV2--group-link-remove--you"):from?i18n("icu:GroupV2--group-link-remove--other",{adminName:renderContact(from)}):i18n("icu:GroupV2--group-link-remove--unknown");if("description"===detail.type)return detail.removed?fromYou?i18n("icu:GroupV2--description--remove--you"):from?i18n("icu:GroupV2--description--remove--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--description--remove--unknown"):fromYou?i18n("icu:GroupV2--description--change--you"):from?i18n("icu:GroupV2--description--change--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--description--change--unknown");if("announcements-only"===detail.type)return detail.announcementsOnly?fromYou?i18n("icu:GroupV2--announcements--admin--you"):from?i18n("icu:GroupV2--announcements--admin--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--announcements--admin--unknown"):fromYou?i18n("icu:GroupV2--announcements--member--you"):from?i18n("icu:GroupV2--announcements--member--other",{memberName:renderContact(from)}):i18n("icu:GroupV2--announcements--member--unknown");if("summary"===detail.type)return i18n("icu:GroupV2--summary");throw(0,missingCaseError.b)(detail)}var ModalState,Modal=__webpack_require__("./ts/components/Modal.tsx"),ConfirmationDialog=__webpack_require__("./ts/components/ConfirmationDialog.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function GroupV2Change_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return GroupV2Change_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GroupV2Change_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GroupV2Change_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function renderStringToIntl(id,i18n,components){return(0,jsx_runtime.jsx)(Intl.R,{id,i18n,components})}renderStringToIntl.displayName="renderStringToIntl",function(ModalState){ModalState.None="None",ModalState.ViewingGroupDescription="ViewingGroupDescription",ModalState.ConfirmingblockGroupLinkRequests="ConfirmingblockGroupLinkRequests"}(ModalState||(ModalState={}));var changeToIconMap=new Map([["access-attributes","group-access"],["access-invite-link","group-access"],["access-members","group-access"],["admin-approval-add-one","group-add"],["admin-approval-remove-one","group-decline"],["admin-approval-bounce","group-decline"],["announcements-only","group-access"],["avatar","group-avatar"],["description","group-edit"],["group-link-add","group-access"],["group-link-remove","group-access"],["group-link-reset","group-access"],["member-add","group-add"],["member-add-from-admin-approval","group-approved"],["member-add-from-invite","group-add"],["member-add-from-link","group-add"],["member-privilege","group-access"],["member-remove","group-remove"],["pending-add-many","group-add"],["pending-add-one","group-add"],["pending-remove-many","group-decline"],["pending-remove-one","group-decline"],["title","group-edit"]]);function GroupV2Detail(_ref){var buttonNode,modalNode,areWeAdmin=_ref.areWeAdmin,blockGroupLinkRequests=_ref.blockGroupLinkRequests,conversationId=_ref.conversationId,detail=_ref.detail,isLastText=_ref.isLastText,fromId=_ref.fromId,groupMemberships=_ref.groupMemberships,groupBannedMemberships=_ref.groupBannedMemberships,groupName=_ref.groupName,i18n=_ref.i18n,ourACI=_ref.ourACI,ourPNI=_ref.ourPNI,renderContact=_ref.renderContact,text=_ref.text,icon=function getIcon(detail){var isLastText=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fromId=arguments.length>2?arguments[2]:void 0,changeType=detail.type,possibleIcon=changeToIconMap.get(changeType),isSameId=fromId===get_default()(detail,"uuid",null);return isSameId&&("member-remove"===changeType&&(possibleIcon="group-leave"),"member-add-from-invite"===changeType&&(possibleIcon="group-approved")),"admin-approval-bounce"===changeType&&isLastText&&(possibleIcon=void 0),"summary"===changeType&&(possibleIcon="group-summary"),possibleIcon||"group"}(detail,isLastText,fromId),_useState2=_slicedToArray((0,react.useState)(ModalState.None),2),modalState=_useState2[0],setModalState=_useState2[1];switch(modalState){case ModalState.None:modalNode=void 0;break;case ModalState.ViewingGroupDescription:if("description"!==detail.type||!detail.description){log.warn("GroupV2Detail: ViewingGroupDescription but missing description or wrong change type"),modalNode=void 0;break}modalNode=(0,jsx_runtime.jsx)(Modal.u_,{modalName:"GroupV2Change.ViewingGroupDescription",hasXButton:!0,i18n,title:groupName,onClose:function(){return setModalState(ModalState.None)},children:(0,jsx_runtime.jsx)(GroupDescriptionText.F,{text:detail.description})});break;case ModalState.ConfirmingblockGroupLinkRequests:if(!isLastText||"admin-approval-bounce"!==detail.type||!detail.uuid){log.warn("GroupV2Detail: ConfirmingblockGroupLinkRequests but missing uuid or wrong change type"),modalNode=void 0;break}modalNode=(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"GroupV2Change.confirmBlockLinkRequests",title:i18n("icu:PendingRequests--block--title"),actions:[{action:function(){return blockGroupLinkRequests(conversationId,detail.uuid)},text:i18n("icu:PendingRequests--block--confirm"),style:"affirmative"}],i18n,onClose:function(){return setModalState(ModalState.None)},children:(0,jsx_runtime.jsx)(Intl.R,{id:"icu:PendingRequests--block--contents",i18n,components:{name:renderContact(detail.uuid)}})});break;default:var state=modalState;log.warn(`GroupV2Detail: unexpected modal state ${state}`),modalNode=void 0}return"description"===detail.type&&detail.description?buttonNode=(0,jsx_runtime.jsx)(Button.zx,{onClick:function(){return setModalState(ModalState.ViewingGroupDescription)},size:Button.qE.Small,variant:Button.Wu.SystemMessage,children:i18n("icu:view")}):!(isLastText&&"admin-approval-bounce"===detail.type&&areWeAdmin&&detail.uuid&&detail.uuid!==ourACI&&detail.uuid!==ourPNI)||fromId&&fromId!==detail.uuid||null!=groupMemberships&&groupMemberships.some((function(item){return item.uuid===detail.uuid}))||null!=groupBannedMemberships&&groupBannedMemberships.some((function(uuid){return uuid===detail.uuid}))||(buttonNode=(0,jsx_runtime.jsx)(Button.zx,{onClick:function(){return setModalState(ModalState.ConfirmingblockGroupLinkRequests)},size:Button.qE.Small,variant:Button.Wu.SystemMessage,children:i18n("icu:PendingRequests--block--button")})),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SystemMessage.j,{icon,contents:text,button:buttonNode}),modalNode]})}function GroupV2Change(props){var areWeAdmin=props.areWeAdmin,blockGroupLinkRequests=props.blockGroupLinkRequests,change=props.change,conversationId=props.conversationId,groupBannedMemberships=props.groupBannedMemberships,groupMemberships=props.groupMemberships,groupName=props.groupName,i18n=props.i18n,ourACI=props.ourACI,ourPNI=props.ourPNI,renderContact=props.renderContact;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderChange(change,{i18n,ourACI,ourPNI,renderContact,renderString:renderStringToIntl}).map((function(_ref2,index){var detail=_ref2.detail,isLastText=_ref2.isLastText,text=_ref2.text;return(0,jsx_runtime.jsx)(GroupV2Detail,{areWeAdmin,blockGroupLinkRequests,conversationId,detail,isLastText,fromId:change.from,groupBannedMemberships,groupMemberships,groupName,i18n,ourACI,ourPNI,renderContact,text},index)}))})}},"./ts/components/conversation/ProfileChangeNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>ProfileChangeNotification});__webpack_require__("./node_modules/react/index.js");var SystemMessage=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),Emojify=__webpack_require__("./ts/components/conversation/Emojify.tsx");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ProfileChangeNotification(props){var message=function getStringForProfileChange(change,changedContact,i18n){if("name"===change.type)return changedContact.name?i18n("icu:contactChangedProfileName",{sender:changedContact.title,oldProfile:change.oldName,newProfile:change.newName}):i18n("icu:changedProfileName",{oldProfile:change.oldName,newProfile:change.newName});throw new Error("TimelineItem: Unknown type!")}(props.change,props.changedContact,props.i18n);return(0,jsx_runtime.jsx)(SystemMessage.j,{icon:"profile",contents:(0,jsx_runtime.jsx)(Emojify.u,{text:message})})}ProfileChangeNotification.displayName="ProfileChangeNotification"},"./ts/components/conversation/ResetSessionNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>ResetSessionNotification});__webpack_require__("./node_modules/react/index.js");var _SystemMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ResetSessionNotification(_ref){var i18n=_ref.i18n;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_1__.j,{contents:i18n("icu:sessionEnded"),icon:"session-refresh"})}ResetSessionNotification.displayName="ResetSessionNotification"},"./ts/components/conversation/SafetyNumberNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>SafetyNumberNotification});__webpack_require__("./node_modules/react/index.js");var _Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Button.tsx"),_SystemMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_ContactName__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/Intl.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function SafetyNumberNotification(_ref){var contact=_ref.contact,isGroup=_ref.isGroup,i18n=_ref.i18n,toggleSafetyNumberModal=_ref.toggleSafetyNumberModal,name=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:"module-safety-number-notification__contact",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_3__.K,{title:contact.title,module:"module-safety-number-notification__contact"})},"external-1");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_2__.j,{icon:"safety-number",contents:isGroup?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_4__.R,{id:"icu:safetyNumberChangedGroup",components:{name},i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_4__.R,{id:"icu:safetyNumberChanged",i18n}),button:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{onClick:function(){toggleSafetyNumberModal(contact.id)},size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Small,variant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.SystemMessage,children:i18n("icu:SafetyNumberNotification__viewSafetyNumber")})})}SafetyNumberNotification.displayName="SafetyNumberNotification"},"./ts/components/conversation/SystemMessage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>SystemMessageKind,j:()=>SystemMessage});var SystemMessageKind,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");!function(SystemMessageKind){SystemMessageKind.Normal="Normal",SystemMessageKind.Danger="Danger",SystemMessageKind.Error="Error"}(SystemMessageKind||(SystemMessageKind={}));var SystemMessage=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function SystemMessageInner(_ref,ref){var icon=_ref.icon,contents=_ref.contents,button=_ref.button,_ref$kind=_ref.kind,kind=void 0===_ref$kind?SystemMessageKind.Normal:_ref$kind;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("SystemMessage",kind===SystemMessageKind.Danger&&"SystemMessage--danger",kind===SystemMessageKind.Error&&"SystemMessage--error"),ref,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("SystemMessage__contents",`SystemMessage__contents--icon-${icon}`),children:contents}),button&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"SystemMessage__button-container",children:button})]})}))},"./ts/components/conversation/TimelineDateHeader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>TimelineDateHeader});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_util_durations__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/durations/index.ts"),_util_timestamp__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/timestamp.ts"),_Time__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/Time.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TimelineDateHeader(_ref){var _ref$floating=_ref.floating,floating=void 0!==_ref$floating&&_ref$floating,i18n=_ref.i18n,timestamp=_ref.timestamp,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((0,_util_timestamp__WEBPACK_IMPORTED_MODULE_3__.p6)(i18n,timestamp)),2),text=_useState2[0],setText=_useState2[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var update=function(){return setText((0,_util_timestamp__WEBPACK_IMPORTED_MODULE_3__.p6)(i18n,timestamp))};update();var interval=setInterval(update,_util_durations__WEBPACK_IMPORTED_MODULE_2__.EB);return function(){clearInterval(interval)}}),[i18n,timestamp]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Time__WEBPACK_IMPORTED_MODULE_4__.q,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("TimelineDateHeader","TimelineDateHeader--"+(floating?"floating":"inline")),dateOnly:!0,timestamp,children:text})}TimelineDateHeader.displayName="TimelineDateHeader"},"./ts/components/conversation/TimelineItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>TimelineItem});var react=__webpack_require__("./node_modules/react/index.js"),TimelineDateHeader=__webpack_require__("./ts/components/conversation/TimelineDateHeader.tsx"),CallingNotification=__webpack_require__("./ts/components/conversation/CallingNotification.tsx"),ChatSessionRefreshedNotification=__webpack_require__("./ts/components/conversation/ChatSessionRefreshedNotification.tsx"),DeliveryIssueNotification=__webpack_require__("./ts/components/conversation/DeliveryIssueNotification.tsx"),ChangeNumberNotification=__webpack_require__("./ts/components/conversation/ChangeNumberNotification.tsx"),InteractionMode=__webpack_require__("./ts/services/InteractionMode.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function InlineNotificationWrapper(_ref){var id=_ref.id,conversationId=_ref.conversationId,isTargeted=_ref.isTargeted,targetMessage=_ref.targetMessage,children=_ref.children,focusRef=(0,react.useRef)(null);(0,react.useEffect)((function(){if(isTargeted){var container=focusRef.current;container&&!container.contains(document.activeElement)&&container.focus()}}),[isTargeted]);var handleFocus=(0,react.useCallback)((function(){"keyboard"===(0,InteractionMode.G)()&&targetMessage(id,conversationId)}),[id,conversationId,targetMessage]);return(0,jsx_runtime.jsx)("div",{className:"module-inline-notification-wrapper",tabIndex:0,ref:focusRef,onFocus:handleFocus,children})}InlineNotificationWrapper.displayName="InlineNotificationWrapper";var UnsupportedMessage=__webpack_require__("./ts/components/conversation/UnsupportedMessage.tsx"),TimerNotification=__webpack_require__("./ts/components/conversation/TimerNotification.tsx"),SafetyNumberNotification=__webpack_require__("./ts/components/conversation/SafetyNumberNotification.tsx"),VerificationNotification=__webpack_require__("./ts/components/conversation/VerificationNotification.tsx"),GroupNotification=__webpack_require__("./ts/components/conversation/GroupNotification.tsx"),GroupV2Change=__webpack_require__("./ts/components/conversation/GroupV2Change.tsx"),GroupV1Migration=__webpack_require__("./ts/components/conversation/GroupV1Migration.tsx"),ResetSessionNotification=__webpack_require__("./ts/components/conversation/ResetSessionNotification.tsx"),ProfileChangeNotification=__webpack_require__("./ts/components/conversation/ProfileChangeNotification.tsx"),SystemMessage=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),Emojify=__webpack_require__("./ts/components/conversation/Emojify.tsx"),helpers=__webpack_require__("./ts/messages/helpers.ts");function PaymentEventNotification(props){var event=props.event,sender=props.sender,conversation=props.conversation,i18n=props.i18n,message=(0,helpers.rW)(event,sender.title,conversation.title,sender.isMe,i18n);return(0,jsx_runtime.jsx)(SystemMessage.j,{icon:"payment-event",contents:(0,jsx_runtime.jsx)(Emojify.u,{text:message})})}PaymentEventNotification.displayName="PaymentEventNotification";var ConversationMergeNotification=__webpack_require__("./ts/components/conversation/ConversationMergeNotification.tsx"),TimelineMessage=__webpack_require__("./ts/components/conversation/TimelineMessage.tsx"),_excluded=["containerElementRef","conversationId","getPreferredBadge","i18n","id","isNextItemCallingNotification","isTargeted","item","platform","renderUniversalTimerNotification","returnToActiveCall","targetMessage","setMessageToEdit","shouldCollapseAbove","shouldCollapseBelow","shouldHideMetadata","shouldRenderDateHeader","startCallingLobby","theme"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var TimelineItem=(0,react.memo)((function TimelineItem(_ref){var itemContents,containerElementRef=_ref.containerElementRef,conversationId=_ref.conversationId,getPreferredBadge=_ref.getPreferredBadge,i18n=_ref.i18n,id=_ref.id,isNextItemCallingNotification=_ref.isNextItemCallingNotification,isTargeted=_ref.isTargeted,item=_ref.item,platform=_ref.platform,renderUniversalTimerNotification=_ref.renderUniversalTimerNotification,returnToActiveCall=_ref.returnToActiveCall,targetMessage=_ref.targetMessage,setMessageToEdit=_ref.setMessageToEdit,shouldCollapseAbove=_ref.shouldCollapseAbove,shouldCollapseBelow=_ref.shouldCollapseBelow,shouldHideMetadata=_ref.shouldHideMetadata,shouldRenderDateHeader=_ref.shouldRenderDateHeader,startCallingLobby=_ref.startCallingLobby,theme=_ref.theme,reducedProps=_objectWithoutProperties(_ref,_excluded);if(!item)return null;if("message"===item.type)itemContents=(0,jsx_runtime.jsx)(TimelineMessage.M,Object.assign({},reducedProps,item.data,{isTargeted,targetMessage,setMessageToEdit,shouldCollapseAbove,shouldCollapseBelow,shouldHideMetadata,containerElementRef,getPreferredBadge,platform,i18n,theme}));else{var notification;if("unsupportedMessage"===item.type)notification=(0,jsx_runtime.jsx)(UnsupportedMessage.O,Object.assign({},reducedProps,item.data,{i18n}));else if("callHistory"===item.type)notification=(0,jsx_runtime.jsx)(CallingNotification.X,Object.assign({conversationId,i18n,isNextItemCallingNotification,returnToActiveCall,startCallingLobby},item.data));else if("chatSessionRefreshed"===item.type)notification=(0,jsx_runtime.jsx)(ChatSessionRefreshedNotification.C,Object.assign({},reducedProps,{i18n}));else if("deliveryIssue"===item.type)notification=(0,jsx_runtime.jsx)(DeliveryIssueNotification.B,Object.assign({},item.data,reducedProps,{i18n}));else if("timerNotification"===item.type)notification=(0,jsx_runtime.jsx)(TimerNotification.Q,Object.assign({},reducedProps,item.data,{i18n}));else if("universalTimerNotification"===item.type)notification=renderUniversalTimerNotification();else if("contactRemovedNotification"===item.type)notification=(0,jsx_runtime.jsx)(SystemMessage.j,{icon:"info",contents:i18n("icu:ContactRemovedNotification__text")});else if("changeNumberNotification"===item.type)notification=(0,jsx_runtime.jsx)(ChangeNumberNotification.W,Object.assign({},reducedProps,item.data,{i18n}));else if("safetyNumberNotification"===item.type)notification=(0,jsx_runtime.jsx)(SafetyNumberNotification.b,Object.assign({},reducedProps,item.data,{i18n}));else if("verificationNotification"===item.type)notification=(0,jsx_runtime.jsx)(VerificationNotification.u,Object.assign({},reducedProps,item.data,{i18n}));else if("groupNotification"===item.type)notification=(0,jsx_runtime.jsx)(GroupNotification.x,Object.assign({},reducedProps,item.data,{i18n}));else if("groupV2Change"===item.type)notification=(0,jsx_runtime.jsx)(GroupV2Change.d,Object.assign({},reducedProps,item.data,{i18n}));else if("groupV1Migration"===item.type)notification=(0,jsx_runtime.jsx)(GroupV1Migration.m,Object.assign({},reducedProps,item.data,{i18n,getPreferredBadge,theme}));else if("conversationMerge"===item.type)notification=(0,jsx_runtime.jsx)(ConversationMergeNotification.D,Object.assign({},reducedProps,item.data,{i18n}));else if("resetSessionNotification"===item.type)notification=(0,jsx_runtime.jsx)(ResetSessionNotification.O,Object.assign({},reducedProps,{i18n}));else if("profileChange"===item.type)notification=(0,jsx_runtime.jsx)(ProfileChangeNotification.o,Object.assign({},reducedProps,item.data,{i18n}));else{if("paymentEvent"!==item.type)throw new Error(`TimelineItem: Unknown type: ${item.type}`);notification=(0,jsx_runtime.jsx)(PaymentEventNotification,Object.assign({},reducedProps,item.data,{i18n}))}itemContents=(0,jsx_runtime.jsx)(InlineNotificationWrapper,{id,conversationId,isTargeted,targetMessage,children:notification})}return shouldRenderDateHeader?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TimelineDateHeader.e,{i18n,timestamp:item.timestamp}),itemContents]}):itemContents}))},"./ts/components/conversation/TimerNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>TimerNotification});__webpack_require__("./node_modules/react/index.js");var _ContactName__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),_SystemMessage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Intl.tsx"),_util_expirationTimer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/util/expirationTimer.ts"),_logging_log__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/logging/log.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");function TimerNotification(props){var timespan,disabled=props.disabled,i18n=props.i18n,title=props.title,type=props.type;timespan=props.disabled?"":_util_expirationTimer__WEBPACK_IMPORTED_MODULE_4__.WU(i18n,props.expireTimer);var message,name=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_1__.K,{title},"external-1");switch(type){case"fromOther":message=props.disabled?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{i18n,id:"icu:disabledDisappearingMessages",components:{name}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{i18n,id:"icu:theyChangedTheTimer",components:{name,time:timespan}});break;case"fromMe":message=disabled?i18n("icu:youDisabledDisappearingMessages"):i18n("icu:youChangedTheTimer",{time:timespan});break;case"fromSync":message=disabled?i18n("icu:disappearingMessagesDisabled"):i18n("icu:timerSetOnSync",{time:timespan});break;case"fromMember":message=disabled?i18n("icu:disappearingMessagesDisabledByMember"):i18n("icu:timerSetByMember",{time:timespan});break;default:_logging_log__WEBPACK_IMPORTED_MODULE_5__.warn("TimerNotification: unsupported type provided:",type)}var icon=disabled?"timer-disabled":"timer";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_2__.j,{icon,contents:message})}TimerNotification.displayName="TimerNotification"},"./ts/components/conversation/UnsupportedMessage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>UnsupportedMessage});__webpack_require__("./node_modules/react/index.js");var _SystemMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/Button.tsx"),_ContactName__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/Intl.tsx"),_util_openLinkInWebBrowser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ts/util/openLinkInWebBrowser.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function UnsupportedMessageContents(_ref){var canProcessNow=_ref.canProcessNow,contact=_ref.contact,i18n=_ref.i18n,isMe=contact.isMe,contactName=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:"module-unsupported-message__contact",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_3__.K,{title:contact.title,module:"module-unsupported-message__contact"})},"external-1");return isMe?canProcessNow?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_4__.R,{id:"icu:Message--unsupported-message-ask-to-resend",components:{contact:contactName},i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_4__.R,{id:"icu:Message--from-me-unsupported-message",i18n}):canProcessNow?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_4__.R,{id:"icu:Message--from-me-unsupported-message-ask-to-resend",i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_4__.R,{id:"icu:Message--unsupported-message",i18n,components:{contact:contactName}})}function UnsupportedMessage(_ref2){var canProcessNow=_ref2.canProcessNow,contact=_ref2.contact,i18n=_ref2.i18n;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_1__.j,{icon:canProcessNow?"unsupported--can-process":"unsupported",contents:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(UnsupportedMessageContents,{canProcessNow,contact,i18n}),button:canProcessNow?void 0:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"SystemMessage__line",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.zx,{onClick:function(){(0,_util_openLinkInWebBrowser__WEBPACK_IMPORTED_MODULE_6__.P)("https://signal.org/download")},size:_Button__WEBPACK_IMPORTED_MODULE_2__.qE.Small,variant:_Button__WEBPACK_IMPORTED_MODULE_2__.Wu.SystemMessage,children:i18n("icu:Message--update-signal")})})})}UnsupportedMessageContents.displayName="UnsupportedMessageContents",UnsupportedMessage.displayName="UnsupportedMessage"},"./ts/components/conversation/VerificationNotification.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>VerificationNotification});__webpack_require__("./node_modules/react/index.js");var _SystemMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversation/SystemMessage.tsx"),_ContactName__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),_Intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Intl.tsx"),_util_missingCaseError__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/util/missingCaseError.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function VerificationNotificationContents(_ref){var contact=_ref.contact,isLocal=_ref.isLocal,type=_ref.type,i18n=_ref.i18n,name=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ContactName__WEBPACK_IMPORTED_MODULE_2__.K,{title:contact.title,module:"module-verification-notification__contact"},"external-1");switch(type){case"markVerified":return isLocal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:youMarkedAsVerified",components:{name},i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:youMarkedAsVerifiedOtherDevice",components:{name},i18n});case"markNotVerified":return isLocal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:youMarkedAsNotVerified",components:{name},i18n}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Intl__WEBPACK_IMPORTED_MODULE_3__.R,{id:"icu:youMarkedAsNotVerifiedOtherDevice",components:{name},i18n});default:throw(0,_util_missingCaseError__WEBPACK_IMPORTED_MODULE_5__.b)(type)}}function VerificationNotification(props){var type=props.type;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SystemMessage__WEBPACK_IMPORTED_MODULE_1__.j,{icon:"markVerified"===type?"verified":"verified-not",contents:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(VerificationNotificationContents,Object.assign({},props))})}VerificationNotification.displayName="VerificationNotification"},"./ts/services/InteractionMode.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>getInteractionMode});var interactionMode="mouse";function getInteractionMode(){return interactionMode}},"./ts/types/Calling.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var CallMode,CallViewMode,CallState,CallEndedReason,GroupCallConnectionState,GroupCallJoinState,CallingDeviceType;__webpack_require__.d(__webpack_exports__,{$B:()=>CallingDeviceType,GT:()=>GroupCallJoinState,KQ:()=>CallEndedReason,L6:()=>CallMode,OX:()=>CallState,mB:()=>GroupCallConnectionState,pC:()=>CallViewMode}),function(CallMode){CallMode.None="None",CallMode.Direct="Direct",CallMode.Group="Group"}(CallMode||(CallMode={})),function(CallViewMode){CallViewMode.Grid="Grid",CallViewMode.Speaker="Speaker",CallViewMode.Presentation="Presentation"}(CallViewMode||(CallViewMode={})),function(CallState){CallState.Prering="idle",CallState.Ringing="ringing",CallState.Accepted="connected",CallState.Reconnecting="connecting",CallState.Ended="ended"}(CallState||(CallState={})),function(CallEndedReason){CallEndedReason.LocalHangup="LocalHangup",CallEndedReason.RemoteHangup="RemoteHangup",CallEndedReason.RemoteHangupNeedPermission="RemoteHangupNeedPermission",CallEndedReason.Declined="Declined",CallEndedReason.Busy="Busy",CallEndedReason.Glare="Glare",CallEndedReason.ReCall="ReCall",CallEndedReason.ReceivedOfferExpired="ReceivedOfferExpired",CallEndedReason.ReceivedOfferWhileActive="ReceivedOfferWhileActive",CallEndedReason.ReceivedOfferWithGlare="ReceivedOfferWithGlare",CallEndedReason.SignalingFailure="SignalingFailure",CallEndedReason.GlareFailure="GlareFailure",CallEndedReason.ConnectionFailure="ConnectionFailure",CallEndedReason.InternalFailure="InternalFailure",CallEndedReason.Timeout="Timeout",CallEndedReason.AcceptedOnAnotherDevice="AcceptedOnAnotherDevice",CallEndedReason.DeclinedOnAnotherDevice="DeclinedOnAnotherDevice",CallEndedReason.BusyOnAnotherDevice="BusyOnAnotherDevice",CallEndedReason.CallerIsNotMultiring="CallerIsNotMultiring"}(CallEndedReason||(CallEndedReason={})),function(GroupCallConnectionState){GroupCallConnectionState[GroupCallConnectionState.NotConnected=0]="NotConnected",GroupCallConnectionState[GroupCallConnectionState.Connecting=1]="Connecting",GroupCallConnectionState[GroupCallConnectionState.Connected=2]="Connected",GroupCallConnectionState[GroupCallConnectionState.Reconnecting=3]="Reconnecting"}(GroupCallConnectionState||(GroupCallConnectionState={})),function(GroupCallJoinState){GroupCallJoinState[GroupCallJoinState.NotJoined=0]="NotJoined",GroupCallJoinState[GroupCallJoinState.Joining=1]="Joining",GroupCallJoinState[GroupCallJoinState.Joined=2]="Joined"}(GroupCallJoinState||(GroupCallJoinState={})),function(CallingDeviceType){CallingDeviceType[CallingDeviceType.CAMERA=0]="CAMERA",CallingDeviceType[CallingDeviceType.MICROPHONE=1]="MICROPHONE",CallingDeviceType[CallingDeviceType.SPEAKER=2]="SPEAKER"}(CallingDeviceType||(CallingDeviceType={}))},"./ts/util/expirationTimer.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UD:()=>DEFAULT_DURATIONS_IN_SECONDS,WU:()=>format,h5:()=>DEFAULT_DURATIONS_SET});__webpack_require__("./node_modules/lodash/isNumber.js");var humanize_duration__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/humanize-duration/humanize-duration.js"),humanize_duration__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(humanize_duration__WEBPACK_IMPORTED_MODULE_1__),_durations__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/durations/index.ts"),DEFAULT_DURATIONS_IN_SECONDS=[_durations__WEBPACK_IMPORTED_MODULE_2__.kC.ZERO,_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromWeeks(4),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromWeeks(1),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromDays(1),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromHours(8),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromHours(1),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromMinutes(5),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromSeconds(30)],DEFAULT_DURATIONS_SET=new Set(DEFAULT_DURATIONS_IN_SECONDS);function format(i18n,dirtySeconds){var _ref=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref$capitalizeOff=_ref.capitalizeOff,capitalizeOff=void 0!==_ref$capitalizeOff&&_ref$capitalizeOff,largest=_ref.largest,seconds=Math.abs(dirtySeconds||0);if(!seconds)return i18n(capitalizeOff?"icu:off":"icu:disappearingMessages__off");seconds=Math.max(Math.floor(seconds),1);var locale=i18n.getLocale().replace(/-/g,"_"),localeWithoutRegion=locale.split("_",1)[0],fallbacks=[];localeWithoutRegion!==locale&&fallbacks.push(localeWithoutRegion),"nb"!==localeWithoutRegion&&"nn"!==localeWithoutRegion||fallbacks.push("no"),"en"!==localeWithoutRegion&&fallbacks.push("en"),"zh_HK"===locale&&fallbacks.push("zh_TW");var allUnits=["y","mo","w","d","h","m","s"],defaultUnits=seconds%604800==0?["w"]:["d","h","m","s"];return humanize_duration__WEBPACK_IMPORTED_MODULE_1___default()(seconds*_durations__WEBPACK_IMPORTED_MODULE_2__.sh,Object.assign({units:largest?allUnits:defaultUnits,largest,language:locale},fallbacks.length?{fallbacks}:{}))}},"./ts/util/sortByTitle.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function sortByTitle(arr){return _toConsumableArray(arr).sort((function(a,b){return a.title.localeCompare(b.title)}))}__webpack_require__.d(__webpack_exports__,{m:()=>sortByTitle})}}]);