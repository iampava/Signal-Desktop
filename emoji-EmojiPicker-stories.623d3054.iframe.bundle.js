/*! For license information please see emoji-EmojiPicker-stories.623d3054.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[9418,3905],{"./ts/components/emoji/Emoji.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>Emoji,g:()=>EmojiSizes});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/emoji/lib.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),EmojiSizes=[16,18,20,24,28,32,48,64,66],Emoji=react__WEBPACK_IMPORTED_MODULE_0__.memo(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var className=_ref.className,emoji=_ref.emoji,shortName=_ref.shortName,_ref$size=_ref.size,size=void 0===_ref$size?28:_ref$size,skinTone=_ref.skinTone,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,title=_ref.title,image="";return shortName?image=(0,_lib__WEBPACK_IMPORTED_MODULE_2__.al)(shortName,skinTone):emoji&&(image=(0,_lib__WEBPACK_IMPORTED_MODULE_2__.rl)(emoji)||""),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{ref,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-emoji",`module-emoji--${size}px`,className),style,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{className:`module-emoji__image--${size}px`,src:image,"aria-label":null!=title?title:emoji,title:null!=title?title:emoji})})})))},"./ts/components/emoji/EmojiPicker.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Base:()=>Base,NoRecents:()=>NoRecents,WithSettingsButton:()=>WithSettingsButton,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_util_setupI18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/setupI18n.ts"),_locales_en_messages_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./_locales/en/messages.json"),_EmojiPicker__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/emoji/EmojiPicker.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),i18n=(0,_util_setupI18n__WEBPACK_IMPORTED_MODULE_2__.E5)("en",_locales_en_messages_json__WEBPACK_IMPORTED_MODULE_3__);const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Emoji/EmojiPicker"};function Base(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_EmojiPicker__WEBPACK_IMPORTED_MODULE_4__.h,{i18n,onPickEmoji:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onPickEmoji"),onSetSkinTone:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onSetSkinTone"),onClose:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onClose"),skinTone:0,recentEmojis:["grinning","grin","joy","rolling_on_the_floor_laughing","smiley","smile","sweat_smile","laughing","wink","blush","yum","sunglasses","heart_eyes","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","relaxed","slightly_smiling_face","hugging_face","grinning_face_with_star_eyes","thinking_face","face_with_one_eyebrow_raised","neutral_face","expressionless","no_mouth","face_with_rolling_eyes","smirk","persevere","disappointed_relieved","open_mouth","zipper_mouth_face"]})}function NoRecents(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_EmojiPicker__WEBPACK_IMPORTED_MODULE_4__.h,{i18n,onPickEmoji:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onPickEmoji"),onSetSkinTone:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onSetSkinTone"),onClose:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onClose"),skinTone:0,recentEmojis:[]})}function WithSettingsButton(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_EmojiPicker__WEBPACK_IMPORTED_MODULE_4__.h,{i18n,onPickEmoji:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onPickEmoji"),onSetSkinTone:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onSetSkinTone"),onClickSettings:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onClickSettings"),onClose:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.action)("onClose"),skinTone:0,recentEmojis:[]})}Base.displayName="Base",NoRecents.displayName="NoRecents",WithSettingsButton.displayName="WithSettingsButton",WithSettingsButton.story={name:"With settings button"};var __namedExportsOrder=["Base","NoRecents","WithSettingsButton"]},"./ts/components/emoji/EmojiPicker.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>EmojiPicker});var lodash_zipObject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/zipObject.js"),lodash_zipObject__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_zipObject__WEBPACK_IMPORTED_MODULE_0__),lodash_last__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/last.js"),lodash_last__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_1__),lodash_initial__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/initial.js"),lodash_initial__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_initial__WEBPACK_IMPORTED_MODULE_2__),lodash_flatMap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/flatMap.js"),lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_3__),lodash_findLast__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash/findLast.js"),lodash_findLast__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_findLast__WEBPACK_IMPORTED_MODULE_4__),lodash_debounce__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash/debounce.js"),lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_5__),lodash_clamp__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash/clamp.js"),lodash_clamp__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_clamp__WEBPACK_IMPORTED_MODULE_6__),lodash_chunk__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/lodash/chunk.js"),lodash_chunk__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__),react_virtualized__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-virtualized/dist/es/index.js"),focus_trap_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/focus-trap-react/dist/focus-trap-react.js"),focus_trap_react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(focus_trap_react__WEBPACK_IMPORTED_MODULE_11__),_Emoji__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ts/components/emoji/Emoji.tsx"),_lib__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./ts/components/emoji/lib.ts"),_util_grapheme__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./ts/util/grapheme.ts"),_util_missingCaseError__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./ts/util/missingCaseError.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function focusOnRender(el){el&&el.focus()}var categories=["recents","emoji","animal","food","activity","travel","object","symbol","flag"],EmojiPicker=react__WEBPACK_IMPORTED_MODULE_8__.memo(react__WEBPACK_IMPORTED_MODULE_8__.forwardRef((function(_ref,ref){var i18n=_ref.i18n,doSend=_ref.doSend,onPickEmoji=_ref.onPickEmoji,_ref$skinTone=_ref.skinTone,skinTone=void 0===_ref$skinTone?0:_ref$skinTone,onSetSkinTone=_ref.onSetSkinTone,_ref$recentEmojis=_ref.recentEmojis,recentEmojis=void 0===_ref$recentEmojis?[]:_ref$recentEmojis,style=_ref.style,onClickSettings=_ref.onClickSettings,onClose=_ref.onClose,firstRecent=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_8__.useState(recentEmojis),1)[0],_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_8__.useState(categories[0]),2),selectedCategory=_React$useState4[0],setSelectedCategory=_React$useState4[1],_React$useState6=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_8__.useState(!1),2),searchMode=_React$useState6[0],setSearchMode=_React$useState6[1],_React$useState8=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_8__.useState(""),2),searchText=_React$useState8[0],setSearchText=_React$useState8[1],_React$useState10=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_8__.useState(0),2),scrollToRow=_React$useState10[0],setScrollToRow=_React$useState10[1],_React$useState12=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_8__.useState(skinTone),2),selectedTone=_React$useState12[0],setSelectedTone=_React$useState12[1],handleToggleSearch=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(e){e.stopPropagation(),e.preventDefault(),setSearchText(""),setSelectedCategory(categories[0]),setSearchMode((function(m){return!m}))}),[setSearchText,setSearchMode]),debounceSearchChange=react__WEBPACK_IMPORTED_MODULE_8__.useMemo((function(){return lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default()((function(query){setScrollToRow(0),setSearchText(query)}),200)}),[setSearchText,setScrollToRow]),handleSearchChange=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(e){debounceSearchChange(e.currentTarget.value)}),[debounceSearchChange]),handlePickTone=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(e){e.preventDefault(),e.stopPropagation();var _e$currentTarget$data=e.currentTarget.dataset.tone,parsedTone=parseInt(void 0===_e$currentTarget$data?"0":_e$currentTarget$data,10);setSelectedTone(parsedTone),onSetSkinTone&&onSetSkinTone(parsedTone)}),[onSetSkinTone]),handlePickEmoji=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(e){var shortName=e.currentTarget.dataset.shortName;"key"in e?"Enter"===e.key&&(doSend?(doSend(),e.stopPropagation(),e.preventDefault()):shortName&&(onPickEmoji({skinTone:selectedTone,shortName}),e.stopPropagation(),e.preventDefault())):shortName&&(e.stopPropagation(),e.preventDefault(),onPickEmoji({skinTone:selectedTone,shortName}))}),[doSend,onPickEmoji,selectedTone]);react__WEBPACK_IMPORTED_MODULE_8__.useEffect((function(){var handler=function(event){"Escape"===event.key?searchMode?(event.preventDefault(),event.stopPropagation(),setScrollToRow(0),setSearchText(""),setSearchMode(!1)):onClose&&(event.preventDefault(),event.stopPropagation(),onClose()):searchMode||event.ctrlKey||event.metaKey||["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Shift","Tab"," "].includes(event.key)||((0,_util_grapheme__WEBPACK_IMPORTED_MODULE_14__.i3)(event.key)?(setSelectedCategory(categories[0]),setSearchMode(!0)):(null==onClose||onClose(),event.preventDefault(),event.stopPropagation()))};return document.addEventListener("keydown",handler),function(){document.removeEventListener("keydown",handler)}}),[onClose,searchMode,setSearchMode]);var renderableCategories=categories.slice(1),emojiGrid=react__WEBPACK_IMPORTED_MODULE_8__.useMemo((function(){if(searchText)return lodash_chunk__WEBPACK_IMPORTED_MODULE_7___default()((0,_lib__WEBPACK_IMPORTED_MODULE_13__.yC)(searchText).map((function(e){return e.short_name})),8);var chunks=lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default()(renderableCategories,(function(cat){return lodash_chunk__WEBPACK_IMPORTED_MODULE_7___default()(_lib__WEBPACK_IMPORTED_MODULE_13__.lu[cat].map((function(e){return e.short_name})),8)}));return[].concat(_toConsumableArray(lodash_chunk__WEBPACK_IMPORTED_MODULE_7___default()(firstRecent,8)),_toConsumableArray(chunks))}),[firstRecent,renderableCategories,searchText]),rowCount=emojiGrid.length,catRowEnds=react__WEBPACK_IMPORTED_MODULE_8__.useMemo((function(){var rowEnds=[Math.ceil(firstRecent.length/8)-1];return renderableCategories.forEach((function(cat){rowEnds.push(Math.ceil(_lib__WEBPACK_IMPORTED_MODULE_13__.lu[cat].length/8)+lodash_last__WEBPACK_IMPORTED_MODULE_1___default()(rowEnds))})),rowEnds}),[firstRecent.length,renderableCategories]),catToRowOffsets=react__WEBPACK_IMPORTED_MODULE_8__.useMemo((function(){var offsets=lodash_initial__WEBPACK_IMPORTED_MODULE_2___default()(catRowEnds).map((function(i){return i+1}));return lodash_zipObject__WEBPACK_IMPORTED_MODULE_0___default()(categories,[0].concat(_toConsumableArray(offsets)))}),[catRowEnds]),catOffsetEntries=react__WEBPACK_IMPORTED_MODULE_8__.useMemo((function(){return Object.entries(catToRowOffsets)}),[catToRowOffsets]),handleSelectCategory=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(e){e.stopPropagation(),e.preventDefault();var category=e.currentTarget.dataset.category;category&&(setSelectedCategory(category),setScrollToRow(catToRowOffsets[category]))}),[catToRowOffsets,setSelectedCategory,setScrollToRow]),cellRenderer=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(_ref2){var key=_ref2.key,cellStyle=_ref2.style,rowIndex=_ref2.rowIndex,columnIndex=_ref2.columnIndex,shortName=emojiGrid[rowIndex][columnIndex];return shortName?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"module-emoji-picker__body__emoji-cell",style:cellStyle,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{type:"button",className:"module-emoji-picker__button",onClick:handlePickEmoji,onKeyDown:handlePickEmoji,"data-short-name":shortName,title:shortName,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Emoji__WEBPACK_IMPORTED_MODULE_12__.d,{shortName,skinTone:selectedTone})})},key):null}),[emojiGrid,handlePickEmoji,selectedTone]),getRowHeight=react__WEBPACK_IMPORTED_MODULE_8__.useCallback((function(_ref3){var index=_ref3.index;return searchText?34:catRowEnds.includes(index)&&index!==lodash_last__WEBPACK_IMPORTED_MODULE_1___default()(catRowEnds)?44:34}),[catRowEnds,searchText]),onSectionRendered=react__WEBPACK_IMPORTED_MODULE_8__.useMemo((function(){return lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default()((function(_ref4){var rowStartIndex=_ref4.rowStartIndex,_ref5=lodash_findLast__WEBPACK_IMPORTED_MODULE_4___default()(catOffsetEntries,(function(_ref7){var row=_slicedToArray(_ref7,2)[1];return rowStartIndex>=row}))||categories,cat=_slicedToArray(_ref5,1)[0];setSelectedCategory(cat)}),10)}),[catOffsetEntries]);function getCategoryButtonLabel(category){switch(category){case"recents":return i18n("icu:EmojiPicker__button--recents");case"emoji":return i18n("icu:EmojiPicker__button--emoji");case"animal":return i18n("icu:EmojiPicker__button--animal");case"food":return i18n("icu:EmojiPicker__button--food");case"activity":return i18n("icu:EmojiPicker__button--activity");case"travel":return i18n("icu:EmojiPicker__button--travel");case"object":return i18n("icu:EmojiPicker__button--object");case"symbol":return i18n("icu:EmojiPicker__button--symbol");case"flag":return i18n("icu:EmojiPicker__button--flag");default:throw(0,_util_missingCaseError__WEBPACK_IMPORTED_MODULE_16__.b)(category)}}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(focus_trap_react__WEBPACK_IMPORTED_MODULE_11___default(),{focusTrapOptions:{allowOutsideClick:!0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{className:"module-emoji-picker",ref,style,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("header",{className:"module-emoji-picker__header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{type:"button",onClick:handleToggleSearch,onKeyDown:function(event){"Enter"!==event.key&&"Select"!==event.key||handleToggleSearch(event)},title:i18n(searchMode?"icu:EmojiPicker--search-close":"icu:EmojiPicker--search-placeholder"),className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("module-emoji-picker__button","module-emoji-picker__button--icon",searchMode?"module-emoji-picker__button--icon--close":"module-emoji-picker__button--icon--search"),"aria-label":i18n("icu:EmojiPicker--search-placeholder")}),searchMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"module-emoji-picker__header__search-field",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("input",{ref:focusOnRender,className:"module-emoji-picker__header__search-field__input",placeholder:i18n("icu:EmojiPicker--search-placeholder"),onChange:handleSearchChange,dir:"auto"})}):categories.map((function(cat){return"recents"===cat&&0===firstRecent.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{type:"button","data-category":cat,title:cat,onClick:handleSelectCategory,onKeyDown:function(event){"Enter"!==event.key&&"Space"!==event.key||handleSelectCategory(event)},className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("module-emoji-picker__button","module-emoji-picker__button--icon",`module-emoji-picker__button--icon--${cat}`,selectedCategory===cat?"module-emoji-picker__button--selected":null),"aria-label":getCategoryButtonLabel(cat)},cat)}))]}),rowCount>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_virtualized__WEBPACK_IMPORTED_MODULE_10__.qj,{children:function(_ref9){var width=_ref9.width,height=_ref9.height;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_virtualized__WEBPACK_IMPORTED_MODULE_10__.rj,{className:"module-emoji-picker__body",width,height,columnCount:8,columnWidth:38,rowHeight:getRowHeight,rowCount,cellRenderer,scrollToRow:lodash_clamp__WEBPACK_IMPORTED_MODULE_6___default()(scrollToRow,0,rowCount-1),scrollToAlignment:"start",onSectionRendered},searchText)}})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("module-emoji-picker__body","module-emoji-picker__body--empty"),children:[i18n("icu:EmojiPicker--empty"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Emoji__WEBPACK_IMPORTED_MODULE_12__.d,{shortName:"slightly_frowning_face",size:16,style:{marginInlineStart:"4px"}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("footer",{className:"module-emoji-picker__footer",children:[Boolean(onClickSettings)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{"aria-label":i18n("icu:CustomizingPreferredReactions__title"),className:"module-emoji-picker__button module-emoji-picker__button--footer module-emoji-picker__button--settings",onClick:function(event){onClickSettings&&(event.preventDefault(),event.stopPropagation(),onClickSettings())},onKeyDown:function(event){!onClickSettings||"Enter"!==event.key&&"Space"!==event.key||(event.preventDefault(),event.stopPropagation(),onClickSettings())},title:i18n("icu:CustomizingPreferredReactions__title"),type:"button"}),onSetSkinTone?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"module-emoji-picker__footer__skin-tones",children:[0,1,2,3,4,5].map((function(tone){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{type:"button","data-tone":tone,onClick:handlePickTone,onKeyDown:function(event){"Enter"!==event.key&&"Space"!==event.key||handlePickTone(event)},title:i18n("icu:EmojiPicker--skin-tone",{tone:`${tone}`}),className:classnames__WEBPACK_IMPORTED_MODULE_9___default()("module-emoji-picker__button","module-emoji-picker__button--footer",selectedTone===tone?"module-emoji-picker__button--selected":null),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Emoji__WEBPACK_IMPORTED_MODULE_12__.d,{shortName:"hand",skinTone:tone,size:20})},tone)}))}):null,Boolean(onClickSettings)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"module-emoji-picker__footer__settings-spacer"})]})]})})})))},"./ts/components/emoji/lib.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Eb:()=>getSizeClass,J7:()=>getEmojiCount,Mz:()=>hasNonEmojiText,PE:()=>emojiToData,al:()=>getImagePath,lu:()=>dataByCategory,nS:()=>convertShortName,pQ:()=>unifiedToEmoji,qg:()=>isShortName,rl:()=>emojiToImage,rz:()=>convertShortNameToData,yC:()=>search,yz:()=>getEmojiData});var lodash_take__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/take.js"),lodash_take__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_take__WEBPACK_IMPORTED_MODULE_0__),lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/sortBy.js"),lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__),lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__),lodash_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_3__),lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash/keyBy.js"),lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__),lodash_isNumber__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash/isNumber.js"),lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_5__),lodash_groupBy__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash/groupBy.js"),lodash_groupBy__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_6__),lodash_get__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/lodash/get.js"),lodash_get__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_7__),lodash_flatMap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/lodash/flatMap.js"),lodash_flatMap__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_8__),lodash_compact__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_9__),emoji_datasource__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/emoji-datasource/emoji.json"),emoji_regex__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/emoji-regex/index.js"),emoji_regex__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(emoji_regex__WEBPACK_IMPORTED_MODULE_11__),fuse_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/fuse.js/dist/fuse.esm.js"),p_queue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/p-queue/dist/index.js"),_util_getOwn__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./ts/util/getOwn.ts"),_util_durations__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./ts/logging/log.ts"),__webpack_require__("./ts/util/durations/index.ts"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var skinTones=["1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"],data=emoji_datasource__WEBPACK_IMPORTED_MODULE_10__.filter((function(emoji){return emoji.has_img_apple})).map((function(emoji){return"People & Body"===emoji.category?Object.assign({},emoji,{sort_order:emoji.sort_order+1e3}):emoji})),ROOT_PATH=lodash_get__WEBPACK_IMPORTED_MODULE_7___default()("undefined"!=typeof window?window:null,"ROOT_PATH",""),makeImagePath=function(src){return`${ROOT_PATH}node_modules/emoji-datasource-apple/img/apple/64/${src}`},dataByShortName=(new p_queue__WEBPACK_IMPORTED_MODULE_12__.Z({concurrency:10,timeout:30*_util_durations__WEBPACK_IMPORTED_MODULE_14__.EB,throwOnTimeout:!0}),new Set,lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default()(data,"short_name")),imageByEmoji={},dataByEmoji={},dataByCategory=lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_6___default()(data,(function(_ref){var category=_ref.category;return"Activities"===category?"activity":"Animals & Nature"===category?"animal":"Flags"===category?"flag":"Food & Drink"===category?"food":"Objects"===category?"object":"Travel & Places"===category?"travel":"Smileys & Emotion"===category||"People & Body"===category?"emoji":"Symbols"===category?"symbol":"misc"})),(function(arr){return lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(arr,"sort_order")}));function getEmojiData(shortName,skinTone){var base=dataByShortName[shortName];if(skinTone&&base.skin_variations){var variation=lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default()(skinTone)?skinTones[skinTone-1]:skinTone;return base.skin_variations[variation]?base.skin_variations[variation]:base.skin_variations[`${variation}-${variation}`]}return base}function getImagePath(shortName,skinTone){var emojiData=getEmojiData(shortName,skinTone);return makeImagePath(emojiData.image)}var fuse=new fuse_js__WEBPACK_IMPORTED_MODULE_15__.Z(data,{shouldSort:!0,threshold:.2,minMatchCharLength:1,keys:["short_name","short_names"]}),fuseExactPrefix=new fuse_js__WEBPACK_IMPORTED_MODULE_15__.Z(data,{shouldSort:!0,threshold:0,minMatchCharLength:2,keys:["short_name","short_names"]});function search(query){var count=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,fuseIndex=2===query.length?fuseExactPrefix:fuse,results=fuseIndex.search(query.substr(0,32)).map((function(result){return result.item}));return count?lodash_take__WEBPACK_IMPORTED_MODULE_0___default()(results,count):results}var shortNames=new Set([].concat(_toConsumableArray(lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(data,"short_name")),_toConsumableArray(lodash_compact__WEBPACK_IMPORTED_MODULE_9___default()(lodash_flatMap__WEBPACK_IMPORTED_MODULE_8___default()(data,"short_names")))));function isShortName(name){return shortNames.has(name)}function unifiedToEmoji(unified){return unified.split("-").map((function(c){return String.fromCodePoint(parseInt(c,16))})).join("")}function convertShortNameToData(shortName){var skinTone=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,base=dataByShortName[shortName];if(base){var toneKey=lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default()(skinTone)?skinTones[skinTone-1]:skinTone;if(skinTone&&base.skin_variations){var variation=base.skin_variations[toneKey];if(variation)return Object.assign({},base,variation)}return base}}function convertShortName(shortName){var skinTone=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,emojiData=convertShortNameToData(shortName,skinTone);return emojiData?unifiedToEmoji(emojiData.unified):""}function emojiToImage(emoji){return(0,_util_getOwn__WEBPACK_IMPORTED_MODULE_16__.G)(imageByEmoji,emoji)}function emojiToData(emoji){return(0,_util_getOwn__WEBPACK_IMPORTED_MODULE_16__.G)(dataByEmoji,emoji)}function getEmojiCount(str){var regex=emoji_regex__WEBPACK_IMPORTED_MODULE_11___default()(),match=regex.exec(str),count=0;if(!regex.global)return match?1:0;for(;match;)count+=1,match=regex.exec(str);return count}function hasNonEmojiText(str){return str.replace(emoji_regex__WEBPACK_IMPORTED_MODULE_11___default()(),"").trim().length>0}function getSizeClass(str){if(hasNonEmojiText(str))return"";var emojiCount=getEmojiCount(str);return 1===emojiCount?"max":2===emojiCount?"extra-large":3===emojiCount?"large":4===emojiCount?"medium":5===emojiCount?"small":""}data.forEach((function(emoji){var short_name=emoji.short_name,short_names=emoji.short_names,skin_variations=emoji.skin_variations,image=emoji.image;short_names&&short_names.forEach((function(name){dataByShortName[name]=emoji})),imageByEmoji[convertShortName(short_name)]=makeImagePath(image),dataByEmoji[convertShortName(short_name)]=emoji,skin_variations&&Object.entries(skin_variations).forEach((function(_ref2){var _ref3=_slicedToArray(_ref2,2),tone=_ref3[0],variation=_ref3[1];imageByEmoji[convertShortName(short_name,tone)]=makeImagePath(variation.image),dataByEmoji[convertShortName(short_name,tone)]=emoji}))}))},"./ts/util/durations/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x4:()=>constants_DAY,kC:()=>DurationInSeconds,kr:()=>constants_HOUR,EB:()=>constants_MINUTE,vc:()=>MONTH,sh:()=>SECOND,ps:()=>constants_WEEK});var DurationInSeconds,_DurationInSeconds,SECOND=1e3,constants_MINUTE=60*SECOND,constants_HOUR=60*constants_MINUTE,constants_DAY=24*constants_HOUR,constants_WEEK=7*constants_DAY,MONTH=30*constants_DAY;(_DurationInSeconds=DurationInSeconds||(DurationInSeconds={})).fromMillis=function(ms){return ms/SECOND},_DurationInSeconds.fromSeconds=function(seconds){return seconds},_DurationInSeconds.fromMinutes=function(m){return m*constants_MINUTE/SECOND},_DurationInSeconds.fromHours=function(h){return h*constants_HOUR/SECOND},_DurationInSeconds.fromDays=function(d){return d*constants_DAY/SECOND},_DurationInSeconds.fromWeeks=function(d){return d*constants_WEEK/SECOND},_DurationInSeconds.fromMonths=function(d){return d*MONTH/SECOND},_DurationInSeconds.toSeconds=function(d){return d},_DurationInSeconds.toMillis=function(d){return d*SECOND},_DurationInSeconds.toHours=function(d){return d*SECOND/constants_HOUR},_DurationInSeconds.ZERO=DurationInSeconds.fromSeconds(0),_DurationInSeconds.HOUR=DurationInSeconds.fromHours(1),_DurationInSeconds.MINUTE=DurationInSeconds.fromMinutes(1),_DurationInSeconds.DAY=DurationInSeconds.fromDays(1),_DurationInSeconds.WEEK=DurationInSeconds.fromWeeks(1)},"./ts/util/getOwn.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getOwn(obj,key){return Object.hasOwn(obj,key)?obj[key]:void 0}__webpack_require__.d(__webpack_exports__,{G:()=>getOwn})},"./ts/util/grapheme.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{QX:()=>count,Rc:()=>truncateAndSize,i3:()=>isSingleGrapheme});var _iterables__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ts/util/iterables.ts");function count(str){var segments=(new Intl.Segmenter).segment(str);return(0,_iterables__WEBPACK_IMPORTED_MODULE_0__.dp)(segments)}function truncateAndSize(str,toSize){var segments=(new Intl.Segmenter).segment(str),originalSize=(0,_iterables__WEBPACK_IMPORTED_MODULE_0__.dp)(segments);return void 0===toSize||originalSize<=toSize?[str,originalSize]:[(0,_iterables__WEBPACK_IMPORTED_MODULE_0__.v_)((0,_iterables__WEBPACK_IMPORTED_MODULE_0__.UI)((0,_iterables__WEBPACK_IMPORTED_MODULE_0__.qn)(segments,toSize),(function(s){return s.segment})),""),toSize]}function isSingleGrapheme(str){return""!==str&&(new Intl.Segmenter).segment(str).containing(0).segment===str}},"./ts/util/iterables.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(e){didErr=!0,err=e},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function isIterable(value){return"object"==typeof value&&null!=value&&Symbol.iterator in value||"string"==typeof value}function size(iterable){if("string"==typeof iterable||Array.isArray(iterable))return iterable.length;if(iterable instanceof Set||iterable instanceof Map)return iterable.size;for(var iterator=iterable[Symbol.iterator](),result=-1,done=!1;!done;result+=1)done=Boolean(iterator.next().done);return result}__webpack_require__.d(__webpack_exports__,{TW:()=>isIterable,UI:()=>map,dp:()=>size,f9:()=>zipObject,hX:()=>filter,qn:()=>take,rx:()=>repeat,u4:()=>reduce,v_:()=>join,yW:()=>every});function every(iterable,predicate){var _step2,_iterator2=_createForOfIteratorHelper(iterable);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){if(!predicate(_step2.value))return!1}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return!0}function filter(iterable,predicate){return new FilterIterable(iterable,predicate)}var FilterIterable=function(_Symbol$iterator2){function FilterIterable(iterable,predicate){_classCallCheck(this,FilterIterable),this.iterable=iterable,this.predicate=predicate}return _createClass(FilterIterable,[{key:Symbol.iterator,value:function(){return new FilterIterator(this.iterable[Symbol.iterator](),this.predicate)}}]),FilterIterable}(),FilterIterator=function(){function FilterIterator(iterator,predicate){_classCallCheck(this,FilterIterator),this.iterator=iterator,this.predicate=predicate}return _createClass(FilterIterator,[{key:"next",value:function next(){for(;;){var nextIteration=this.iterator.next();if(nextIteration.done||this.predicate(nextIteration.value))return nextIteration}}}]),FilterIterator}();function join(iterable,separator){var _step6,hasProcessedFirst=!1,result="",_iterator6=_createForOfIteratorHelper(iterable);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _value4=_step6.value,stringifiedValue=null==_value4?"":String(_value4);hasProcessedFirst?result+=separator+stringifiedValue:result=stringifiedValue,hasProcessedFirst=!0}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return result}function map(iterable,fn){return new MapIterable(iterable,fn)}var MapIterable=function(_Symbol$iterator4){function MapIterable(iterable,fn){_classCallCheck(this,MapIterable),this.iterable=iterable,this.fn=fn}return _createClass(MapIterable,[{key:Symbol.iterator,value:function(){return new MapIterator(this.iterable[Symbol.iterator](),this.fn)}}]),MapIterable}(),MapIterator=function(){function MapIterator(iterator,fn){_classCallCheck(this,MapIterator),this.iterator=iterator,this.fn=fn}return _createClass(MapIterator,[{key:"next",value:function next(){var nextIteration=this.iterator.next();return nextIteration.done?nextIteration:{done:!1,value:this.fn(nextIteration.value)}}}]),MapIterator}();function reduce(iterable,fn,accumulator){var _step7,result=accumulator,_iterator7=_createForOfIteratorHelper(iterable);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){result=fn(result,_step7.value)}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}return result}function repeat(value){return new RepeatIterable(value)}var RepeatIterable=function(_Symbol$iterator5){function RepeatIterable(value){_classCallCheck(this,RepeatIterable),this.value=value}return _createClass(RepeatIterable,[{key:Symbol.iterator,value:function(){return new RepeatIterator(this.value)}}]),RepeatIterable}(),RepeatIterator=function(){function RepeatIterator(value){_classCallCheck(this,RepeatIterator),this.iteratorResult={done:!1,value}}return _createClass(RepeatIterator,[{key:"next",value:function next(){return this.iteratorResult}}]),RepeatIterator}();function take(iterable,amount){return new TakeIterable(iterable,amount)}var TakeIterable=function(_Symbol$iterator6){function TakeIterable(iterable,amount){_classCallCheck(this,TakeIterable),this.iterable=iterable,this.amount=amount}return _createClass(TakeIterable,[{key:Symbol.iterator,value:function(){return new TakeIterator(this.iterable[Symbol.iterator](),this.amount)}}]),TakeIterable}(),TakeIterator=function(){function TakeIterator(iterator,amount){_classCallCheck(this,TakeIterator),this.iterator=iterator,this.amount=amount}return _createClass(TakeIterator,[{key:"next",value:function next(){var nextIteration=this.iterator.next();return nextIteration.done||0===this.amount?{done:!0,value:void 0}:(this.amount-=1,nextIteration)}}]),TakeIterator}();function zipObject(props,values){for(var result={},propsIterator=props[Symbol.iterator](),valuesIterator=values[Symbol.iterator]();;){var propIteration=propsIterator.next();if(propIteration.done)break;var valueIteration=valuesIterator.next();if(valueIteration.done)break;result[propIteration.value]=valueIteration.value}return result}},"./ts/util/missingCaseError.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>missingCaseError});var missingCaseError=function(x){return new TypeError(`Unhandled case: ${function reallyJsonStringify(value){var result;try{result=JSON.stringify(value)}catch(_err){result=void 0}return"string"==typeof result?result:Object.prototype.toString.call(value)}(x)}`)}},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?module.exports=classNames:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/lodash/_baseClamp.js":module=>{module.exports=function baseClamp(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}},"./node_modules/lodash/_baseZipObject.js":module=>{module.exports=function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:void 0;assignFunc(result,props[index],value)}return result}},"./node_modules/lodash/chunk.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseSlice=__webpack_require__("./node_modules/lodash/_baseSlice.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),toInteger=__webpack_require__("./node_modules/lodash/toInteger.js"),nativeCeil=Math.ceil,nativeMax=Math.max;module.exports=function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):void 0===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}},"./node_modules/lodash/clamp.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseClamp=__webpack_require__("./node_modules/lodash/_baseClamp.js"),toNumber=__webpack_require__("./node_modules/lodash/toNumber.js");module.exports=function clamp(number,lower,upper){return void 0===upper&&(upper=lower,lower=void 0),void 0!==upper&&(upper=(upper=toNumber(upper))==upper?upper:0),void 0!==lower&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)}},"./node_modules/lodash/initial.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseSlice=__webpack_require__("./node_modules/lodash/_baseSlice.js");module.exports=function initial(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]}},"./node_modules/lodash/last.js":module=>{module.exports=function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},"./node_modules/lodash/zipObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),baseZipObject=__webpack_require__("./node_modules/lodash/_baseZipObject.js");module.exports=function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}}}]);