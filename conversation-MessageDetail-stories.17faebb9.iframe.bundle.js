"use strict";(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[3080],{"./ts/badges/BadgeCategory.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>BadgeCategory});var BadgeCategory,_util_enum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ts/util/enum.ts");!function(BadgeCategory){BadgeCategory.Donor="donor",BadgeCategory.Other="other"}(BadgeCategory||(BadgeCategory={}));(0,_util_enum__WEBPACK_IMPORTED_MODULE_0__.m)(BadgeCategory,BadgeCategory.Other)},"./ts/components/conversation/MessageDetail.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AllErrors:()=>AllErrors,DeliveredIncoming:()=>DeliveredIncoming,DeliveredOutgoing:()=>DeliveredOutgoing,MessageStatuses:()=>MessageStatuses,NoContacts:()=>NoContacts,NotDelivered:()=>NotDelivered,__namedExportsOrder:()=>__namedExportsOrder,default:()=>MessageDetail_stories});var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),Message=__webpack_require__("./ts/components/conversation/Message.tsx"),noop=__webpack_require__("./node_modules/lodash/noop.js"),noop_default=__webpack_require__.n(noop),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Avatar=__webpack_require__("./ts/components/Avatar.tsx"),ContactName=__webpack_require__("./ts/components/conversation/ContactName.tsx"),ContextMenu=__webpack_require__("./ts/components/ContextMenu.tsx"),Time=__webpack_require__("./ts/components/Time.tsx"),mapUtil=__webpack_require__("./ts/util/mapUtil.ts"),MessageSendState=__webpack_require__("./ts/messages/MessageSendState.ts"),_util=__webpack_require__("./ts/components/_util.ts"),log=__webpack_require__("./ts/logging/log.ts"),timestamp=__webpack_require__("./ts/util/timestamp.ts"),durations=__webpack_require__("./ts/util/durations/index.ts"),expirationTimer=__webpack_require__("./ts/util/expirationTimer.ts"),missingCaseError=__webpack_require__("./ts/util/missingCaseError.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var contactSortCollator=new Intl.Collator,_keyForError=function(error){return`${error.name}-${error.message}`};function MessageDetail(_ref){var contacts=_ref.contacts,errors=_ref.errors,message=_ref.message,receivedAt=_ref.receivedAt,sentAt=_ref.sentAt,checkForAccount=_ref.checkForAccount,clearTargetedMessage=_ref.clearTargetedMessage,contactNameColor=_ref.contactNameColor,doubleCheckMissingQuoteReference=_ref.doubleCheckMissingQuoteReference,getPreferredBadge=_ref.getPreferredBadge,i18n=_ref.i18n,interactionMode=_ref.interactionMode,kickOffAttachmentDownload=_ref.kickOffAttachmentDownload,markAttachmentAsCorrupted=_ref.markAttachmentAsCorrupted,messageExpanded=_ref.messageExpanded,openGiftBadge=_ref.openGiftBadge,platform=_ref.platform,pushPanelForConversation=_ref.pushPanelForConversation,retryMessageSend=_ref.retryMessageSend,renderAudioAttachment=_ref.renderAudioAttachment,saveAttachment=_ref.saveAttachment,showContactModal=_ref.showContactModal,showConversation=_ref.showConversation,showExpiredIncomingTapToViewToast=_ref.showExpiredIncomingTapToViewToast,showExpiredOutgoingTapToViewToast=_ref.showExpiredOutgoingTapToViewToast,showLightbox=_ref.showLightbox,showLightboxForViewOnceMedia=_ref.showLightboxForViewOnceMedia,showSpoiler=_ref.showSpoiler,startConversation=_ref.startConversation,theme=_ref.theme,toggleSafetyNumberModal=_ref.toggleSafetyNumberModal,viewStory=_ref.viewStory,focusRef=(0,react.useRef)(null),messageContainerRef=(0,react.useRef)(null);function renderAvatar(contact){var acceptedMessageRequest=contact.acceptedMessageRequest,avatarPath=contact.avatarPath,badges=contact.badges,color=contact.color,isMe=contact.isMe,phoneNumber=contact.phoneNumber,profileName=contact.profileName,sharedGroupNames=contact.sharedGroupNames,title=contact.title,unblurredAvatarPath=contact.unblurredAvatarPath;return(0,jsx_runtime.jsx)(Avatar.qE,{acceptedMessageRequest,avatarPath,badge:getPreferredBadge(badges),color,conversationType:"direct",i18n,isMe,phoneNumber,profileName,theme,title,sharedGroupNames,size:Avatar.DZ.THIRTY_TWO,unblurredAvatarPath})}function renderContactGroup(sendStatus,statusContacts){if(!statusContacts||!statusContacts.length)return null;var sortedContacts=_toConsumableArray(statusContacts).sort((function(a,b){return contactSortCollator.compare(a.title,b.title)})),headerText=function renderContactGroupHeaderText(sendStatus){if(void 0===sendStatus)return i18n("icu:from");switch(sendStatus){case MessageSendState.fq.Failed:return i18n("icu:MessageDetailsHeader--Failed");case MessageSendState.fq.Pending:return i18n("icu:MessageDetailsHeader--Pending");case MessageSendState.fq.Sent:return i18n("icu:MessageDetailsHeader--Sent");case MessageSendState.fq.Delivered:return i18n("icu:MessageDetailsHeader--Delivered");case MessageSendState.fq.Read:return i18n("icu:MessageDetailsHeader--Read");case MessageSendState.fq.Viewed:return i18n("icu:MessageDetailsHeader--Viewed");default:throw(0,missingCaseError.b)(sendStatus)}}(sendStatus);return(0,jsx_runtime.jsxs)("div",{className:"module-message-detail__contact-group",children:[(0,jsx_runtime.jsx)("div",{className:classnames_default()("module-message-detail__contact-group__header",sendStatus&&`module-message-detail__contact-group__header--${sendStatus}`),children:headerText}),sortedContacts.map((function(contact){return function renderContact(contact){var contactErrors=contact.errors||[],errorComponent=contact.isOutgoingKeyError?(0,jsx_runtime.jsx)("div",{className:"module-message-detail__contact__error-buttons",children:(0,jsx_runtime.jsx)("button",{type:"button",className:"module-message-detail__contact__show-safety-number",onClick:function(){return toggleSafetyNumberModal(contact.id)},children:i18n("icu:showSafetyNumber")})}):null,unidentifiedDeliveryComponent=contact.isUnidentifiedDelivery?(0,jsx_runtime.jsx)("div",{className:"module-message-detail__contact__unidentified-delivery-icon"}):null;return(0,jsx_runtime.jsxs)("div",{className:"module-message-detail__contact",children:[renderAvatar(contact),(0,jsx_runtime.jsxs)("div",{className:"module-message-detail__contact__text",children:[(0,jsx_runtime.jsx)("div",{className:"module-message-detail__contact__name",children:(0,jsx_runtime.jsx)(ContactName.K,{title:contact.title})}),contactErrors.map((function(contactError){return(0,jsx_runtime.jsx)("div",{className:"module-message-detail__contact__error",children:contactError.message},_keyForError(contactError))}))]}),errorComponent,unidentifiedDeliveryComponent,contact.statusTimestamp&&(0,jsx_runtime.jsx)(Time.q,{className:"module-message-detail__status-timestamp",timestamp:contact.statusTimestamp,children:(0,timestamp.gD)(i18n,contact.statusTimestamp)})]},contact.id)}(contact)}))]},headerText)}(0,react.useEffect)((function(){var timer=setTimeout((function(){var _focusRef$current;null===(_focusRef$current=focusRef.current)||void 0===_focusRef$current||_focusRef$current.focus()}));return function(){clearTimeout(timer)}}),[]);var timeRemaining=message.expirationTimestamp?durations.kC.fromMillis(message.expirationTimestamp-Date.now()):void 0;return(0,jsx_runtime.jsxs)("div",{className:"module-message-detail",tabIndex:0,ref:focusRef,children:[(0,jsx_runtime.jsx)("div",{className:"module-message-detail__message-container",ref:messageContainerRef,children:(0,jsx_runtime.jsx)(Message.v0,Object.assign({},message,{renderingContext:"conversation/MessageDetail",checkForAccount,clearTargetedMessage,contactNameColor,containerElementRef:messageContainerRef,containerWidthBreakpoint:_util.Up.Wide,renderMenu:void 0,disableScroll:!0,displayLimit:Number.MAX_SAFE_INTEGER,showLightboxForViewOnceMedia,doubleCheckMissingQuoteReference,getPreferredBadge,i18n,interactionMode,kickOffAttachmentDownload,markAttachmentAsCorrupted,messageExpanded,openGiftBadge,platform,pushPanelForConversation,retryMessageSend,renderAudioAttachment,saveAttachment,shouldCollapseAbove:!1,shouldCollapseBelow:!1,shouldHideMetadata:!1,showConversation,showSpoiler,scrollToQuotedMessage:function(){log.warn("MessageDetail: scrollToQuotedMessage called!")},showContactModal,showExpiredIncomingTapToViewToast,showExpiredOutgoingTapToViewToast,showLightbox,startConversation,theme,viewStory,onToggleSelect:noop_default(),onReplyToMessage:noop_default()}))}),(0,jsx_runtime.jsx)("table",{className:"module-message-detail__info",children:(0,jsx_runtime.jsxs)("tbody",{children:[(errors||[]).map((function(error){return(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{className:"module-message-detail__label",children:i18n("icu:error")}),(0,jsx_runtime.jsxs)("td",{children:[" ",(0,jsx_runtime.jsx)("span",{className:"error-message",children:error.message})," "]})]},_keyForError(error))})),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{className:"module-message-detail__label",children:i18n("icu:sent")}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(ContextMenu.x,{i18n,menuOptions:[{icon:"StoryDetailsModal__copy-icon",label:i18n("icu:StoryDetailsModal__copy-timestamp"),onClick:function(){window.navigator.clipboard.writeText(String(sentAt))}}],children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Time.q,{timestamp:sentAt,children:(0,timestamp.gD)(i18n,sentAt)})," ",(0,jsx_runtime.jsxs)("span",{className:"module-message-detail__unix-timestamp",children:["(",sentAt,")"]})]})})})]}),receivedAt&&"incoming"===message.direction?(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{className:"module-message-detail__label",children:i18n("icu:received")}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(Time.q,{timestamp:receivedAt,children:(0,timestamp.gD)(i18n,receivedAt)})," ",(0,jsx_runtime.jsxs)("span",{className:"module-message-detail__unix-timestamp",children:["(",receivedAt,")"]})]})]}):null,timeRemaining&&timeRemaining>0&&(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{className:"module-message-detail__label",children:i18n("icu:MessageDetail--disappears-in")}),(0,jsx_runtime.jsx)("td",{children:(0,expirationTimer.WU)(i18n,timeRemaining,{largest:2})})]})]})}),function renderContacts(){var contactsBySendStatus=(0,mapUtil.v)(contacts,(function(contact){return contact.status}));return(0,jsx_runtime.jsx)("div",{className:"module-message-detail__contact-container",children:[void 0,MessageSendState.fq.Failed,MessageSendState.fq.Viewed,MessageSendState.fq.Read,MessageSendState.fq.Delivered,MessageSendState.fq.Sent,MessageSendState.fq.Pending].map((function(sendStatus){return renderContactGroup(sendStatus,contactsBySendStatus.get(sendStatus))}))})}()]})}MessageDetail.displayName="MessageDetail";var MessageReadStatus=__webpack_require__("./ts/messages/MessageReadStatus.ts"),getDefaultConversation=__webpack_require__("./ts/test-both/helpers/getDefaultConversation.ts"),setupI18n=__webpack_require__("./ts/util/setupI18n.ts"),messages=__webpack_require__("./_locales/en/messages.json"),getFakeBadge=__webpack_require__("./ts/test-both/helpers/getFakeBadge.ts"),Util=__webpack_require__("./ts/types/Util.ts"),i18n=(0,setupI18n.E5)("en",messages);const MessageDetail_stories={title:"Components/Conversation/MessageDetail"};var defaultMessage={author:(0,getDefaultConversation.E$)({id:"some-id",title:"Max"}),canDeleteForEveryone:!0,conversationColor:"crimson",conversationId:"my-convo",conversationTitle:"Conversation Title",conversationType:"direct",direction:"incoming",id:"my-message",renderingContext:"storybook",renderMenu:void 0,isBlocked:!1,isMessageRequestAccepted:!0,isSelected:!1,isSelectMode:!1,isSpoilerExpanded:{},previews:[],readStatus:MessageReadStatus.N.Read,status:"sent",text:"A message from Max",textDirection:Message.m5.Default,timestamp:Date.now()},createProps=function(){var overrideProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{contacts:overrideProps.contacts||[Object.assign({},(0,getDefaultConversation.E$)({title:"Just Max"}),{isOutgoingKeyError:!1,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Delivered})],errors:overrideProps.errors||[],message:overrideProps.message||defaultMessage,receivedAt:(0,dist.number)("receivedAt",overrideProps.receivedAt||Date.now()),sentAt:(0,dist.number)("sentAt",overrideProps.sentAt||Date.now()),getPreferredBadge:function(){return(0,getFakeBadge.n)()},i18n,platform:"darwin",interactionMode:"keyboard",theme:Util.f8.light,toggleSafetyNumberModal:(0,esm.action)("toggleSafetyNumberModal"),checkForAccount:(0,esm.action)("checkForAccount"),clearTargetedMessage:(0,esm.action)("clearTargetedMessage"),showLightboxForViewOnceMedia:(0,esm.action)("showLightboxForViewOnceMedia"),doubleCheckMissingQuoteReference:(0,esm.action)("doubleCheckMissingQuoteReference"),kickOffAttachmentDownload:(0,esm.action)("kickOffAttachmentDownload"),markAttachmentAsCorrupted:(0,esm.action)("markAttachmentAsCorrupted"),messageExpanded:(0,esm.action)("messageExpanded"),showConversation:(0,esm.action)("showConversation"),openGiftBadge:(0,esm.action)("openGiftBadge"),renderAudioAttachment:function(){return(0,jsx_runtime.jsx)("div",{children:"*AudioAttachment*"})},saveAttachment:(0,esm.action)("saveAttachment"),showSpoiler:(0,esm.action)("showSpoiler"),retryMessageSend:(0,esm.action)("retryMessageSend"),pushPanelForConversation:(0,esm.action)("pushPanelForConversation"),showContactModal:(0,esm.action)("showContactModal"),showExpiredIncomingTapToViewToast:(0,esm.action)("showExpiredIncomingTapToViewToast"),showExpiredOutgoingTapToViewToast:(0,esm.action)("showExpiredOutgoingTapToViewToast"),showLightbox:(0,esm.action)("showLightbox"),startConversation:(0,esm.action)("startConversation"),viewStory:(0,esm.action)("viewStory")}};function DeliveredIncoming(){var props=createProps({contacts:[Object.assign({},(0,getDefaultConversation.E$)({color:"forest",title:"Max"}),{status:void 0,isOutgoingKeyError:!1,isUnidentifiedDelivery:!1})]});return(0,jsx_runtime.jsx)(MessageDetail,Object.assign({},props))}function DeliveredOutgoing(){var props=createProps({message:Object.assign({},defaultMessage,{direction:"outgoing",text:"A message to Max"})});return(0,jsx_runtime.jsx)(MessageDetail,Object.assign({},props))}function MessageStatuses(){var props=createProps({contacts:[Object.assign({},(0,getDefaultConversation.E$)({title:"Max"}),{isOutgoingKeyError:!1,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Sent}),Object.assign({},(0,getDefaultConversation.E$)({title:"Sally"}),{isOutgoingKeyError:!1,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Pending}),Object.assign({},(0,getDefaultConversation.E$)({title:"Terry"}),{isOutgoingKeyError:!1,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Failed}),Object.assign({},(0,getDefaultConversation.E$)({title:"Theo"}),{isOutgoingKeyError:!1,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Delivered}),Object.assign({},(0,getDefaultConversation.E$)({title:"Nikki"}),{isOutgoingKeyError:!1,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Read})],message:Object.assign({},defaultMessage,{conversationType:"group",text:"A message to you all!"})});return(0,jsx_runtime.jsx)(MessageDetail,Object.assign({},props))}function NotDelivered(){var props=createProps({message:Object.assign({},defaultMessage,{direction:"outgoing",text:"A message to Max"})});return props.receivedAt=void 0,(0,jsx_runtime.jsx)(MessageDetail,Object.assign({},props))}function NoContacts(){var props=createProps({contacts:[],message:Object.assign({},defaultMessage,{direction:"outgoing",text:"Is anybody there?"})});return(0,jsx_runtime.jsx)(MessageDetail,Object.assign({},props))}function AllErrors(){var props=createProps({errors:[{name:"Another Error",message:"Wow, that went bad."}],message:Object.assign({},defaultMessage),contacts:[Object.assign({},(0,getDefaultConversation.E$)({title:"Max"}),{isOutgoingKeyError:!0,isUnidentifiedDelivery:!1,status:MessageSendState.fq.Failed}),Object.assign({},(0,getDefaultConversation.E$)({title:"Sally"}),{errors:[{name:"Big Error",message:"Stuff happened, in a bad way."}],isOutgoingKeyError:!1,isUnidentifiedDelivery:!0,status:MessageSendState.fq.Failed}),Object.assign({},(0,getDefaultConversation.E$)({title:"Terry"}),{isOutgoingKeyError:!0,isUnidentifiedDelivery:!0,status:MessageSendState.fq.Failed})]});return(0,jsx_runtime.jsx)(MessageDetail,Object.assign({},props))}DeliveredIncoming.displayName="DeliveredIncoming",DeliveredOutgoing.displayName="DeliveredOutgoing",MessageStatuses.displayName="MessageStatuses",NotDelivered.displayName="NotDelivered",NoContacts.displayName="NoContacts",AllErrors.displayName="AllErrors";var __namedExportsOrder=["DeliveredIncoming","DeliveredOutgoing","MessageStatuses","NotDelivered","NoContacts","AllErrors"]},"./ts/components/emoji/Emoji.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>Emoji,g:()=>EmojiSizes});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/emoji/lib.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),EmojiSizes=[16,18,20,24,28,32,48,64,66],Emoji=react__WEBPACK_IMPORTED_MODULE_0__.memo(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var className=_ref.className,emoji=_ref.emoji,shortName=_ref.shortName,_ref$size=_ref.size,size=void 0===_ref$size?28:_ref$size,skinTone=_ref.skinTone,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,title=_ref.title,image="";return shortName?image=(0,_lib__WEBPACK_IMPORTED_MODULE_2__.al)(shortName,skinTone):emoji&&(image=(0,_lib__WEBPACK_IMPORTED_MODULE_2__.rl)(emoji)||""),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{ref,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-emoji",`module-emoji--${size}px`,className),style,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{className:`module-emoji__image--${size}px`,src:image,"aria-label":null!=title?title:emoji,title:null!=title?title:emoji})})})))},"./ts/test-both/helpers/getFakeBadge.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>getFakeBadge,z:()=>getFakeBadges});var lodash_times__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/times.js"),lodash_times__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_times__WEBPACK_IMPORTED_MODULE_0__),_badges_BadgeCategory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/badges/BadgeCategory.ts"),_badges_BadgeImageTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/badges/BadgeImageTheme.ts"),_util_iterables__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/iterables.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getFakeBadge(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$alternate=_ref.alternate,alternate=void 0!==_ref$alternate&&_ref$alternate,_ref$id=_ref.id,id=void 0===_ref$id?"test-badge":_ref$id,imageFile={localPath:`/fixtures/${alternate?"blue":"orange"}-heart.svg`,url:"https://example.com/ignored.svg"};return{id,category:alternate?_badges_BadgeCategory__WEBPACK_IMPORTED_MODULE_1__.Q.Other:_badges_BadgeCategory__WEBPACK_IMPORTED_MODULE_1__.Q.Donor,name:"Test Badge "+(alternate?"B":"A"),descriptionTemplate:"{short_name} got this badge because they're cool. Signal is a nonprofit with no advertisers or investors, supported only by people like you.",images:[].concat(_toConsumableArray(Array(3).fill((0,_util_iterables__WEBPACK_IMPORTED_MODULE_3__.f9)(Object.values(_badges_BadgeImageTheme__WEBPACK_IMPORTED_MODULE_2__.c),(0,_util_iterables__WEBPACK_IMPORTED_MODULE_3__.rx)(imageFile)))),[{[_badges_BadgeImageTheme__WEBPACK_IMPORTED_MODULE_2__.c.Transparent]:imageFile}])}}var getFakeBadges=function(count){return lodash_times__WEBPACK_IMPORTED_MODULE_0___default()(count,(function(index){return getFakeBadge({alternate:index%2!=0,id:`test-badge-${index}`})}))}}}]);