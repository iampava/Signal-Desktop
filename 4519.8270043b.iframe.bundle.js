(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[4519],{"./node_modules/blurhash/dist/base83.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var digitCharacters=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"];exports.decode83=function(str){for(var value=0,i=0;i<str.length;i++){var c=str[i];value=83*value+digitCharacters.indexOf(c)}return value},exports.encode83=function(n,length){for(var result="",i=1;i<=length;i++){var digit=Math.floor(n)/Math.pow(83,length-i)%83;result+=digitCharacters[Math.floor(digit)]}return result}},"./node_modules/blurhash/dist/decode.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var base83_1=__webpack_require__("./node_modules/blurhash/dist/base83.js"),utils_1=__webpack_require__("./node_modules/blurhash/dist/utils.js"),error_1=__webpack_require__("./node_modules/blurhash/dist/error.js"),validateBlurhash=function(blurhash){if(!blurhash||blurhash.length<6)throw new error_1.ValidationError("The blurhash string must be at least 6 characters");var sizeFlag=base83_1.decode83(blurhash[0]),numY=Math.floor(sizeFlag/9)+1,numX=sizeFlag%9+1;if(blurhash.length!==4+2*numX*numY)throw new error_1.ValidationError("blurhash length mismatch: length is "+blurhash.length+" but it should be "+(4+2*numX*numY))};exports.isBlurhashValid=function(blurhash){try{validateBlurhash(blurhash)}catch(error){return{result:!1,errorReason:error.message}}return{result:!0}};var decodeDC=function(value){var intR=value>>16,intG=value>>8&255,intB=255&value;return[utils_1.sRGBToLinear(intR),utils_1.sRGBToLinear(intG),utils_1.sRGBToLinear(intB)]},decodeAC=function(value,maximumValue){var quantR=Math.floor(value/361),quantG=Math.floor(value/19)%19,quantB=value%19;return[utils_1.signPow((quantR-9)/9,2)*maximumValue,utils_1.signPow((quantG-9)/9,2)*maximumValue,utils_1.signPow((quantB-9)/9,2)*maximumValue]};exports.default=function(blurhash,width,height,punch){validateBlurhash(blurhash),punch|=1;for(var sizeFlag=base83_1.decode83(blurhash[0]),numY=Math.floor(sizeFlag/9)+1,numX=sizeFlag%9+1,maximumValue=(base83_1.decode83(blurhash[1])+1)/166,colors=new Array(numX*numY),i=0;i<colors.length;i++)if(0===i){var value=base83_1.decode83(blurhash.substring(2,6));colors[i]=decodeDC(value)}else{value=base83_1.decode83(blurhash.substring(4+2*i,6+2*i));colors[i]=decodeAC(value,maximumValue*punch)}for(var bytesPerRow=4*width,pixels=new Uint8ClampedArray(bytesPerRow*height),y=0;y<height;y++)for(var x=0;x<width;x++){for(var r=0,g=0,b=0,j=0;j<numY;j++)for(i=0;i<numX;i++){var basis=Math.cos(Math.PI*x*i/width)*Math.cos(Math.PI*y*j/height),color=colors[i+j*numX];r+=color[0]*basis,g+=color[1]*basis,b+=color[2]*basis}var intR=utils_1.linearTosRGB(r),intG=utils_1.linearTosRGB(g),intB=utils_1.linearTosRGB(b);pixels[4*x+0+y*bytesPerRow]=intR,pixels[4*x+1+y*bytesPerRow]=intG,pixels[4*x+2+y*bytesPerRow]=intB,pixels[4*x+3+y*bytesPerRow]=255}return pixels}},"./node_modules/blurhash/dist/encode.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var base83_1=__webpack_require__("./node_modules/blurhash/dist/base83.js"),utils_1=__webpack_require__("./node_modules/blurhash/dist/utils.js"),error_1=__webpack_require__("./node_modules/blurhash/dist/error.js");exports.default=function(pixels,width,height,componentX,componentY){if(componentX<1||componentX>9||componentY<1||componentY>9)throw new error_1.ValidationError("BlurHash must have between 1 and 9 components");if(width*height*4!==pixels.length)throw new error_1.ValidationError("Width and height must match the pixels array");for(var factors=[],_loop_1=function(y){for(var _loop_2=function(x){var normalisation=0==x&&0==y?1:2,factor=function(pixels,width,height,basisFunction){for(var r=0,g=0,b=0,bytesPerRow=4*width,x=0;x<width;x++)for(var y=0;y<height;y++){var basis=basisFunction(x,y);r+=basis*utils_1.sRGBToLinear(pixels[4*x+0+y*bytesPerRow]),g+=basis*utils_1.sRGBToLinear(pixels[4*x+1+y*bytesPerRow]),b+=basis*utils_1.sRGBToLinear(pixels[4*x+2+y*bytesPerRow])}var scale=1/(width*height);return[r*scale,g*scale,b*scale]}(pixels,width,height,(function(i,j){return normalisation*Math.cos(Math.PI*x*i/width)*Math.cos(Math.PI*y*j/height)}));factors.push(factor)},x=0;x<componentX;x++)_loop_2(x)},y=0;y<componentY;y++)_loop_1(y);var maximumValue,value,dc=factors[0],ac=factors.slice(1),hash="",sizeFlag=componentX-1+9*(componentY-1);if(hash+=base83_1.encode83(sizeFlag,1),ac.length>0){var actualMaximumValue=Math.max.apply(Math,ac.map((function(val){return Math.max.apply(Math,val)}))),quantisedMaximumValue=Math.floor(Math.max(0,Math.min(82,Math.floor(166*actualMaximumValue-.5))));maximumValue=(quantisedMaximumValue+1)/166,hash+=base83_1.encode83(quantisedMaximumValue,1)}else maximumValue=1,hash+=base83_1.encode83(0,1);return hash+=base83_1.encode83((value=dc,(utils_1.linearTosRGB(value[0])<<16)+(utils_1.linearTosRGB(value[1])<<8)+utils_1.linearTosRGB(value[2])),4),ac.forEach((function(factor){hash+=base83_1.encode83(function(value,maximumValue){return 19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*utils_1.signPow(value[0]/maximumValue,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*utils_1.signPow(value[1]/maximumValue,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*utils_1.signPow(value[2]/maximumValue,.5)+9.5))))}(factor,maximumValue),2)})),hash}},"./node_modules/blurhash/dist/error.js":function(__unused_webpack_module,exports){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var ValidationError=function(_super){function ValidationError(message){var _this=_super.call(this,message)||this;return _this.name="ValidationError",_this.message=message,_this}return __extends(ValidationError,_super),ValidationError}(Error);exports.ValidationError=ValidationError},"./node_modules/blurhash/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var decode_1=__webpack_require__("./node_modules/blurhash/dist/decode.js");exports.decode=decode_1.default,exports.isBlurhashValid=decode_1.isBlurhashValid;var encode_1=__webpack_require__("./node_modules/blurhash/dist/encode.js");exports.encode=encode_1.default,function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__("./node_modules/blurhash/dist/error.js"))},"./node_modules/blurhash/dist/utils.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sRGBToLinear=function(value){var v=value/255;return v<=.04045?v/12.92:Math.pow((v+.055)/1.055,2.4)},exports.linearTosRGB=function(value){var v=Math.max(0,Math.min(1,value));return v<=.0031308?Math.round(12.92*v*255+.5):Math.round(255*(1.055*Math.pow(v,1/2.4)-.055)+.5)},exports.sign=function(n){return n<0?-1:1},exports.signPow=function(val,exp){return exports.sign(val)*Math.pow(Math.abs(val),exp)}},"./node_modules/lodash/_asciiSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("./node_modules/lodash/_baseProperty.js")("length");module.exports=asciiSize},"./node_modules/lodash/_baseRepeat.js":module=>{var nativeFloor=Math.floor;module.exports=function baseRepeat(string,n){var result="";if(!string||n<1||n>9007199254740991)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}},"./node_modules/lodash/_createPadding.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRepeat=__webpack_require__("./node_modules/lodash/_baseRepeat.js"),baseToString=__webpack_require__("./node_modules/lodash/_baseToString.js"),castSlice=__webpack_require__("./node_modules/lodash/_castSlice.js"),hasUnicode=__webpack_require__("./node_modules/lodash/_hasUnicode.js"),stringSize=__webpack_require__("./node_modules/lodash/_stringSize.js"),stringToArray=__webpack_require__("./node_modules/lodash/_stringToArray.js"),nativeCeil=Math.ceil;module.exports=function createPadding(length,chars){var charsLength=(chars=void 0===chars?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}},"./node_modules/lodash/_stringSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("./node_modules/lodash/_asciiSize.js"),hasUnicode=__webpack_require__("./node_modules/lodash/_hasUnicode.js"),unicodeSize=__webpack_require__("./node_modules/lodash/_unicodeSize.js");module.exports=function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}},"./node_modules/lodash/_unicodeSize.js":module=>{var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}},"./node_modules/lodash/isUndefined.js":module=>{module.exports=function isUndefined(value){return void 0===value}},"./node_modules/lodash/padStart.js":(module,__unused_webpack_exports,__webpack_require__)=>{var createPadding=__webpack_require__("./node_modules/lodash/_createPadding.js"),stringSize=__webpack_require__("./node_modules/lodash/_stringSize.js"),toInteger=__webpack_require__("./node_modules/lodash/toInteger.js"),toString=__webpack_require__("./node_modules/lodash/toString.js");module.exports=function padStart(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}},"./node_modules/react-blurhash/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>es_Blurhash});var extendStatics,react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/blurhash/dist/index.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const es_BlurhashCanvas=function(_super){function BlurhashCanvas(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.canvas=null,_this.handleRef=function(canvas){_this.canvas=canvas,_this.draw()},_this.draw=function(){var _a=_this.props,hash=_a.hash,height=_a.height,punch=_a.punch,width=_a.width;if(_this.canvas){var pixels=(0,dist.decode)(hash,width,height,punch),ctx=_this.canvas.getContext("2d"),imageData=ctx.createImageData(width,height);imageData.data.set(pixels),ctx.putImageData(imageData,0,0)}},_this}return __extends(BlurhashCanvas,_super),BlurhashCanvas.prototype.componentDidUpdate=function(){this.draw()},BlurhashCanvas.prototype.render=function(){var _a=this.props,height=(_a.hash,_a.height),width=_a.width,rest=__rest(_a,["hash","height","width"]);return react.createElement("canvas",__assign({},rest,{height,width,ref:this.handleRef}))},BlurhashCanvas.defaultProps={height:128,width:128},BlurhashCanvas}(react.PureComponent);var Blurhash_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Blurhash_assign=function(){return Blurhash_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},Blurhash_assign.apply(this,arguments)},Blurhash_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},canvasStyle={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"};const es_Blurhash=function(_super){function Blurhash(){return null!==_super&&_super.apply(this,arguments)||this}return Blurhash_extends(Blurhash,_super),Blurhash.prototype.componentDidUpdate=function(){if(this.props.resolutionX<=0)throw new Error("resolutionX must be larger than zero");if(this.props.resolutionY<=0)throw new Error("resolutionY must be larger than zero")},Blurhash.prototype.render=function(){var _a=this.props,hash=_a.hash,height=_a.height,width=_a.width,punch=_a.punch,resolutionX=_a.resolutionX,resolutionY=_a.resolutionY,style=_a.style,rest=Blurhash_rest(_a,["hash","height","width","punch","resolutionX","resolutionY","style"]);return react.createElement("div",Blurhash_assign({},rest,{style:Blurhash_assign({display:"inline-block",height,width},style,{position:"relative"})}),react.createElement(es_BlurhashCanvas,{hash,height:resolutionY,width:resolutionX,punch,style:canvasStyle}))},Blurhash.defaultProps={height:128,width:128,resolutionX:32,resolutionY:32},Blurhash}(react.PureComponent)}}]);