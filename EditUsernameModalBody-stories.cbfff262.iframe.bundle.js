"use strict";(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[7247],{"./ts/components/EditUsernameModalBody.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UsernameEditingConfirming:()=>UsernameEditingConfirming,UsernameEditingGeneralError:()=>UsernameEditingGeneralError,UsernameEditingUsernameTaken:()=>UsernameEditingUsernameTaken,UsernameEditingUsernameTooShort:()=>UsernameEditingUsernameTooShort,UsernameEditingUsernameWrongCharacters:()=>UsernameEditingUsernameWrongCharacters,WithReservation:()=>WithReservation,WithUsername:()=>WithUsername,WithoutUsername:()=>WithoutUsername,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _locales_en_messages_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./_locales/en/messages.json"),_util_setupI18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/setupI18n.ts"),_EditUsernameModalBody__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/EditUsernameModalBody.tsx"),_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/state/ducks/usernameEnums.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),i18n=(0,_util_setupI18n__WEBPACK_IMPORTED_MODULE_2__.E5)("en",_locales_en_messages_json__WEBPACK_IMPORTED_MODULE_1__),DEFAULT_RESERVATION={username:"reserved.56",previousUsername:void 0,hash:new Uint8Array};const __WEBPACK_DEFAULT_EXPORT__={component:_EditUsernameModalBody__WEBPACK_IMPORTED_MODULE_3__.H,title:"Components/EditUsernameModalBody",argTypes:{currentUsername:{type:{name:"string",required:!1},defaultValue:void 0},state:{control:{type:"radio"},defaultValue:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Open,options:{Open:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Open,Closed:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Closed,Reserving:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Reserving,Confirming:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Confirming}},error:{control:{type:"radio"},defaultValue:void 0,options:{None:void 0,NotEnoughCharacters:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.NotEnoughCharacters,TooManyCharacters:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.TooManyCharacters,CheckStartingCharacter:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.CheckStartingCharacter,CheckCharacters:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.CheckCharacters,UsernameNotAvailable:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.UsernameNotAvailable,General:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.General}},maxUsername:{defaultValue:20},minUsername:{defaultValue:3},discriminator:{type:{name:"string",required:!1},defaultValue:void 0},i18n:{defaultValue:i18n},onClose:{action:!0},onError:{action:!0},setUsernameReservationError:{action:!0},reserveUsername:{action:!0},confirmUsername:{action:!0}}};var Template=function(args){var reservation=args.reservation;return!reservation&&args.discriminator&&(reservation={username:`reserved.${args.discriminator}`,previousUsername:void 0,hash:new Uint8Array}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_EditUsernameModalBody__WEBPACK_IMPORTED_MODULE_3__.H,Object.assign({},args,{reservation}))};Template.displayName="Template";var WithoutUsername=Template.bind({});WithoutUsername.args={},WithoutUsername.story={name:"without current username"};var WithUsername=Template.bind({});WithUsername.args={},WithUsername.story={name:"with current username",args:{currentUsername:"signaluser.12"}};var WithReservation=Template.bind({});WithReservation.args={},WithReservation.story={name:"with reservation",args:{currentUsername:"reserved",reservation:DEFAULT_RESERVATION}};var UsernameEditingConfirming=Template.bind({});UsernameEditingConfirming.args={state:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Confirming,currentUsername:"signaluser.12"},UsernameEditingConfirming.story={name:"Username editing, Confirming"};var UsernameEditingUsernameTaken=Template.bind({});UsernameEditingUsernameTaken.args={state:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Open,error:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.UsernameNotAvailable,currentUsername:"signaluser.12"},UsernameEditingUsernameTaken.story={name:"Username editing, username taken"};var UsernameEditingUsernameWrongCharacters=Template.bind({});UsernameEditingUsernameWrongCharacters.args={state:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Open,error:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.CheckCharacters,currentUsername:"signaluser.12"},UsernameEditingUsernameWrongCharacters.story={name:"Username editing, Wrong Characters"};var UsernameEditingUsernameTooShort=Template.bind({});UsernameEditingUsernameTooShort.args={state:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Open,error:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.NotEnoughCharacters,currentUsername:"sig"},UsernameEditingUsernameTooShort.story={name:"Username editing, username too short"};var UsernameEditingGeneralError=Template.bind({});UsernameEditingGeneralError.args={state:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.sQ.Open,error:_state_ducks_usernameEnums__WEBPACK_IMPORTED_MODULE_4__.Pn.General,currentUsername:"signaluser.12"},UsernameEditingGeneralError.story={name:"Username editing, general error"};var __namedExportsOrder=["WithoutUsername","WithUsername","WithReservation","UsernameEditingConfirming","UsernameEditingUsernameTaken","UsernameEditingUsernameWrongCharacters","UsernameEditingUsernameTooShort","UsernameEditingGeneralError"]},"./ts/util/grapheme.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{QX:()=>count,Rc:()=>truncateAndSize,i3:()=>isSingleGrapheme});var _iterables__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ts/util/iterables.ts");function count(str){var segments=(new Intl.Segmenter).segment(str);return(0,_iterables__WEBPACK_IMPORTED_MODULE_0__.dp)(segments)}function truncateAndSize(str,toSize){var segments=(new Intl.Segmenter).segment(str),originalSize=(0,_iterables__WEBPACK_IMPORTED_MODULE_0__.dp)(segments);return void 0===toSize||originalSize<=toSize?[str,originalSize]:[(0,_iterables__WEBPACK_IMPORTED_MODULE_0__.v_)((0,_iterables__WEBPACK_IMPORTED_MODULE_0__.UI)((0,_iterables__WEBPACK_IMPORTED_MODULE_0__.qn)(segments,toSize),(function(s){return s.segment})),""),toSize]}function isSingleGrapheme(str){return""!==str&&(new Intl.Segmenter).segment(str).containing(0).segment===str}},"./ts/util/iterables.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(e){didErr=!0,err=e},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function isIterable(value){return"object"==typeof value&&null!=value&&Symbol.iterator in value||"string"==typeof value}function size(iterable){if("string"==typeof iterable||Array.isArray(iterable))return iterable.length;if(iterable instanceof Set||iterable instanceof Map)return iterable.size;for(var iterator=iterable[Symbol.iterator](),result=-1,done=!1;!done;result+=1)done=Boolean(iterator.next().done);return result}__webpack_require__.d(__webpack_exports__,{TW:()=>isIterable,UI:()=>map,dp:()=>size,f9:()=>zipObject,hX:()=>filter,qn:()=>take,rx:()=>repeat,u4:()=>reduce,v_:()=>join,yW:()=>every});function every(iterable,predicate){var _step2,_iterator2=_createForOfIteratorHelper(iterable);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){if(!predicate(_step2.value))return!1}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return!0}function filter(iterable,predicate){return new FilterIterable(iterable,predicate)}var FilterIterable=function(_Symbol$iterator2){function FilterIterable(iterable,predicate){_classCallCheck(this,FilterIterable),this.iterable=iterable,this.predicate=predicate}return _createClass(FilterIterable,[{key:Symbol.iterator,value:function(){return new FilterIterator(this.iterable[Symbol.iterator](),this.predicate)}}]),FilterIterable}(),FilterIterator=function(){function FilterIterator(iterator,predicate){_classCallCheck(this,FilterIterator),this.iterator=iterator,this.predicate=predicate}return _createClass(FilterIterator,[{key:"next",value:function next(){for(;;){var nextIteration=this.iterator.next();if(nextIteration.done||this.predicate(nextIteration.value))return nextIteration}}}]),FilterIterator}();function join(iterable,separator){var _step6,hasProcessedFirst=!1,result="",_iterator6=_createForOfIteratorHelper(iterable);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _value4=_step6.value,stringifiedValue=null==_value4?"":String(_value4);hasProcessedFirst?result+=separator+stringifiedValue:result=stringifiedValue,hasProcessedFirst=!0}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return result}function map(iterable,fn){return new MapIterable(iterable,fn)}var MapIterable=function(_Symbol$iterator4){function MapIterable(iterable,fn){_classCallCheck(this,MapIterable),this.iterable=iterable,this.fn=fn}return _createClass(MapIterable,[{key:Symbol.iterator,value:function(){return new MapIterator(this.iterable[Symbol.iterator](),this.fn)}}]),MapIterable}(),MapIterator=function(){function MapIterator(iterator,fn){_classCallCheck(this,MapIterator),this.iterator=iterator,this.fn=fn}return _createClass(MapIterator,[{key:"next",value:function next(){var nextIteration=this.iterator.next();return nextIteration.done?nextIteration:{done:!1,value:this.fn(nextIteration.value)}}}]),MapIterator}();function reduce(iterable,fn,accumulator){var _step7,result=accumulator,_iterator7=_createForOfIteratorHelper(iterable);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){result=fn(result,_step7.value)}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}return result}function repeat(value){return new RepeatIterable(value)}var RepeatIterable=function(_Symbol$iterator5){function RepeatIterable(value){_classCallCheck(this,RepeatIterable),this.value=value}return _createClass(RepeatIterable,[{key:Symbol.iterator,value:function(){return new RepeatIterator(this.value)}}]),RepeatIterable}(),RepeatIterator=function(){function RepeatIterator(value){_classCallCheck(this,RepeatIterator),this.iteratorResult={done:!1,value}}return _createClass(RepeatIterator,[{key:"next",value:function next(){return this.iteratorResult}}]),RepeatIterator}();function take(iterable,amount){return new TakeIterable(iterable,amount)}var TakeIterable=function(_Symbol$iterator6){function TakeIterable(iterable,amount){_classCallCheck(this,TakeIterable),this.iterable=iterable,this.amount=amount}return _createClass(TakeIterable,[{key:Symbol.iterator,value:function(){return new TakeIterator(this.iterable[Symbol.iterator](),this.amount)}}]),TakeIterable}(),TakeIterator=function(){function TakeIterator(iterator,amount){_classCallCheck(this,TakeIterator),this.iterator=iterator,this.amount=amount}return _createClass(TakeIterator,[{key:"next",value:function next(){var nextIteration=this.iterator.next();return nextIteration.done||0===this.amount?{done:!0,value:void 0}:(this.amount-=1,nextIteration)}}]),TakeIterator}();function zipObject(props,values){for(var result={},propsIterator=props[Symbol.iterator](),valuesIterator=values[Symbol.iterator]();;){var propIteration=propsIterator.next();if(propIteration.done)break;var valueIteration=valuesIterator.next();if(valueIteration.done)break;result[propIteration.value]=valueIteration.value}return result}},"./ts/util/missingCaseError.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>missingCaseError});var missingCaseError=function(x){return new TypeError(`Unhandled case: ${function reallyJsonStringify(value){var result;try{result=JSON.stringify(value)}catch(_err){result=void 0}return"string"==typeof result?result:Object.prototype.toString.call(value)}(x)}`)}}}]);