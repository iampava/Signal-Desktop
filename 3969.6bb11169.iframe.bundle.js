(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[3969,4377],{"./ts/components/stickers/StickerPicker.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,Error:()=>Error,Full:()=>Full,NoCover:()=>NoCover,NoRecentStickers:()=>NoRecentStickers,PendingDownload:()=>PendingDownload,PickerHint:()=>PickerHint,__namedExportsOrder:()=>__namedExportsOrder,abeSticker:()=>abeSticker,createPack:()=>createPack,default:()=>__WEBPACK_DEFAULT_EXPORT__,sticker1:()=>sticker1,sticker2:()=>sticker2,sticker3:()=>sticker3,tallSticker:()=>tallSticker,wideSticker:()=>wideSticker});var lodash_sample__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/sample.js"),lodash_sample__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_sample__WEBPACK_IMPORTED_MODULE_0__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js")),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_util_setupI18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/util/setupI18n.ts"),_locales_en_messages_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./_locales/en/messages.json"),_StickerPicker__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ts/components/stickers/StickerPicker.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var i18n=(0,_util_setupI18n__WEBPACK_IMPORTED_MODULE_4__.E5)("en",_locales_en_messages_json__WEBPACK_IMPORTED_MODULE_5__);const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Stickers/StickerPicker"};var sticker1={id:1,url:"/fixtures/kitten-1-64-64.jpg",packId:"foo",emoji:""},sticker2={id:2,url:"/fixtures/kitten-2-64-64.jpg",packId:"bar",emoji:""},sticker3={id:3,url:"/fixtures/kitten-3-64-64.jpg",packId:"baz",emoji:""},abeSticker={id:4,url:"/fixtures/512x515-thumbs-up-lincoln.webp",packId:"abe",emoji:""},wideSticker={id:5,url:"/fixtures/1000x50-green.jpeg",packId:"wide",emoji:""},tallSticker={id:6,url:"/fixtures/50x1000-teal.jpeg",packId:"tall",emoji:""},choosableStickers=[sticker1,sticker2,sticker3,abeSticker],createPack=function(props,sticker){return Object.assign({id:"",title:props.id?`${props.id} title`:"title",key:"",author:"",isBlessed:!1,lastUsed:0,status:"known",cover:sticker,stickerCount:101,stickers:sticker?Array(101).fill(0).map((function(_,id){return Object.assign({},sticker,{id})})):[]},props)},packs=[createPack({id:"tall"},tallSticker),createPack({id:"wide"},wideSticker)].concat(function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(20).fill(0).map((function(_,n){return createPack({id:`pack-${n}`},lodash_sample__WEBPACK_IMPORTED_MODULE_0___default()(choosableStickers))})))),recentStickers=[abeSticker,sticker1,sticker2,sticker3,tallSticker,wideSticker,Object.assign({},sticker2,{id:9999})],createProps=function(){var overrideProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{i18n,onClickAddPack:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onClickAddPack"),onClose:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onClose"),onPickSticker:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onPickSticker"),packs:overrideProps.packs||[],recentStickers:overrideProps.recentStickers||[],showPickerHint:(0,_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.boolean)("showPickerHint",overrideProps.showPickerHint||!1)}};function Full(){var props=createProps({packs,recentStickers});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}function PickerHint(){var props=createProps({packs,recentStickers,showPickerHint:!0});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}function NoRecentStickers(){var props=createProps({packs});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}function Empty(){var props=createProps();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}function PendingDownload(){var pack=createPack({status:"pending",stickers:[abeSticker]},abeSticker),props=createProps({packs:[pack]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}function Error(){var pack=createPack({status:"error",stickers:[abeSticker]},abeSticker),props=createProps({packs:[pack]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}function NoCover(){var pack=createPack({status:"error",stickers:[abeSticker]}),props=createProps({packs:[pack]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StickerPicker__WEBPACK_IMPORTED_MODULE_6__.C,Object.assign({},props))}Full.displayName="Full",PickerHint.displayName="PickerHint",NoRecentStickers.displayName="NoRecentStickers",Empty.displayName="Empty",PendingDownload.displayName="PendingDownload",Error.displayName="Error",NoCover.displayName="NoCover";var __namedExportsOrder=["sticker1","sticker2","sticker3","abeSticker","wideSticker","tallSticker","createPack","Full","PickerHint","NoRecentStickers","Empty","PendingDownload","Error","NoCover"]},"./ts/components/stickers/StickerPicker.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>StickerPicker});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),focus_trap_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/focus-trap-react/dist/focus-trap-react.js"),focus_trap_react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(focus_trap_react__WEBPACK_IMPORTED_MODULE_2__),_hooks_useRestoreFocus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/hooks/useRestoreFocus.ts"),_util_getAnalogTime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/util/getAnalogTime.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function getPacksPageOffset(page,packs){return 0===page?0:isLastPacksPage(page,packs)?224*(Math.floor(packs/7)-1)+32*(packs%7-1):32*page*7}function isLastPacksPage(page,packs){return page===Math.floor(packs/7)}var StickerPicker=react__WEBPACK_IMPORTED_MODULE_0__.memo(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var i18n=_ref.i18n,packs=_ref.packs,recentStickers=_ref.recentStickers,onClose=_ref.onClose,onClickAddPack=_ref.onClickAddPack,onPickSticker=_ref.onPickSticker,onPickTimeSticker=_ref.onPickTimeSticker,showPickerHint=_ref.showPickerHint,style=_ref.style,tabIds=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return["recents"].concat(_toConsumableArray(packs.map((function(_ref2){return _ref2.id}))))}),[packs]),_useTabs=function useTabs(tabs){var initialTab=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tabs[0],_React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_0__.useState(initialTab),2),tab=_React$useState2[0],setTab=_React$useState2[1],handlers=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return tabs.map((function(t){return function(){setTab(t)}}))}),[tabs]);return[tab,handlers]}(tabIds,tabIds[recentStickers.length>0?0:Math.min(1,tabIds.length)]),_useTabs2=_slicedToArray(_useTabs,2),currentTab=_useTabs2[0],_useTabs2$=function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest()}(_useTabs2[1]),recentsHandler=_useTabs2$[0],packsHandlers=_useTabs2$.slice(1),selectedPack=packs.find((function(_ref3){return _ref3.id===currentTab})),_ref4=selectedPack||{},_ref4$stickers=_ref4.stickers,stickers=void 0===_ref4$stickers?recentStickers:_ref4$stickers,_ref4$title=_ref4.title,packTitle=void 0===_ref4$title?"Recent Stickers":_ref4$title,_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),2),isUsingKeyboard=_React$useState4[0],setIsUsingKeyboard=_React$useState4[1],_React$useState6=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_0__.useState(0),2),packsPage=_React$useState6[0],setPacksPage=_React$useState6[1],onClickPrevPackPage=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setPacksPage((function(i){return i-1}))}),[setPacksPage]),onClickNextPackPage=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){setPacksPage((function(i){return i+1}))}),[setPacksPage]);react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){var handler=function(event){"Tab"!==event.key?"Escape"===event.key&&(event.stopPropagation(),event.preventDefault(),onClose()):setIsUsingKeyboard(!0)};return document.addEventListener("keydown",handler),function(){document.removeEventListener("keydown",handler)}}),[onClose]);var focusRef=_slicedToArray((0,_hooks_useRestoreFocus__WEBPACK_IMPORTED_MODULE_3__.H)(),1)[0],hasPacks=packs.length>0,isRecents=hasPacks&&"recents"===currentTab,hasTimeStickers=isRecents&&onPickTimeSticker,isEmpty=0===stickers.length&&!hasTimeStickers,addPackRef=isEmpty?focusRef:void 0,downloadError=selectedPack&&"error"===selectedPack.status&&selectedPack.stickerCount!==selectedPack.stickers.length,pendingCount=selectedPack&&"pending"===selectedPack.status?selectedPack.stickerCount-stickers.length:0,showEmptyText=!downloadError&&isEmpty,showText=pendingCount>0||downloadError||showEmptyText,showLongText=showPickerHint,analogTime=(0,_util_getAnalogTime__WEBPACK_IMPORTED_MODULE_5__._)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(focus_trap_react__WEBPACK_IMPORTED_MODULE_2___default(),{focusTrapOptions:{allowOutsideClick:!0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker",ref,style,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker__header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker__header__packs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker__header__packs__slider",style:{transform:`translateX(-${getPacksPageOffset(packsPage,packs.length)}px)`},children:[hasPacks?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{"aria-pressed":"recents"===currentTab,type:"button",onClick:recentsHandler,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"module-sticker-picker__header__button":!0,"module-sticker-picker__header__button--recents":!0,"module-sticker-picker__header__button--selected":"recents"===currentTab}),"aria-label":i18n("icu:stickers--StickerPicker--Recents")}):null,packs.map((function(pack,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{"aria-pressed":currentTab===pack.id,type:"button",onClick:packsHandlers[i],className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__header__button",{"module-sticker-picker__header__button--selected":currentTab===pack.id,"module-sticker-picker__header__button--error":"error"===pack.status}),children:pack.cover?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{className:"module-sticker-picker__header__button__image",src:pack.cover.url,alt:pack.title,title:pack.title}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-sticker-picker__header__button__image-placeholder"})},pack.id)}))]}),!isUsingKeyboard&&packsPage>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__header__button","module-sticker-picker__header__button--prev-page"),onClick:onClickPrevPackPage,"aria-label":i18n("icu:stickers--StickerPicker--PrevPage")}):null,isUsingKeyboard||isLastPacksPage(packsPage,packs.length)?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__header__button","module-sticker-picker__header__button--next-page"),onClick:onClickNextPackPage,"aria-label":i18n("icu:stickers--StickerPicker--NextPage")})]}),onClickAddPack&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",ref:addPackRef,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__header__button","module-sticker-picker__header__button--add-pack",{"module-sticker-picker__header__button--hint":showPickerHint}),onClick:onClickAddPack,"aria-label":i18n("icu:stickers--StickerPicker--AddPack")})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__body",{"module-sticker-picker__body--empty":isEmpty}),children:[showPickerHint?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__body__text","module-sticker-picker__body__text--hint",{"module-sticker-picker__body__text--pin":showEmptyText}),children:i18n("icu:stickers--StickerPicker--Hint")}):null,hasPacks?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-sticker-picker__body__text",children:i18n("icu:stickers--StickerPicker--NoPacks")}),pendingCount>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-sticker-picker__body__text",children:i18n("icu:stickers--StickerPicker--DownloadPending")}):null,downloadError?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__body__text","module-sticker-picker__body__text--error"),children:stickers.length>0?i18n("icu:stickers--StickerPicker--DownloadError"):i18n("icu:stickers--StickerPicker--Empty")}):null,hasPacks&&showEmptyText?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__body__text",{"module-sticker-picker__body__text--error":!isRecents}),children:i18n(isRecents?"icu:stickers--StickerPicker--NoRecents":"icu:stickers--StickerPicker--Empty")}):null,isEmpty?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker__body__content",children:[isRecents&&onPickTimeSticker&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker__recents",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{className:"module-sticker-picker__recents__title",children:i18n("icu:stickers__StickerPicker__featured")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"module-sticker-picker__body__grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",className:"module-sticker-picker__body__cell module-sticker-picker__time--digital",onClick:function(){return onPickTimeSticker("digital")},children:new Intl.DateTimeFormat(window.getPreferredSystemLocales(),{hour:"numeric",minute:"numeric"}).formatToParts(Date.now()).filter((function(x){return"dayPeriod"!==x.type})).reduce((function(acc,_ref5){return`${acc}${_ref5.value}`}),"")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{"aria-label":i18n("icu:stickers__StickerPicker__analog-time"),className:"module-sticker-picker__body__cell module-sticker-picker__time--analog",onClick:function(){return onPickTimeSticker("analog")},type:"button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"module-sticker-picker__time--analog__hour",style:{transform:`rotate(${analogTime.hour}deg)`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"module-sticker-picker__time--analog__minute",style:{transform:`rotate(${analogTime.minute}deg)`}})]})]}),stickers.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{className:"module-sticker-picker__recents__title",children:i18n("icu:stickers__StickerPicker__recent")})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-sticker-picker__body__grid",{"module-sticker-picker__body__content--under-text":showText,"module-sticker-picker__body__content--under-long-text":showLongText}),children:[stickers.map((function(_ref6,index){var packId=_ref6.packId,id=_ref6.id,url=_ref6.url,maybeFocusRef=0===index?focusRef:void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",ref:maybeFocusRef,className:"module-sticker-picker__body__cell",onClick:function(){return onPickSticker(packId,id,url)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{className:"module-sticker-picker__body__cell__image",src:url,alt:packTitle})},`${packId}-${id}`)})),Array(pendingCount).fill(0).map((function(_,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"module-sticker-picker__body__cell__placeholder",role:"presentation"},i)}))]})]})]})]})})})))},"./ts/hooks/useRestoreFocus.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>useRestoreFocus,e:()=>useDelayedRestoreFocus});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useRestoreFocus=function(){var toFocusRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),lastFocusedRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),setFocusRef=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(toFocus){toFocus&&(toFocusRef.current||(toFocusRef.current=toFocus,lastFocusedRef.current=document.activeElement,toFocus.focus()))}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){return function(){setTimeout((function(){lastFocusedRef.current&&lastFocusedRef.current.focus&&lastFocusedRef.current.focus()}))}}),[]),[setFocusRef]},useDelayedRestoreFocus=function(){var toFocusRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),lastFocusedRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),setFocusRef=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(toFocus){var timeout=setTimeout((function setFocus(){toFocus&&(toFocusRef.current||(toFocusRef.current=toFocus,lastFocusedRef.current=document.activeElement,toFocus.focus()))}),250);return function(){clearTimeout(timeout)}}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){return function(){setTimeout((function(){lastFocusedRef.current&&lastFocusedRef.current.focus&&lastFocusedRef.current.focus()}))}}),[]),[setFocusRef]}},"./ts/util/getAnalogTime.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>getAnalogTime});var HOURS=[0,30,60,90,120,150,180,210,240,270,300,330];function getAnalogTime(){var _HOURS$hourIndex,date=new Date,minutesBy60=60/date.getMinutes(),minute=360/minutesBy60,hourIndex=date.getHours()%12;return{hour:(null!==(_HOURS$hourIndex=HOURS[hourIndex])&&void 0!==_HOURS$hourIndex?_HOURS$hourIndex:0)+30/minutesBy60,minute}}},"./node_modules/lodash/_arraySample.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRandom=__webpack_require__("./node_modules/lodash/_baseRandom.js");module.exports=function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:void 0}},"./node_modules/lodash/_baseRandom.js":module=>{var nativeFloor=Math.floor,nativeRandom=Math.random;module.exports=function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}},"./node_modules/lodash/_baseSample.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arraySample=__webpack_require__("./node_modules/lodash/_arraySample.js"),values=__webpack_require__("./node_modules/lodash/values.js");module.exports=function baseSample(collection){return arraySample(values(collection))}},"./node_modules/lodash/_baseValues.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js");module.exports=function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}},"./node_modules/lodash/sample.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arraySample=__webpack_require__("./node_modules/lodash/_arraySample.js"),baseSample=__webpack_require__("./node_modules/lodash/_baseSample.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function sample(collection){return(isArray(collection)?arraySample:baseSample)(collection)}},"./node_modules/lodash/values.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseValues=__webpack_require__("./node_modules/lodash/_baseValues.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function values(object){return null==object?[]:baseValues(object,keys(object))}}}]);