/*! For license information please see emoji-Emoji-stories.69093d0a.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[3544,3905],{"./ts/components/emoji/Emoji.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FromEmoji:()=>FromEmoji,Sizes:()=>Sizes,SkinTones:()=>SkinTones,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),_Emoji__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/emoji/Emoji.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Emoji/Emoji"};var tones=[0,1,2,3,4,5],createProps=function(){var overrideProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{size:(0,_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.select)("size",_Emoji__WEBPACK_IMPORTED_MODULE_2__.g.reduce((function(m,t){return Object.assign({},m,{[t]:t})}),{}),overrideProps.size||48),emoji:(0,_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("emoji",overrideProps.emoji||""),shortName:(0,_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("shortName",overrideProps.shortName||""),skinTone:(0,_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.select)("skinTone",tones.reduce((function(m,t){return Object.assign({},m,{[t]:t})}),{}),overrideProps.skinTone||0)}};function Sizes(){var props=createProps({shortName:"grinning_face_with_star_eyes"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:_Emoji__WEBPACK_IMPORTED_MODULE_2__.g.map((function(size){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Emoji__WEBPACK_IMPORTED_MODULE_2__.d,Object.assign({},props,{size}),size)}))})}function SkinTones(){var props=createProps({shortName:"raised_back_of_hand"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:tones.map((function(skinTone){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Emoji__WEBPACK_IMPORTED_MODULE_2__.d,Object.assign({},props,{skinTone}),skinTone)}))})}function FromEmoji(){var props=createProps({emoji:"ðŸ˜‚"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Emoji__WEBPACK_IMPORTED_MODULE_2__.d,Object.assign({},props))}FromEmoji.displayName="FromEmoji";var __namedExportsOrder=["Sizes","SkinTones","FromEmoji"]},"./ts/components/emoji/Emoji.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>Emoji,g:()=>EmojiSizes});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/emoji/lib.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),EmojiSizes=[16,18,20,24,28,32,48,64,66],Emoji=react__WEBPACK_IMPORTED_MODULE_0__.memo(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var className=_ref.className,emoji=_ref.emoji,shortName=_ref.shortName,_ref$size=_ref.size,size=void 0===_ref$size?28:_ref$size,skinTone=_ref.skinTone,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,title=_ref.title,image="";return shortName?image=(0,_lib__WEBPACK_IMPORTED_MODULE_2__.al)(shortName,skinTone):emoji&&(image=(0,_lib__WEBPACK_IMPORTED_MODULE_2__.rl)(emoji)||""),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{ref,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-emoji",`module-emoji--${size}px`,className),style,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{className:`module-emoji__image--${size}px`,src:image,"aria-label":null!=title?title:emoji,title:null!=title?title:emoji})})})))},"./ts/components/emoji/lib.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Eb:()=>getSizeClass,J7:()=>getEmojiCount,Mz:()=>hasNonEmojiText,PE:()=>emojiToData,al:()=>getImagePath,lu:()=>dataByCategory,nS:()=>convertShortName,pQ:()=>unifiedToEmoji,qg:()=>isShortName,rl:()=>emojiToImage,rz:()=>convertShortNameToData,yC:()=>search,yz:()=>getEmojiData});var lodash_take__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/take.js"),lodash_take__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_take__WEBPACK_IMPORTED_MODULE_0__),lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/sortBy.js"),lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__),lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__),lodash_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_3__),lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash/keyBy.js"),lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__),lodash_isNumber__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash/isNumber.js"),lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_5__),lodash_groupBy__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash/groupBy.js"),lodash_groupBy__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_6__),lodash_get__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/lodash/get.js"),lodash_get__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_7__),lodash_flatMap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/lodash/flatMap.js"),lodash_flatMap__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_8__),lodash_compact__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_9__),emoji_datasource__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/emoji-datasource/emoji.json"),emoji_regex__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/emoji-regex/index.js"),emoji_regex__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(emoji_regex__WEBPACK_IMPORTED_MODULE_11__),fuse_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/fuse.js/dist/fuse.esm.js"),p_queue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/p-queue/dist/index.js"),_util_getOwn__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./ts/util/getOwn.ts"),_util_durations__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./ts/logging/log.ts"),__webpack_require__("./ts/util/durations/index.ts"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var skinTones=["1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"],data=emoji_datasource__WEBPACK_IMPORTED_MODULE_10__.filter((function(emoji){return emoji.has_img_apple})).map((function(emoji){return"People & Body"===emoji.category?Object.assign({},emoji,{sort_order:emoji.sort_order+1e3}):emoji})),ROOT_PATH=lodash_get__WEBPACK_IMPORTED_MODULE_7___default()("undefined"!=typeof window?window:null,"ROOT_PATH",""),makeImagePath=function(src){return`${ROOT_PATH}node_modules/emoji-datasource-apple/img/apple/64/${src}`},dataByShortName=(new p_queue__WEBPACK_IMPORTED_MODULE_12__.Z({concurrency:10,timeout:30*_util_durations__WEBPACK_IMPORTED_MODULE_14__.EB,throwOnTimeout:!0}),new Set,lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default()(data,"short_name")),imageByEmoji={},dataByEmoji={},dataByCategory=lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_6___default()(data,(function(_ref){var category=_ref.category;return"Activities"===category?"activity":"Animals & Nature"===category?"animal":"Flags"===category?"flag":"Food & Drink"===category?"food":"Objects"===category?"object":"Travel & Places"===category?"travel":"Smileys & Emotion"===category||"People & Body"===category?"emoji":"Symbols"===category?"symbol":"misc"})),(function(arr){return lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(arr,"sort_order")}));function getEmojiData(shortName,skinTone){var base=dataByShortName[shortName];if(skinTone&&base.skin_variations){var variation=lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default()(skinTone)?skinTones[skinTone-1]:skinTone;return base.skin_variations[variation]?base.skin_variations[variation]:base.skin_variations[`${variation}-${variation}`]}return base}function getImagePath(shortName,skinTone){var emojiData=getEmojiData(shortName,skinTone);return makeImagePath(emojiData.image)}var fuse=new fuse_js__WEBPACK_IMPORTED_MODULE_15__.Z(data,{shouldSort:!0,threshold:.2,minMatchCharLength:1,keys:["short_name","short_names"]}),fuseExactPrefix=new fuse_js__WEBPACK_IMPORTED_MODULE_15__.Z(data,{shouldSort:!0,threshold:0,minMatchCharLength:2,keys:["short_name","short_names"]});function search(query){var count=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,fuseIndex=2===query.length?fuseExactPrefix:fuse,results=fuseIndex.search(query.substr(0,32)).map((function(result){return result.item}));return count?lodash_take__WEBPACK_IMPORTED_MODULE_0___default()(results,count):results}var shortNames=new Set([].concat(_toConsumableArray(lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(data,"short_name")),_toConsumableArray(lodash_compact__WEBPACK_IMPORTED_MODULE_9___default()(lodash_flatMap__WEBPACK_IMPORTED_MODULE_8___default()(data,"short_names")))));function isShortName(name){return shortNames.has(name)}function unifiedToEmoji(unified){return unified.split("-").map((function(c){return String.fromCodePoint(parseInt(c,16))})).join("")}function convertShortNameToData(shortName){var skinTone=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,base=dataByShortName[shortName];if(base){var toneKey=lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default()(skinTone)?skinTones[skinTone-1]:skinTone;if(skinTone&&base.skin_variations){var variation=base.skin_variations[toneKey];if(variation)return Object.assign({},base,variation)}return base}}function convertShortName(shortName){var skinTone=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,emojiData=convertShortNameToData(shortName,skinTone);return emojiData?unifiedToEmoji(emojiData.unified):""}function emojiToImage(emoji){return(0,_util_getOwn__WEBPACK_IMPORTED_MODULE_16__.G)(imageByEmoji,emoji)}function emojiToData(emoji){return(0,_util_getOwn__WEBPACK_IMPORTED_MODULE_16__.G)(dataByEmoji,emoji)}function getEmojiCount(str){var regex=emoji_regex__WEBPACK_IMPORTED_MODULE_11___default()(),match=regex.exec(str),count=0;if(!regex.global)return match?1:0;for(;match;)count+=1,match=regex.exec(str);return count}function hasNonEmojiText(str){return str.replace(emoji_regex__WEBPACK_IMPORTED_MODULE_11___default()(),"").trim().length>0}function getSizeClass(str){if(hasNonEmojiText(str))return"";var emojiCount=getEmojiCount(str);return 1===emojiCount?"max":2===emojiCount?"extra-large":3===emojiCount?"large":4===emojiCount?"medium":5===emojiCount?"small":""}data.forEach((function(emoji){var short_name=emoji.short_name,short_names=emoji.short_names,skin_variations=emoji.skin_variations,image=emoji.image;short_names&&short_names.forEach((function(name){dataByShortName[name]=emoji})),imageByEmoji[convertShortName(short_name)]=makeImagePath(image),dataByEmoji[convertShortName(short_name)]=emoji,skin_variations&&Object.entries(skin_variations).forEach((function(_ref2){var _ref3=_slicedToArray(_ref2,2),tone=_ref3[0],variation=_ref3[1];imageByEmoji[convertShortName(short_name,tone)]=makeImagePath(variation.image),dataByEmoji[convertShortName(short_name,tone)]=emoji}))}))},"./ts/util/durations/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EB:()=>MINUTE,kr:()=>HOUR,ps:()=>WEEK,sh:()=>SECOND,vc:()=>MONTH,x4:()=>DAY});var SECOND=1e3,MINUTE=60*SECOND,HOUR=60*MINUTE,DAY=24*HOUR,WEEK=7*DAY,MONTH=30*DAY},"./ts/util/durations/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x4:()=>constants.x4,kC:()=>DurationInSeconds,kr:()=>constants.kr,EB:()=>constants.EB,vc:()=>constants.vc,sh:()=>constants.sh,ps:()=>constants.ps});var DurationInSeconds,_DurationInSeconds,constants=__webpack_require__("./ts/util/durations/constants.ts");(_DurationInSeconds=DurationInSeconds||(DurationInSeconds={})).fromMillis=function(ms){return ms/constants.sh},_DurationInSeconds.fromSeconds=function(seconds){return seconds},_DurationInSeconds.fromMinutes=function(m){return m*constants.EB/constants.sh},_DurationInSeconds.fromHours=function(h){return h*constants.kr/constants.sh},_DurationInSeconds.fromDays=function(d){return d*constants.x4/constants.sh},_DurationInSeconds.fromWeeks=function(d){return d*constants.ps/constants.sh},_DurationInSeconds.fromMonths=function(d){return d*constants.vc/constants.sh},_DurationInSeconds.toSeconds=function(d){return d},_DurationInSeconds.toMillis=function(d){return d*constants.sh},_DurationInSeconds.toHours=function(d){return d*constants.sh/constants.kr},_DurationInSeconds.ZERO=DurationInSeconds.fromSeconds(0),_DurationInSeconds.HOUR=DurationInSeconds.fromHours(1),_DurationInSeconds.MINUTE=DurationInSeconds.fromMinutes(1),_DurationInSeconds.DAY=DurationInSeconds.fromDays(1),_DurationInSeconds.WEEK=DurationInSeconds.fromWeeks(1)},"./ts/util/getOwn.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getOwn(obj,key){return Object.hasOwn(obj,key)?obj[key]:void 0}__webpack_require__.d(__webpack_exports__,{G:()=>getOwn})},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?module.exports=classNames:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}}]);