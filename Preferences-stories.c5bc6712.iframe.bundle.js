(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[7179],{"./ts/Bytes.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>byteLength,mV:()=>concatenate,Gh:()=>fromBase64,H_:()=>fromHex,mL:()=>fromString,s3:()=>toBase64});var buffer=__webpack_require__("./node_modules/buffer/index.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _window$SignalContext,Bytes=function(){function Bytes(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Bytes)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Bytes,[{key:"fromBase64",value:function fromBase64(value){return buffer.lW.from(value,"base64")}},{key:"fromHex",value:function fromHex(value){return buffer.lW.from(value,"hex")}},{key:"fromBinary",value:function fromBinary(value){return buffer.lW.from(value,"binary")}},{key:"fromString",value:function fromString(value){return buffer.lW.from(value)}},{key:"toBase64",value:function toBase64(data){return buffer.lW.from(data).toString("base64")}},{key:"toHex",value:function toHex(data){return buffer.lW.from(data).toString("hex")}},{key:"toBinary",value:function toBinary(data){return buffer.lW.from(data).toString("binary")}},{key:"toString",value:function toString(data){return buffer.lW.from(data).toString()}},{key:"byteLength",value:function byteLength(value){return buffer.lW.byteLength(value)}},{key:"concatenate",value:function concatenate(list){return buffer.lW.concat(list)}},{key:"isEmpty",value:function isEmpty(data){return!data||0===data.length}},{key:"isNotEmpty",value:function isNotEmpty(data){return!this.isEmpty(data)}},{key:"areEqual",value:function areEqual(a,b){return a&&b?0===buffer.lW.compare(a,b):!a&&!b}}]),Bytes}(),bytes=(null===(_window$SignalContext=window.SignalContext)||void 0===_window$SignalContext?void 0:_window$SignalContext.bytes)||new Bytes;function fromBase64(value){return bytes.fromBase64(value)}function fromHex(value){return bytes.fromHex(value)}function fromString(value){return bytes.fromString(value)}function toBase64(data){return bytes.toBase64(data)}function byteLength(value){return bytes.byteLength(value)}function concatenate(list){return bytes.concatenate(list)}},"./ts/components/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>Checkbox});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid-browser/index.js"),_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/getClassNamesFor.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Checkbox=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function CheckboxInner(_ref,ref){var checked=_ref.checked,children=_ref.children,description=_ref.description,disabled=_ref.disabled,isRadio=_ref.isRadio,label=_ref.label,moduleClassName=_ref.moduleClassName,name=_ref.name,onChange=_ref.onChange,onClick=_ref.onClick,getClassName=(0,_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__.h)("Checkbox",moduleClassName),id=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return`${name}::${(0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)()}`}),[name]),checkboxNode=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:getClassName("__checkbox"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{checked:Boolean(checked),disabled,id,name,onChange:function(ev){return onChange(ev.target.checked)},onClick,ref,type:isRadio?"radio":"checkbox"})}),labelNode=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("label",{htmlFor:id,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:getClassName("__description"),children:description})]})});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:getClassName(""),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:getClassName("__container"),children:children?children({id,checkboxNode,labelNode,checked}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[checkboxNode,labelNode]})})})}))},"./ts/components/CircleCheckbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>Variant,p:()=>CircleCheckbox});var Variant,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/getClassNamesFor.ts"),_util_missingCaseError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/util/missingCaseError.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function CircleCheckbox(_ref){var variantModifier,id=_ref.id,_ref$variant=_ref.variant,variant=void 0===_ref$variant?Variant.Normal:_ref$variant,checked=_ref.checked,disabled=_ref.disabled,isRadio=_ref.isRadio,moduleClassName=_ref.moduleClassName,name=_ref.name,onChange=_ref.onChange,onClick=_ref.onClick,getClassName=(0,_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__.h)("CircleCheckbox",moduleClassName);if(variant===Variant.Normal)variantModifier=getClassName("__checkbox--normal");else{if(variant!==Variant.Small)throw(0,_util_missingCaseError__WEBPACK_IMPORTED_MODULE_4__.b)(variant);variantModifier=getClassName("__checkbox--small")}var onChangeWrapped=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(ev){null==onChange||onChange(ev.target.checked)}),[onChange]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(getClassName("__checkbox"),variantModifier),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{checked:Boolean(checked),disabled,"aria-disabled":disabled,id,name,onChange:onChangeWrapped,onClick,type:isRadio?"radio":"checkbox"})})}!function(Variant){Variant.Normal="Normal",Variant.Small="Small"}(Variant||(Variant={})),CircleCheckbox.displayName="CircleCheckbox"},"./ts/components/DisappearingTimeDialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>DisappearingTimeDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ConfirmationDialog__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/ConfirmationDialog.tsx"),_Select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/Select.tsx"),_util_durations__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/durations/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CSS_MODULE="module-disappearing-time-dialog",UNITS=["seconds","minutes","hours","days","weeks"],UNIT_TO_SEC=new Map([["seconds",1],["minutes",60],["hours",3600],["days",86400],["weeks",604800]]),RANGES=new Map([["seconds",[1,60]],["minutes",[1,60]],["hours",[1,24]],["days",[1,7]],["weeks",[1,5]]]);function DisappearingTimeDialog(props){var _step,i18n=props.i18n,theme=props.theme,_props$initialValue=props.initialValue,initialValue=void 0===_props$initialValue?60:_props$initialValue,onSubmit=props.onSubmit,onClose=props.onClose,initialUnit="seconds",initialUnitValue=1,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(e){didErr=!0,err=e},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(UNITS);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _unit=_step.value,sec=UNIT_TO_SEC.get(_unit)||1;if(initialValue<sec)break;initialUnit=_unit,initialUnitValue=Math.floor(initialValue/sec)}}catch(err){_iterator.e(err)}finally{_iterator.f()}for(var _useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialUnitValue),2),unitValue=_useState2[0],setUnitValue=_useState2[1],_useState4=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialUnit),2),unit=_useState4[0],setUnit=_useState4[1],range=RANGES.get(unit)||[1,1],values=[],i=range[0];i<range[1];i+=1)values.push(i);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_ConfirmationDialog__WEBPACK_IMPORTED_MODULE_1__.U,{dialogName:"DisappearingTimerDialog",moduleClassName:CSS_MODULE,i18n,theme,onClose,title:i18n("icu:DisappearingTimeDialog__title"),hasXButton:!0,actions:[{text:i18n("icu:DisappearingTimeDialog__set"),style:"affirmative",action:function(){var _UNIT_TO_SEC$get;onSubmit(_util_durations__WEBPACK_IMPORTED_MODULE_3__.kC.fromSeconds(unitValue*(null!==(_UNIT_TO_SEC$get=UNIT_TO_SEC.get(unit))&&void 0!==_UNIT_TO_SEC$get?_UNIT_TO_SEC$get:1)))}}],children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:i18n("icu:DisappearingTimeDialog__body")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("section",{className:`${CSS_MODULE}__time-boxes`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Select__WEBPACK_IMPORTED_MODULE_2__.P,{ariaLabel:i18n("icu:DisappearingTimeDialog__label--value"),moduleClassName:`${CSS_MODULE}__time-boxes__value`,value:unitValue,onChange:function(newValue){return setUnitValue(parseInt(newValue,10))},options:values.map((function(value){return{value,text:value.toString()}}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Select__WEBPACK_IMPORTED_MODULE_2__.P,{ariaLabel:i18n("icu:DisappearingTimeDialog__label--units"),moduleClassName:`${CSS_MODULE}__time-boxes__units`,value:unit,onChange:function(newUnit){setUnit(newUnit);var ranges=RANGES.get(newUnit);if(ranges){var _ranges=_slicedToArray(ranges,2),min=_ranges[0],max=_ranges[1];setUnitValue(Math.max(min,Math.min(max-1,unitValue)))}},options:UNITS.map((function(unitName){return{value:unitName,text:{seconds:i18n("icu:DisappearingTimeDialog__seconds"),minutes:i18n("icu:DisappearingTimeDialog__minutes"),hours:i18n("icu:DisappearingTimeDialog__hours"),days:i18n("icu:DisappearingTimeDialog__days"),weeks:i18n("icu:DisappearingTimeDialog__weeks")}[unitName]}}))})]})]})}DisappearingTimeDialog.displayName="DisappearingTimeDialog"},"./ts/components/Preferences.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Blocked1:()=>Blocked1,BlockedMany:()=>BlockedMany,CustomUniversalExpireTimer:()=>CustomUniversalExpireTimer,FormattingDisabled:()=>FormattingDisabled,PNPDiscoverabilityDisabled:()=>PNPDiscoverabilityDisabled,PNPSharingDisabled:()=>PNPSharingDisabled,_Preferences:()=>_Preferences,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Preferences_stories});var react=__webpack_require__("./node_modules/react/index.js"),messages=__webpack_require__("./_locales/en/messages.json"),noop=__webpack_require__("./node_modules/lodash/noop.js"),noop_default=__webpack_require__.n(noop);const not_inert=":not([inert]):not([inert] *)",not_negTabIndex=':not([tabindex^="-"])',not_disabled=":not(:disabled)",focusable_selectors=[`a[href]${not_inert}${not_negTabIndex}`,`area[href]${not_inert}${not_negTabIndex}`,`input:not([type="hidden"]):not([type="radio"])${not_inert}${not_negTabIndex}${not_disabled}`,`input[type="radio"]${not_inert}${not_negTabIndex}${not_disabled}`,`select${not_inert}${not_negTabIndex}${not_disabled}`,`textarea${not_inert}${not_negTabIndex}${not_disabled}`,`button${not_inert}${not_negTabIndex}${not_disabled}`,`details${not_inert} > summary:first-of-type${not_negTabIndex}`,`iframe${not_inert}${not_negTabIndex}`,`audio[controls]${not_inert}${not_negTabIndex}`,`video[controls]${not_inert}${not_negTabIndex}`,`[contenteditable]${not_inert}${not_negTabIndex}`,`[tabindex]${not_inert}${not_negTabIndex}`];var PhoneNumberDiscoverability,classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),uuid_browser=__webpack_require__("./node_modules/uuid-browser/index.js"),uuid_browser_default=__webpack_require__.n(uuid_browser),Button=__webpack_require__("./ts/components/Button.tsx"),ChatColorPicker=__webpack_require__("./ts/components/ChatColorPicker.tsx"),Checkbox=__webpack_require__("./ts/components/Checkbox.tsx"),CircleCheckbox=__webpack_require__("./ts/components/CircleCheckbox.tsx"),ConfirmationDialog=__webpack_require__("./ts/components/ConfirmationDialog.tsx"),DisappearingTimeDialog=__webpack_require__("./ts/components/DisappearingTimeDialog.tsx"),util_enum=__webpack_require__("./ts/util/enum.ts");!function(PhoneNumberDiscoverability){PhoneNumberDiscoverability.Discoverable="Discoverable",PhoneNumberDiscoverability.NotDiscoverable="NotDiscoverable"}(PhoneNumberDiscoverability||(PhoneNumberDiscoverability={}));var PhoneNumberSharingMode;(0,util_enum.m)(PhoneNumberDiscoverability,PhoneNumberDiscoverability.Discoverable),__webpack_require__("./ts/util/whatTypeOfConversation.ts");!function(PhoneNumberSharingMode){PhoneNumberSharingMode.Everybody="Everybody",PhoneNumberSharingMode.ContactsOnly="ContactsOnly",PhoneNumberSharingMode.Nobody="Nobody"}(PhoneNumberSharingMode||(PhoneNumberSharingMode={}));(0,util_enum.m)(PhoneNumberSharingMode,PhoneNumberSharingMode.Everybody);var Page,Select=__webpack_require__("./ts/components/Select.tsx"),Spinner=__webpack_require__("./ts/components/Spinner.tsx"),TitleBarContainer=__webpack_require__("./ts/components/TitleBarContainer.tsx"),getCustomColorStyle=__webpack_require__("./ts/util/getCustomColorStyle.ts"),expirationTimer=__webpack_require__("./ts/util/expirationTimer.ts"),durations=__webpack_require__("./ts/util/durations/index.ts"),useEscapeHandling=__webpack_require__("./ts/hooks/useEscapeHandling.ts"),useUniqueId=__webpack_require__("./ts/hooks/useUniqueId.ts"),useTheme=__webpack_require__("./ts/hooks/useTheme.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(Page){Page.General="General",Page.Appearance="Appearance",Page.Chats="Chats",Page.Calls="Calls",Page.Notifications="Notifications",Page.Privacy="Privacy",Page.ChatColor="ChatColor",Page.PNP="PNP"}(Page||(Page={}));var DEFAULT_ZOOM_FACTORS=[{text:"75%",value:.75},{text:"100%",value:1},{text:"125%",value:1.25},{text:"150%",value:1.5},{text:"200%",value:2}];function Preferences(_ref){var addCustomColor=_ref.addCustomColor,availableCameras=_ref.availableCameras,availableMicrophones=_ref.availableMicrophones,availableSpeakers=_ref.availableSpeakers,blockedCount=_ref.blockedCount,closeSettings=_ref.closeSettings,customColors=_ref.customColors,defaultConversationColor=_ref.defaultConversationColor,_ref$deviceName=_ref.deviceName,deviceName=void 0===_ref$deviceName?"":_ref$deviceName,doDeleteAllData=_ref.doDeleteAllData,doneRendering=_ref.doneRendering,editCustomColor=_ref.editCustomColor,executeMenuRole=_ref.executeMenuRole,getConversationsWithCustomColor=_ref.getConversationsWithCustomColor,hasAudioNotifications=_ref.hasAudioNotifications,hasAutoDownloadUpdate=_ref.hasAutoDownloadUpdate,hasAutoLaunch=_ref.hasAutoLaunch,hasCallNotifications=_ref.hasCallNotifications,hasCallRingtoneNotification=_ref.hasCallRingtoneNotification,hasCountMutedConversations=_ref.hasCountMutedConversations,hasHideMenuBar=_ref.hasHideMenuBar,hasIncomingCallNotifications=_ref.hasIncomingCallNotifications,hasLinkPreviews=_ref.hasLinkPreviews,hasMediaCameraPermissions=_ref.hasMediaCameraPermissions,hasMediaPermissions=_ref.hasMediaPermissions,hasMinimizeToAndStartInSystemTray=_ref.hasMinimizeToAndStartInSystemTray,hasMinimizeToSystemTray=_ref.hasMinimizeToSystemTray,hasNotificationAttention=_ref.hasNotificationAttention,hasNotifications=_ref.hasNotifications,hasReadReceipts=_ref.hasReadReceipts,hasRelayCalls=_ref.hasRelayCalls,hasSpellCheck=_ref.hasSpellCheck,hasStoriesDisabled=_ref.hasStoriesDisabled,hasTextFormatting=_ref.hasTextFormatting,hasTypingIndicators=_ref.hasTypingIndicators,i18n=_ref.i18n,initialSpellCheckSetting=_ref.initialSpellCheckSetting,isAudioNotificationsSupported=_ref.isAudioNotificationsSupported,isAutoDownloadUpdatesSupported=_ref.isAutoDownloadUpdatesSupported,isAutoLaunchSupported=_ref.isAutoLaunchSupported,isFormattingFlagEnabled=_ref.isFormattingFlagEnabled,isHideMenuBarSupported=_ref.isHideMenuBarSupported,isPhoneNumberSharingSupported=_ref.isPhoneNumberSharingSupported,isNotificationAttentionSupported=_ref.isNotificationAttentionSupported,isSyncSupported=_ref.isSyncSupported,isSystemTraySupported=_ref.isSystemTraySupported,isMinimizeToAndStartInSystemTraySupported=_ref.isMinimizeToAndStartInSystemTraySupported,hasCustomTitleBar=_ref.hasCustomTitleBar,lastSyncTime=_ref.lastSyncTime,makeSyncRequest=_ref.makeSyncRequest,notificationContent=_ref.notificationContent,onAudioNotificationsChange=_ref.onAudioNotificationsChange,onAutoDownloadUpdateChange=_ref.onAutoDownloadUpdateChange,onAutoLaunchChange=_ref.onAutoLaunchChange,onCallNotificationsChange=_ref.onCallNotificationsChange,onCallRingtoneNotificationChange=_ref.onCallRingtoneNotificationChange,onCountMutedConversationsChange=_ref.onCountMutedConversationsChange,onHasStoriesDisabledChanged=_ref.onHasStoriesDisabledChanged,onHideMenuBarChange=_ref.onHideMenuBarChange,onIncomingCallNotificationsChange=_ref.onIncomingCallNotificationsChange,onLastSyncTimeChange=_ref.onLastSyncTimeChange,onMediaCameraPermissionsChange=_ref.onMediaCameraPermissionsChange,onMediaPermissionsChange=_ref.onMediaPermissionsChange,onMinimizeToAndStartInSystemTrayChange=_ref.onMinimizeToAndStartInSystemTrayChange,onMinimizeToSystemTrayChange=_ref.onMinimizeToSystemTrayChange,onNotificationAttentionChange=_ref.onNotificationAttentionChange,onNotificationContentChange=_ref.onNotificationContentChange,onNotificationsChange=_ref.onNotificationsChange,onRelayCallsChange=_ref.onRelayCallsChange,onSelectedCameraChange=_ref.onSelectedCameraChange,onSelectedMicrophoneChange=_ref.onSelectedMicrophoneChange,onSelectedSpeakerChange=_ref.onSelectedSpeakerChange,onSentMediaQualityChange=_ref.onSentMediaQualityChange,onSpellCheckChange=_ref.onSpellCheckChange,onTextFormattingChange=_ref.onTextFormattingChange,onThemeChange=_ref.onThemeChange,onUniversalExpireTimerChange=_ref.onUniversalExpireTimerChange,onWhoCanSeeMeChange=_ref.onWhoCanSeeMeChange,onWhoCanFindMeChange=_ref.onWhoCanFindMeChange,onZoomFactorChange=_ref.onZoomFactorChange,removeCustomColor=_ref.removeCustomColor,removeCustomColorOnConversations=_ref.removeCustomColorOnConversations,resetAllChatColors=_ref.resetAllChatColors,resetDefaultChatColor=_ref.resetDefaultChatColor,selectedCamera=_ref.selectedCamera,selectedMicrophone=_ref.selectedMicrophone,selectedSpeaker=_ref.selectedSpeaker,sentMediaQualitySetting=_ref.sentMediaQualitySetting,setGlobalDefaultConversationColor=_ref.setGlobalDefaultConversationColor,shouldShowStoriesSettings=_ref.shouldShowStoriesSettings,themeSetting=_ref.themeSetting,_ref$universalExpireT=_ref.universalExpireTimer,universalExpireTimer=void 0===_ref$universalExpireT?durations.kC.ZERO:_ref$universalExpireT,whoCanFindMe=_ref.whoCanFindMe,whoCanSeeMe=_ref.whoCanSeeMe,zoomFactor=_ref.zoomFactor,storiesId=(0,useUniqueId.L)(),themeSelectId=(0,useUniqueId.L)(),zoomSelectId=(0,useUniqueId.L)(),_useState2=_slicedToArray((0,react.useState)(!1),2),confirmDelete=_useState2[0],setConfirmDelete=_useState2[1],_useState4=_slicedToArray((0,react.useState)(!1),2),confirmStoriesOff=_useState4[0],setConfirmStoriesOff=_useState4[1],_useState6=_slicedToArray((0,react.useState)(Page.General),2),page=_useState6[0],setPage=_useState6[1],_useState8=_slicedToArray((0,react.useState)(!1),2),showSyncFailed=_useState8[0],setShowSyncFailed=_useState8[1],_useState10=_slicedToArray((0,react.useState)(!1),2),nowSyncing=_useState10[0],setNowSyncing=_useState10[1],_useState12=_slicedToArray((0,react.useState)(!1),2),showDisappearingTimerDialog=_useState12[0],setShowDisappearingTimerDialog=_useState12[1],theme=(0,useTheme.F)();(0,react.useEffect)((function(){doneRendering()}),[doneRendering]),(0,useEscapeHandling.w)(closeSettings);var onZoomSelectChange=(0,react.useCallback)((function(value){var number=parseFloat(value);onZoomFactorChange(number)}),[onZoomFactorChange]),onAudioInputSelectChange=(0,react.useCallback)((function(value){onSelectedMicrophoneChange("undefined"===value?void 0:availableMicrophones[parseInt(value,10)])}),[onSelectedMicrophoneChange,availableMicrophones]),selectors=(0,react.useMemo)((function(){return focusable_selectors.join(",")}),[]),settingsPaneRef=(0,react.useRef)(null);(0,react.useEffect)((function(){var _elements$,settingsPane=settingsPaneRef.current;if(settingsPane){var elements=settingsPane.querySelectorAll(selectors);elements.length&&(null===(_elements$=elements[0])||void 0===_elements$||_elements$.focus())}}),[page,selectors]);var settings,onAudioOutputSelectChange=(0,react.useCallback)((function(value){onSelectedSpeakerChange("undefined"===value?void 0:availableSpeakers[parseInt(value,10)])}),[onSelectedSpeakerChange,availableSpeakers]);if(page===Page.General)settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__title",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__button--general")})}),(0,jsx_runtime.jsx)(SettingsRow,{children:(0,jsx_runtime.jsx)(Control,{left:i18n("icu:Preferences--device-name"),right:deviceName})}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:Preferences--system"),children:[isAutoLaunchSupported&&(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasAutoLaunch,label:i18n("icu:autoLaunchDescription"),moduleClassName:"Preferences__checkbox",name:"autoLaunch",onChange:onAutoLaunchChange}),isHideMenuBarSupported&&(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasHideMenuBar,label:i18n("icu:hideMenuBar"),moduleClassName:"Preferences__checkbox",name:"hideMenuBar",onChange:onHideMenuBarChange}),isSystemTraySupported&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasMinimizeToSystemTray,label:i18n("icu:SystemTraySetting__minimize-to-system-tray"),moduleClassName:"Preferences__checkbox",name:"system-tray-setting-minimize-to-system-tray",onChange:onMinimizeToSystemTrayChange}),isMinimizeToAndStartInSystemTraySupported&&(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasMinimizeToAndStartInSystemTray,disabled:!hasMinimizeToSystemTray,label:i18n("icu:SystemTraySetting__minimize-to-and-start-in-system-tray"),moduleClassName:"Preferences__checkbox",name:"system-tray-setting-minimize-to-and-start-in-system-tray",onChange:onMinimizeToAndStartInSystemTrayChange})]})]}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:permissions"),children:[(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasMediaPermissions,label:i18n("icu:mediaPermissionsDescription"),moduleClassName:"Preferences__checkbox",name:"mediaPermissions",onChange:onMediaPermissionsChange}),(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasMediaCameraPermissions,label:i18n("icu:mediaCameraPermissionsDescription"),moduleClassName:"Preferences__checkbox",name:"mediaCameraPermissions",onChange:onMediaCameraPermissionsChange})]}),isAutoDownloadUpdatesSupported&&(0,jsx_runtime.jsx)(SettingsRow,{title:i18n("icu:Preferences--updates"),children:(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasAutoDownloadUpdate,label:i18n("icu:Preferences__download-update"),moduleClassName:"Preferences__checkbox",name:"autoDownloadUpdate",onChange:onAutoDownloadUpdateChange})})]});else if(page===Page.Appearance){var _defaultConversationC,zoomFactors=DEFAULT_ZOOM_FACTORS;zoomFactors.some((function(_ref2){return _ref2.value===zoomFactor}))||(zoomFactors=[].concat(_toConsumableArray(zoomFactors),[{text:`${Math.round(100*zoomFactor)}%`,value:zoomFactor}]).sort((function(a,b){return a.value-b.value}))),settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__title",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__button--appearance")})}),(0,jsx_runtime.jsxs)(SettingsRow,{children:[(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsx)("label",{htmlFor:themeSelectId,children:i18n("icu:Preferences--theme")}),right:(0,jsx_runtime.jsx)(Select.P,{id:themeSelectId,onChange:onThemeChange,options:[{text:i18n("icu:themeSystem"),value:"system"},{text:i18n("icu:themeLight"),value:"light"},{text:i18n("icu:themeDark"),value:"dark"}],value:themeSetting})}),(0,jsx_runtime.jsx)(Control,{left:i18n("icu:showChatColorEditor"),onClick:function(){setPage(Page.ChatColor)},right:(0,jsx_runtime.jsx)("div",{className:`ConversationDetails__chat-color ConversationDetails__chat-color--${defaultConversationColor.color}`,style:Object.assign({},(0,getCustomColorStyle.X)(null===(_defaultConversationC=defaultConversationColor.customColorData)||void 0===_defaultConversationC?void 0:_defaultConversationC.value))})}),(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsx)("label",{htmlFor:zoomSelectId,children:i18n("icu:Preferences--zoom")}),right:(0,jsx_runtime.jsx)(Select.P,{id:zoomSelectId,onChange:onZoomSelectChange,options:zoomFactors,value:zoomFactor})})]})]})}else if(page===Page.Chats){var spellCheckDirtyText;initialSpellCheckSetting!==hasSpellCheck&&(spellCheckDirtyText=i18n(hasSpellCheck?"icu:spellCheckWillBeEnabled":"icu:spellCheckWillBeDisabled"));var lastSyncDate=new Date(lastSyncTime||0);settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__title",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__button--chats")})}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:Preferences__button--chats"),children:[(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasSpellCheck,description:spellCheckDirtyText,label:i18n("icu:spellCheckDescription"),moduleClassName:"Preferences__checkbox",name:"spellcheck",onChange:onSpellCheckChange}),isFormattingFlagEnabled&&(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasTextFormatting,label:i18n("icu:textFormattingDescripton"),moduleClassName:"Preferences__checkbox",name:"textFormatting",onChange:onTextFormattingChange}),(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasLinkPreviews,description:i18n("icu:Preferences__link-previews--description"),disabled:!0,label:i18n("icu:Preferences__link-previews--title"),moduleClassName:"Preferences__checkbox",name:"linkPreviews",onChange:noop_default()}),(0,jsx_runtime.jsx)(Control,{left:i18n("icu:Preferences__sent-media-quality"),right:(0,jsx_runtime.jsx)(Select.P,{onChange:onSentMediaQualityChange,options:[{text:i18n("icu:sentMediaQualityStandard"),value:"standard"},{text:i18n("icu:sentMediaQualityHigh"),value:"high"}],value:sentMediaQualitySetting})})]}),isSyncSupported&&(0,jsx_runtime.jsx)(SettingsRow,{children:(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:i18n("icu:sync")}),(0,jsx_runtime.jsxs)("div",{className:"Preferences__description",children:[i18n("icu:syncExplanation")," ",i18n("icu:Preferences--lastSynced",{date:lastSyncDate.toLocaleDateString(),time:lastSyncDate.toLocaleTimeString()})]}),showSyncFailed&&(0,jsx_runtime.jsx)("div",{className:"Preferences__description Preferences__description--error",children:i18n("icu:syncFailed")})]}),right:(0,jsx_runtime.jsx)("div",{className:"Preferences__right-button",children:(0,jsx_runtime.jsx)(Button.zx,{disabled:nowSyncing,onClick:async function(){setShowSyncFailed(!1),setNowSyncing(!0);try{await makeSyncRequest(),onLastSyncTimeChange(Date.now())}catch(err){setShowSyncFailed(!0)}finally{setNowSyncing(!1)}},variant:Button.Wu.SecondaryAffirmative,children:nowSyncing?(0,jsx_runtime.jsx)(Spinner.$j,{svgSize:"small"}):i18n("icu:syncNow")})})})})]})}else if(page===Page.Calls)settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__title",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__button--calls")})}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:calling"),children:[(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasIncomingCallNotifications,label:i18n("icu:incomingCallNotificationDescription"),moduleClassName:"Preferences__checkbox",name:"incomingCallNotification",onChange:onIncomingCallNotificationsChange}),(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasCallRingtoneNotification,label:i18n("icu:callRingtoneNotificationDescription"),moduleClassName:"Preferences__checkbox",name:"callRingtoneNotification",onChange:onCallRingtoneNotificationChange})]}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:Preferences__devices"),children:[(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("label",{className:"Preferences__select-title",htmlFor:"video",children:i18n("icu:callingDeviceSelection__label--video")}),(0,jsx_runtime.jsx)(Select.P,{ariaLabel:i18n("icu:callingDeviceSelection__label--video"),disabled:!availableCameras.length,moduleClassName:"Preferences__select",name:"video",onChange:onSelectedCameraChange,options:availableCameras.length?availableCameras.map((function(device){return{text:localizeDefault(i18n,device.label),value:device.deviceId}})):[{text:i18n("icu:callingDeviceSelection__select--no-device"),value:"undefined"}],value:selectedCamera})]}),right:(0,jsx_runtime.jsx)("div",{})}),(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("label",{className:"Preferences__select-title",htmlFor:"audio-input",children:i18n("icu:callingDeviceSelection__label--audio-input")}),(0,jsx_runtime.jsx)(Select.P,{ariaLabel:i18n("icu:callingDeviceSelection__label--audio-input"),disabled:!availableMicrophones.length,moduleClassName:"Preferences__select",name:"audio-input",onChange:onAudioInputSelectChange,options:availableMicrophones.length?availableMicrophones.map((function(device){return{text:localizeDefault(i18n,device.name),value:device.index}})):[{text:i18n("icu:callingDeviceSelection__select--no-device"),value:"undefined"}],value:null==selectedMicrophone?void 0:selectedMicrophone.index})]}),right:(0,jsx_runtime.jsx)("div",{})}),(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("label",{className:"Preferences__select-title",htmlFor:"audio-output",children:i18n("icu:callingDeviceSelection__label--audio-output")}),(0,jsx_runtime.jsx)(Select.P,{ariaLabel:i18n("icu:callingDeviceSelection__label--audio-output"),disabled:!availableSpeakers.length,moduleClassName:"Preferences__select",name:"audio-output",onChange:onAudioOutputSelectChange,options:availableSpeakers.length?availableSpeakers.map((function(device){return{text:localizeDefault(i18n,device.name),value:device.index}})):[{text:i18n("icu:callingDeviceSelection__select--no-device"),value:"undefined"}],value:null==selectedSpeaker?void 0:selectedSpeaker.index})]}),right:(0,jsx_runtime.jsx)("div",{})})]}),(0,jsx_runtime.jsx)(SettingsRow,{title:i18n("icu:Preferences--advanced"),children:(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasRelayCalls,description:i18n("icu:alwaysRelayCallsDetail"),label:i18n("icu:alwaysRelayCallsDescription"),moduleClassName:"Preferences__checkbox",name:"relayCalls",onChange:onRelayCallsChange})})]});else if(page===Page.Notifications)settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__title",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__button--notifications")})}),(0,jsx_runtime.jsxs)(SettingsRow,{children:[(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasNotifications,label:i18n("icu:Preferences__enable-notifications"),moduleClassName:"Preferences__checkbox",name:"notifications",onChange:onNotificationsChange}),(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasCallNotifications,label:i18n("icu:callSystemNotificationDescription"),moduleClassName:"Preferences__checkbox",name:"callSystemNotification",onChange:onCallNotificationsChange}),isNotificationAttentionSupported&&(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasNotificationAttention,label:i18n("icu:notificationDrawAttention"),moduleClassName:"Preferences__checkbox",name:"notificationDrawAttention",onChange:onNotificationAttentionChange}),isAudioNotificationsSupported&&(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasAudioNotifications,label:i18n("icu:audioNotificationDescription"),moduleClassName:"Preferences__checkbox",name:"audioNotification",onChange:onAudioNotificationsChange}),(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasCountMutedConversations,label:i18n("icu:countMutedConversationsDescription"),moduleClassName:"Preferences__checkbox",name:"countMutedConversations",onChange:onCountMutedConversationsChange})]}),(0,jsx_runtime.jsx)(SettingsRow,{children:(0,jsx_runtime.jsx)(Control,{left:i18n("icu:Preferences--notification-content"),right:(0,jsx_runtime.jsx)(Select.P,{ariaLabel:i18n("icu:Preferences--notification-content"),disabled:!hasNotifications,onChange:onNotificationContentChange,options:[{text:i18n("icu:nameAndMessage"),value:"message"},{text:i18n("icu:nameOnly"),value:"name"},{text:i18n("icu:noNameOrMessage"),value:"count"}],value:notificationContent})})})]});else if(page===Page.Privacy){var isCustomDisappearingMessageValue=!expirationTimer.h5.has(universalExpireTimer);settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__title",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__button--privacy")})}),isPhoneNumberSharingSupported?(0,jsx_runtime.jsxs)("button",{type:"button",className:"Preferences__link",onClick:function(){return setPage(Page.PNP)},children:[(0,jsx_runtime.jsx)("h3",{className:"Preferences__padding",children:i18n("icu:Preferences__pnp__row--title")}),(0,jsx_runtime.jsx)("div",{className:"Preferences__padding Preferences__description",children:i18n("icu:Preferences__pnp__row--body")})]}):null,(0,jsx_runtime.jsx)(SettingsRow,{children:(0,jsx_runtime.jsx)(Control,{left:i18n("icu:Preferences--blocked"),right:i18n("icu:Preferences--blocked-count",{num:blockedCount})})}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:Preferences--messaging"),children:[(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasReadReceipts,disabled:!0,label:i18n("icu:Preferences--read-receipts"),moduleClassName:"Preferences__checkbox",name:"readReceipts",onChange:noop_default()}),(0,jsx_runtime.jsx)(Checkbox.X,{checked:hasTypingIndicators,disabled:!0,label:i18n("icu:Preferences--typing-indicators"),moduleClassName:"Preferences__checkbox",name:"typingIndicators",onChange:noop_default()}),(0,jsx_runtime.jsx)("div",{className:"Preferences__padding",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__description",children:i18n("icu:Preferences__privacy--description")})})]}),showDisappearingTimerDialog&&(0,jsx_runtime.jsx)(DisappearingTimeDialog.H,{i18n,initialValue:universalExpireTimer,onClose:function(){return setShowDisappearingTimerDialog(!1)},onSubmit:onUniversalExpireTimerChange}),(0,jsx_runtime.jsx)(SettingsRow,{title:i18n("icu:disappearingMessages"),children:(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:i18n("icu:settings__DisappearingMessages__timer__label")}),(0,jsx_runtime.jsx)("div",{className:"Preferences__description",children:i18n("icu:settings__DisappearingMessages__footer")})]}),right:(0,jsx_runtime.jsx)(Select.P,{ariaLabel:i18n("icu:settings__DisappearingMessages__timer__label"),onChange:function(value){value!==String(universalExpireTimer)&&"-1"!==value?onUniversalExpireTimerChange(parseInt(value,10)):setShowDisappearingTimerDialog(!0)},options:expirationTimer.UD.map((function(seconds){return{value:seconds,text:(0,expirationTimer.WU)(i18n,seconds,{capitalizeOff:!0})}})).concat([{value:isCustomDisappearingMessageValue?universalExpireTimer:durations.kC.fromSeconds(-1),text:isCustomDisappearingMessageValue?(0,expirationTimer.WU)(i18n,universalExpireTimer):i18n("icu:selectedCustomDisappearingTimeOption")}]),value:universalExpireTimer})})}),shouldShowStoriesSettings&&(0,jsx_runtime.jsx)(SettingsRow,{title:i18n("icu:Stories__title"),children:(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)("label",{htmlFor:storiesId,children:[(0,jsx_runtime.jsx)("div",{children:i18n("icu:Stories__settings-toggle--title")}),(0,jsx_runtime.jsx)("div",{className:"Preferences__description",children:i18n("icu:Stories__settings-toggle--description")})]}),right:hasStoriesDisabled?(0,jsx_runtime.jsx)(Button.zx,{onClick:function(){return onHasStoriesDisabledChanged(!1)},variant:Button.Wu.Secondary,children:i18n("icu:Preferences__turn-stories-on")}):(0,jsx_runtime.jsx)(Button.zx,{className:"Preferences__stories-off",onClick:function(){return setConfirmStoriesOff(!0)},variant:Button.Wu.SecondaryDestructive,children:i18n("icu:Preferences__turn-stories-off")})})}),(0,jsx_runtime.jsx)(SettingsRow,{children:(0,jsx_runtime.jsx)(Control,{left:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:i18n("icu:clearDataHeader")}),(0,jsx_runtime.jsx)("div",{className:"Preferences__description",children:i18n("icu:clearDataExplanation")})]}),right:(0,jsx_runtime.jsx)("div",{className:"Preferences__right-button",children:(0,jsx_runtime.jsx)(Button.zx,{onClick:function(){return setConfirmDelete(!0)},variant:Button.Wu.SecondaryDestructive,children:i18n("icu:clearDataButton")})})})}),confirmDelete?(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"Preference.deleteAllData",actions:[{action:doDeleteAllData,style:"negative",text:i18n("icu:clearDataButton")}],i18n,onClose:function(){setConfirmDelete(!1)},title:i18n("icu:deleteAllDataHeader"),children:i18n("icu:deleteAllDataBody")}):null,confirmStoriesOff?(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"Preference.turnStoriesOff",actions:[{action:function(){return onHasStoriesDisabledChanged(!0)},style:"negative",text:i18n("icu:Preferences__turn-stories-off--action")}],i18n,onClose:function(){setConfirmStoriesOff(!1)},children:i18n("icu:Preferences__turn-stories-off--body")}):null]})}else page===Page.ChatColor?settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"Preferences__title",children:[(0,jsx_runtime.jsx)("button",{"aria-label":i18n("icu:goBack"),className:"Preferences__back-icon",onClick:function(){return setPage(Page.Appearance)},type:"button"}),(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:ChatColorPicker__menu-title")})]}),(0,jsx_runtime.jsx)(ChatColorPicker.a,{customColors,getConversationsWithCustomColor,i18n,isGlobal:!0,selectedColor:defaultConversationColor.color,selectedCustomColor:defaultConversationColor.customColorData||{},addCustomColor,colorSelected:noop_default(),editCustomColor,removeCustomColor,removeCustomColorOnConversations,resetAllChatColors,resetDefaultChatColor,setGlobalDefaultConversationColor})]}):page===Page.PNP&&(settings=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"Preferences__title",children:[(0,jsx_runtime.jsx)("button",{"aria-label":i18n("icu:goBack"),className:"Preferences__back-icon",onClick:function(){return setPage(Page.Privacy)},type:"button"}),(0,jsx_runtime.jsx)("div",{className:"Preferences__title--header",children:i18n("icu:Preferences__pnp--page-title")})]}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:Preferences__pnp__sharing--title"),className:classnames_default()("Preferences__settings-row--pnp-sharing",{"Preferences__settings-row--pnp-sharing--nobody":whoCanSeeMe===PhoneNumberSharingMode.Nobody}),children:[(0,jsx_runtime.jsx)(SettingsRadio,{onChange:onWhoCanSeeMeChange,options:[{text:i18n("icu:Preferences__pnp__sharing__everyone"),value:PhoneNumberSharingMode.Everybody},{text:i18n("icu:Preferences__pnp__sharing__nobody"),value:PhoneNumberSharingMode.Nobody}],value:whoCanSeeMe}),(0,jsx_runtime.jsx)("div",{className:"Preferences__padding",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__description",children:whoCanSeeMe===PhoneNumberSharingMode.Everybody?i18n("icu:Preferences__pnp__sharing--description--everyone"):i18n("icu:Preferences__pnp__sharing--description--nobody")})})]}),(0,jsx_runtime.jsxs)(SettingsRow,{title:i18n("icu:Preferences__pnp__discoverability--title"),children:[(0,jsx_runtime.jsx)(SettingsRadio,{onChange:onWhoCanFindMeChange,options:[{text:i18n("icu:Preferences__pnp__discoverability__everyone"),value:PhoneNumberDiscoverability.Discoverable}].concat(_toConsumableArray(whoCanSeeMe===PhoneNumberSharingMode.Nobody?[{text:i18n("icu:Preferences__pnp__discoverability__nobody"),value:PhoneNumberDiscoverability.NotDiscoverable}]:[])),value:whoCanFindMe}),(0,jsx_runtime.jsx)("div",{className:"Preferences__padding",children:(0,jsx_runtime.jsx)("div",{className:"Preferences__description",children:whoCanFindMe===PhoneNumberDiscoverability.Discoverable?i18n("icu:Preferences__pnp__discoverability--description--everyone"):i18n("icu:Preferences__pnp__discoverability--description--nobody")})})]})]}));return(0,jsx_runtime.jsxs)(TitleBarContainer.b,{hasCustomTitleBar,theme,executeMenuRole,children:[(0,jsx_runtime.jsx)("div",{className:"module-title-bar-drag-area"}),(0,jsx_runtime.jsxs)("div",{className:"Preferences",children:[(0,jsx_runtime.jsxs)("div",{className:"Preferences__page-selector",children:[(0,jsx_runtime.jsx)("button",{type:"button",className:classnames_default()({Preferences__button:!0,"Preferences__button--general":!0,"Preferences__button--selected":page===Page.General}),onClick:function(){return setPage(Page.General)},children:i18n("icu:Preferences__button--general")}),(0,jsx_runtime.jsx)("button",{type:"button",className:classnames_default()({Preferences__button:!0,"Preferences__button--appearance":!0,"Preferences__button--selected":page===Page.Appearance||page===Page.ChatColor}),onClick:function(){return setPage(Page.Appearance)},children:i18n("icu:Preferences__button--appearance")}),(0,jsx_runtime.jsx)("button",{type:"button",className:classnames_default()({Preferences__button:!0,"Preferences__button--chats":!0,"Preferences__button--selected":page===Page.Chats}),onClick:function(){return setPage(Page.Chats)},children:i18n("icu:Preferences__button--chats")}),(0,jsx_runtime.jsx)("button",{type:"button",className:classnames_default()({Preferences__button:!0,"Preferences__button--calls":!0,"Preferences__button--selected":page===Page.Calls}),onClick:function(){return setPage(Page.Calls)},children:i18n("icu:Preferences__button--calls")}),(0,jsx_runtime.jsx)("button",{type:"button",className:classnames_default()({Preferences__button:!0,"Preferences__button--notifications":!0,"Preferences__button--selected":page===Page.Notifications}),onClick:function(){return setPage(Page.Notifications)},children:i18n("icu:Preferences__button--notifications")}),(0,jsx_runtime.jsx)("button",{type:"button",className:classnames_default()({Preferences__button:!0,"Preferences__button--privacy":!0,"Preferences__button--selected":page===Page.Privacy||page===Page.PNP}),onClick:function(){return setPage(Page.Privacy)},children:i18n("icu:Preferences__button--privacy")})]}),(0,jsx_runtime.jsx)("div",{className:"Preferences__settings-pane",ref:settingsPaneRef,children:settings})]})]})}function SettingsRow(_ref3){var children=_ref3.children,title=_ref3.title,className=_ref3.className;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("Preferences__settings-row",className),children:[title&&(0,jsx_runtime.jsx)("h3",{className:"Preferences__padding",children:title}),children]})}function Control(_ref4){var left=_ref4.left,onClick=_ref4.onClick,right=_ref4.right,content=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"Preferences__control--key",children:left}),(0,jsx_runtime.jsx)("div",{className:"Preferences__control--value",children:right})]});return onClick?(0,jsx_runtime.jsx)("button",{className:"Preferences__control Preferences__control--clickable",type:"button",onClick,children:content}):(0,jsx_runtime.jsx)("div",{className:"Preferences__control",children:content})}function SettingsRadio(_ref5){var value=_ref5.value,options=_ref5.options,onChange=_ref5.onChange,htmlIds=(0,react.useMemo)((function(){return Array.from({length:options.length},(function(){return uuid_browser_default()()}))}),[options.length]);return(0,jsx_runtime.jsx)("div",{className:"Preferences__padding",children:options.map((function(_ref6,i){var text=_ref6.text,optionValue=_ref6.value,htmlId=htmlIds[i];return(0,jsx_runtime.jsxs)("label",{className:"Preferences__settings-radio__label",htmlFor:htmlId,children:[(0,jsx_runtime.jsx)(CircleCheckbox.p,{isRadio:!0,variant:CircleCheckbox.$.Small,id:htmlId,checked:value===optionValue,onChange:function(){return onChange(optionValue)}}),text]},htmlId)}))})}function localizeDefault(i18n,deviceLabel){return deviceLabel.toLowerCase().startsWith("default")?deviceLabel.replace(/default/i,i18n("icu:callingDeviceSelection__select--default")):deviceLabel}Preferences.displayName="Preferences",SettingsRow.displayName="SettingsRow",Control.displayName="Control",SettingsRadio.displayName="SettingsRadio";var setupI18n=__webpack_require__("./ts/util/setupI18n.ts"),Colors=__webpack_require__("./ts/types/Colors.ts"),objectMap=__webpack_require__("./ts/util/objectMap.ts"),i18n=(0,setupI18n.E5)("en",messages),availableMicrophones=[{name:"DefAuLt (Headphones)",index:0,uniqueId:"Default",i18nKey:"default_communication_device"}],availableSpeakers=[{name:"Default",index:0,uniqueId:"Default",i18nKey:"default_communication_device"},{name:"Natalie's Airpods (Bluetooth)",index:1,uniqueId:"aa"},{name:"UE Boom (Bluetooth)",index:2,uniqueId:"bb"}],getDefaultArgs=function(){return{availableCameras:[{deviceId:"dfbe6effe70b0611ba0fdc2a9ea3f39f6cb110e6687948f7e5f016c111b7329c",groupId:"63ee218d2446869e40adfc958ff98263e51f74382b0143328ee4826f20a76f47",kind:"videoinput",label:"FaceTime HD Camera (Built-in) (9fba:bced)"},{deviceId:"e2db196a31d50ff9b135299dc0beea67f65b1a25a06d8a4ce76976751bb7a08d",groupId:"218ba7f00d7b1239cca15b9116769e5e7d30cc01104ebf84d667643661e0ecf9",kind:"videoinput",label:"Logitech Webcam (4e72:9058)"}],availableMicrophones,availableSpeakers,blockedCount:0,customColors:{},defaultConversationColor:Colors.Cy,deviceName:"Work Windows ME",hasAudioNotifications:!0,hasAutoDownloadUpdate:!0,hasAutoLaunch:!0,hasCallNotifications:!0,hasCallRingtoneNotification:!1,hasCountMutedConversations:!1,hasCustomTitleBar:!0,hasHideMenuBar:!1,hasIncomingCallNotifications:!0,hasLinkPreviews:!0,hasMediaCameraPermissions:!0,hasMediaPermissions:!0,hasMinimizeToAndStartInSystemTray:!0,hasMinimizeToSystemTray:!0,hasNotificationAttention:!1,hasNotifications:!0,hasReadReceipts:!0,hasRelayCalls:!1,hasSpellCheck:!0,hasStoriesDisabled:!1,hasTextFormatting:!0,hasTypingIndicators:!0,initialSpellCheckSetting:!0,isAudioNotificationsSupported:!0,isAutoDownloadUpdatesSupported:!0,isAutoLaunchSupported:!0,isFormattingFlagEnabled:!0,isHideMenuBarSupported:!0,isNotificationAttentionSupported:!0,isPhoneNumberSharingSupported:!0,isSyncSupported:!0,isSystemTraySupported:!0,isMinimizeToAndStartInSystemTraySupported:!0,lastSyncTime:Date.now(),notificationContent:"name",selectedCamera:"dfbe6effe70b0611ba0fdc2a9ea3f39f6cb110e6687948f7e5f016c111b7329c",selectedMicrophone:availableMicrophones[0],selectedSpeaker:availableSpeakers[1],shouldShowStoriesSettings:!0,sentMediaQualitySetting:"standard",themeSetting:"system",universalExpireTimer:durations.kC.HOUR,whoCanFindMe:PhoneNumberDiscoverability.Discoverable,whoCanSeeMe:PhoneNumberSharingMode.Everybody,zoomFactor:1}},defaultArgTypes={};(0,objectMap.x)(getDefaultArgs(),(function(key,defaultValue){defaultArgTypes[key]={defaultValue}}));const Preferences_stories={title:"Components/Preferences",component:Preferences,argTypes:{i18n:{defaultValue:i18n},addCustomColor:{action:!0},closeSettings:{action:!0},doDeleteAllData:{action:!0},doneRendering:{action:!0},editCustomColor:{action:!0},executeMenuRole:{action:!0},getConversationsWithCustomColor:{action:!0},makeSyncRequest:{action:!0},onAudioNotificationsChange:{action:!0},onAutoDownloadUpdateChange:{action:!0},onAutoLaunchChange:{action:!0},onCallNotificationsChange:{action:!0},onCallRingtoneNotificationChange:{action:!0},onCountMutedConversationsChange:{action:!0},onHasStoriesDisabledChanged:{action:!0},onHideMenuBarChange:{action:!0},onIncomingCallNotificationsChange:{action:!0},onLastSyncTimeChange:{action:!0},onMediaCameraPermissionsChange:{action:!0},onMediaPermissionsChange:{action:!0},onMinimizeToAndStartInSystemTrayChange:{action:!0},onMinimizeToSystemTrayChange:{action:!0},onNotificationAttentionChange:{action:!0},onNotificationContentChange:{action:!0},onNotificationsChange:{action:!0},onRelayCallsChange:{action:!0},onSelectedCameraChange:{action:!0},onSelectedMicrophoneChange:{action:!0},onSelectedSpeakerChange:{action:!0},onSentMediaQualityChange:{action:!0},onSpellCheckChange:{action:!0},onTextFormattingChange:{action:!0},onThemeChange:{action:!0},onUniversalExpireTimerChange:{action:!0},onWhoCanSeeMeChange:{action:!0},onWhoCanFindMeChange:{action:!0},onZoomFactorChange:{action:!0},removeCustomColor:{action:!0},removeCustomColorOnConversations:{action:!0},resetAllChatColors:{action:!0},resetDefaultChatColor:{action:!0},setGlobalDefaultConversationColor:{action:!0}}};var Template=function(args){return(0,jsx_runtime.jsx)(Preferences,Object.assign({},args))};Template.displayName="Template";var _Preferences=Template.bind({});_Preferences.args=getDefaultArgs();var Blocked1=Template.bind({});Blocked1.args={blockedCount:1};var BlockedMany=Template.bind({});BlockedMany.args={blockedCount:55};var CustomUniversalExpireTimer=Template.bind({});CustomUniversalExpireTimer.args={universalExpireTimer:durations.kC.fromSeconds(9e3)},CustomUniversalExpireTimer.story={name:"Custom universalExpireTimer"};var PNPSharingDisabled=Template.bind({});PNPSharingDisabled.args={whoCanSeeMe:PhoneNumberSharingMode.Nobody,whoCanFindMe:PhoneNumberDiscoverability.Discoverable,isPhoneNumberSharingSupported:!0},PNPSharingDisabled.story={name:"PNP Sharing Disabled"};var PNPDiscoverabilityDisabled=Template.bind({});PNPDiscoverabilityDisabled.args={whoCanSeeMe:PhoneNumberSharingMode.Nobody,whoCanFindMe:PhoneNumberDiscoverability.NotDiscoverable,isPhoneNumberSharingSupported:!0},PNPDiscoverabilityDisabled.story={name:"PNP Discoverability Disabled"};var FormattingDisabled=Template.bind({});FormattingDisabled.args={isFormattingFlagEnabled:!1};var __namedExportsOrder=["_Preferences","Blocked1","BlockedMany","CustomUniversalExpireTimer","PNPSharingDisabled","PNPDiscoverabilityDisabled","FormattingDisabled"]},"./ts/components/Select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>Select});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Select=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function SelectInner(_ref,ref){var ariaLabel=_ref.ariaLabel,disabled=_ref.disabled,id=_ref.id,moduleClassName=_ref.moduleClassName,name=_ref.name,onChange=_ref.onChange,options=_ref.options,value=_ref.value,onSelectChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){onChange(event.target.value)}),[onChange]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(["module-select",moduleClassName]),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("select",{"aria-label":ariaLabel,disabled,id,name,value,onChange:onSelectChange,ref,children:options.map((function(_ref2){var optionDisabled=_ref2.disabled,text=_ref2.text,optionValue=_ref2.value;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("option",{disabled:optionDisabled,value:optionValue,"aria-label":text,children:text},optionValue)}))})})}))},"./ts/hooks/useUniqueId.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>useUniqueId});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid-browser/index.js");function useUniqueId(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)()}),[])}},"./ts/util/expirationTimer.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UD:()=>DEFAULT_DURATIONS_IN_SECONDS,WU:()=>format,h5:()=>DEFAULT_DURATIONS_SET});__webpack_require__("./node_modules/lodash/isNumber.js");var humanize_duration__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/humanize-duration/humanize-duration.js"),humanize_duration__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(humanize_duration__WEBPACK_IMPORTED_MODULE_1__),_durations__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/durations/index.ts"),DEFAULT_DURATIONS_IN_SECONDS=[_durations__WEBPACK_IMPORTED_MODULE_2__.kC.ZERO,_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromWeeks(4),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromWeeks(1),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromDays(1),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromHours(8),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromHours(1),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromMinutes(5),_durations__WEBPACK_IMPORTED_MODULE_2__.kC.fromSeconds(30)],DEFAULT_DURATIONS_SET=new Set(DEFAULT_DURATIONS_IN_SECONDS);function format(i18n,dirtySeconds){var _ref=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref$capitalizeOff=_ref.capitalizeOff,capitalizeOff=void 0!==_ref$capitalizeOff&&_ref$capitalizeOff,largest=_ref.largest,seconds=Math.abs(dirtySeconds||0);if(!seconds)return i18n(capitalizeOff?"icu:off":"icu:disappearingMessages__off");seconds=Math.max(Math.floor(seconds),1);var locale=i18n.getLocale().replace(/-/g,"_"),localeWithoutRegion=locale.split("_",1)[0],fallbacks=[];localeWithoutRegion!==locale&&fallbacks.push(localeWithoutRegion),"nb"!==localeWithoutRegion&&"nn"!==localeWithoutRegion||fallbacks.push("no"),"en"!==localeWithoutRegion&&fallbacks.push("en"),"zh_HK"===locale&&fallbacks.push("zh_TW");var allUnits=["y","mo","w","d","h","m","s"],defaultUnits=seconds%604800==0?["w"]:["d","h","m","s"];return humanize_duration__WEBPACK_IMPORTED_MODULE_1___default()(seconds*_durations__WEBPACK_IMPORTED_MODULE_2__.sh,Object.assign({units:largest?allUnits:defaultUnits,largest,language:locale},fallbacks.length?{fallbacks}:{}))}},"./ts/util/objectMap.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function objectMap(obj,f){return Object.keys(obj).map((function(key){return f(key,obj[key])}))}__webpack_require__.d(__webpack_exports__,{x:()=>objectMap})},"./ts/util/whatTypeOfConversation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C$:()=>isDirectConversation});var ConversationTypes;__webpack_require__("./ts/Bytes.ts"),__webpack_require__("./ts/logging/log.ts");function isDirectConversation(conversationAttrs){return"private"===conversationAttrs.type||"direct"===conversationAttrs.type}!function(ConversationTypes){ConversationTypes.Me="Me",ConversationTypes.Direct="Direct",ConversationTypes.GroupV1="GroupV1",ConversationTypes.GroupV2="GroupV2"}(ConversationTypes||(ConversationTypes={}))},"./node_modules/lodash/isNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isNumber(value){return"number"==typeof value||isObjectLike(value)&&"[object Number]"==baseGetTag(value)}},"./node_modules/uuid-browser/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var v1=__webpack_require__("./node_modules/uuid-browser/v1.js"),v4=__webpack_require__("./node_modules/uuid-browser/v4.js"),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},"./node_modules/uuid-browser/v1.js":(module,__unused_webpack_exports,__webpack_require__)=>{var rng=__webpack_require__("./node_modules/uuid-browser/lib/rng-browser.js"),bytesToUuid=__webpack_require__("./node_modules/uuid-browser/lib/bytesToUuid.js"),_seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0;module.exports=function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[],clockseq=void 0!==(options=options||{}).clockseq?options.clockseq:_clockseq,msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}}}]);