"use strict";(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[478],{"./ts/components/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Wu:()=>ButtonVariant,c:()=>ButtonIconType,qE:()=>ButtonSize,zx:()=>Button});var ButtonSize,ButtonVariant,ButtonIconType,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_util_assert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/assert.ts"),_util_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/theme.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");!function(ButtonSize){ButtonSize[ButtonSize.Large=0]="Large",ButtonSize[ButtonSize.Medium=1]="Medium",ButtonSize[ButtonSize.Small=2]="Small"}(ButtonSize||(ButtonSize={})),function(ButtonVariant){ButtonVariant.Calling="Calling",ButtonVariant.Destructive="Destructive",ButtonVariant.Details="Details",ButtonVariant.Primary="Primary",ButtonVariant.Secondary="Secondary",ButtonVariant.SecondaryAffirmative="SecondaryAffirmative",ButtonVariant.SecondaryDestructive="SecondaryDestructive",ButtonVariant.SystemMessage="SystemMessage"}(ButtonVariant||(ButtonVariant={})),function(ButtonIconType){ButtonIconType.audio="audio",ButtonIconType.muted="muted",ButtonIconType.photo="photo",ButtonIconType.search="search",ButtonIconType.text="text",ButtonIconType.unmuted="unmuted",ButtonIconType.video="video"}(ButtonIconType||(ButtonIconType={}));var SIZE_CLASS_NAMES=new Map([[ButtonSize.Large,"module-Button--large"],[ButtonSize.Medium,"module-Button--medium"],[ButtonSize.Small,"module-Button--small"]]),VARIANT_CLASS_NAMES=new Map([[ButtonVariant.Primary,"module-Button--primary"],[ButtonVariant.Secondary,"module-Button--secondary"],[ButtonVariant.SecondaryAffirmative,"module-Button--secondary module-Button--secondary--affirmative"],[ButtonVariant.SecondaryDestructive,"module-Button--secondary module-Button--secondary--destructive"],[ButtonVariant.Destructive,"module-Button--destructive"],[ButtonVariant.Calling,"module-Button--calling"],[ButtonVariant.SystemMessage,"module-Button--system-message"],[ButtonVariant.Details,"module-Button--details"]]),Button=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function ButtonInner(props,ref){var onClick,type,form,children=props.children,className=props.className,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled,icon=props.icon,style=props.style,tabIndex=props.tabIndex,theme=props.theme,_props$variant=props.variant,variant=void 0===_props$variant?ButtonVariant.Primary:_props$variant,_props$size=props.size,size=void 0===_props$size?variant===ButtonVariant.Details?ButtonSize.Small:ButtonSize.Medium:_props$size,ariaLabel=props["aria-label"],ariaDisabled=props["aria-disabled"];"onClick"in props?(onClick=props.onClick,type="button"):(onClick=void 0,type=props.type,form=props.form);var sizeClassName=SIZE_CLASS_NAMES.get(size);(0,_util_assert__WEBPACK_IMPORTED_MODULE_2__.q8)(sizeClassName,"<Button> size not found");var variantClassName=VARIANT_CLASS_NAMES.get(variant);(0,_util_assert__WEBPACK_IMPORTED_MODULE_2__.q8)(variantClassName,"<Button> variant not found");var buttonElement=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{"aria-label":ariaLabel,"aria-disabled":ariaDisabled,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("module-Button",sizeClassName,variantClassName,icon&&`module-Button--icon--${icon}`,className),disabled,onClick,form,ref,style,tabIndex,type,children});return theme?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:(0,_util_theme__WEBPACK_IMPORTED_MODULE_3__.j)(theme),children:buttonElement}):buttonElement}))},"./ts/components/CompositionRecordingDraft.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CompositionRecordingDraft_stories});var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),index_esm=__webpack_require__("./node_modules/react-measure/dist/index.esm.js"),useComputePeaks=__webpack_require__("./ts/hooks/useComputePeaks.ts"),WaveformScrubber=__webpack_require__("./ts/components/conversation/WaveformScrubber.tsx"),PlaybackButton=__webpack_require__("./ts/components/PlaybackButton.tsx"),RecordingComposer=__webpack_require__("./ts/components/RecordingComposer.tsx"),log=__webpack_require__("./ts/logging/log.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CompositionRecordingDraft(_ref){var _active$currentTime,i18n=_ref.i18n,audioUrl=_ref.audioUrl,active=_ref.active,onCancel=_ref.onCancel,onSend=_ref.onSend,onPlay=_ref.onPlay,onPause=_ref.onPause,onScrub=_ref.onScrub,_useState2=_slicedToArray((0,react.useState)({calculatingWidth:!1,width:void 0}),2),state=_useState2[0],setState=_useState2[1],timeout=(0,react.useRef)(void 0),handleResize=(0,react.useCallback)((function(_ref2){var bounds=_ref2.bounds;if(bounds&&bounds.width!==state.width){state.calculatingWidth||setState(Object.assign({},state,{calculatingWidth:!0})),timeout.current&&clearTimeout(timeout.current);var newWidth=bounds.width;void 0===state.width?setState({calculatingWidth:!1,width:newWidth}):timeout.current=setTimeout((function(){setState({calculatingWidth:!1,width:newWidth})}),500)}}),[state]),handlePlaybackClick=(0,react.useCallback)((function(){null!=active&&active.playing?onPause():onPlay()}),[active,onPause,onPlay]),scrubber=(0,jsx_runtime.jsx)(SizedWaveformScrubber,{i18n,audioUrl,activeDuration:null==active?void 0:active.duration,currentTime:null!==(_active$currentTime=null==active?void 0:active.currentTime)&&void 0!==_active$currentTime?_active$currentTime:0,width:state.width,onClick:onScrub,onScrub});return(0,jsx_runtime.jsxs)(RecordingComposer.V,{i18n,onCancel,onSend,children:[(0,jsx_runtime.jsx)(PlaybackButton.s,{variant:"draft",mod:null!=active&&active.playing?"pause":"play",label:null!=active&&active.playing?i18n("icu:MessageAudio--pause"):i18n("icu:MessageAudio--play"),onClick:handlePlaybackClick}),(0,jsx_runtime.jsx)(index_esm.Z,{bounds:!0,onResize:handleResize,children:function(_ref3){var measureRef=_ref3.measureRef;return(0,jsx_runtime.jsx)("div",{ref:measureRef,className:"CompositionRecordingDraft__sizer",children:scrubber})}})]})}function SizedWaveformScrubber(_ref4){var i18n=_ref4.i18n,audioUrl=_ref4.audioUrl,activeDuration=_ref4.activeDuration,currentTime=_ref4.currentTime,onClick=_ref4.onClick,onScrub=_ref4.onScrub,width=_ref4.width,handleCorrupted=(0,react.useCallback)((function(){log.warn("SizedWaveformScrubber: audio corrupted")}),[]),_useComputePeaks=(0,useComputePeaks.a)({audioUrl,activeDuration,onCorrupted:handleCorrupted,barCount:Math.floor((null!=width?width:800)/4)}),peaks=_useComputePeaks.peaks,duration=_useComputePeaks.duration;return(0,jsx_runtime.jsx)(WaveformScrubber.X,{i18n,peaks,currentTime,barMinHeight:2,barMaxHeight:20,duration,onClick,onScrub})}CompositionRecordingDraft.displayName="CompositionRecordingDraft",SizedWaveformScrubber.displayName="SizedWaveformScrubber";var setupI18n=__webpack_require__("./ts/util/setupI18n.ts"),messages=__webpack_require__("./_locales/en/messages.json");function CompositionRecordingDraft_stories_slicedToArray(arr,i){return function CompositionRecordingDraft_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CompositionRecordingDraft_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CompositionRecordingDraft_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CompositionRecordingDraft_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CompositionRecordingDraft_stories_arrayLikeToArray(o,minLen)}(arr,i)||function CompositionRecordingDraft_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CompositionRecordingDraft_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var i18n=(0,setupI18n.E5)("en",messages);const CompositionRecordingDraft_stories={title:"components/CompositionRecordingDraft",component:CompositionRecordingDraft};function Default(){var _useState2=CompositionRecordingDraft_stories_slicedToArray((0,react.useState)(!1),2),isPlaying=_useState2[0],setIsPlaying=_useState2[1],_React$useState2=CompositionRecordingDraft_stories_slicedToArray(react.useState(0),2),currentTime=_React$useState2[0],setCurrentTime=_React$useState2[1],_React$useState4=CompositionRecordingDraft_stories_slicedToArray(react.useState(void 0),2),duration=_React$useState4[0],setDuration=_React$useState4[1],audio=react.useMemo((function(){var a=new Audio;return a.addEventListener("loadedmetadata",(function(){setDuration(duration)})),a.src="/fixtures/incompetech-com-Agnus-Dei-X.mp3",a.addEventListener("timeupdate",(function(){setCurrentTime(a.currentTime)})),a.addEventListener("ended",(function(){setIsPlaying(!1),setCurrentTime(0)})),a.addEventListener("loadeddata",(function(){a.currentTime=currentTime})),a}),[]);return(0,jsx_runtime.jsx)(CompositionRecordingDraft,{i18n,audioUrl:audio.src,active:{playing:isPlaying,currentTime,duration},onCancel:(0,esm.action)("cancel"),onSend:(0,esm.action)("send"),onPlay:function(positionAsRatio){void 0!==positionAsRatio&&(audio.currentTime=positionAsRatio*audio.duration),audio.play(),setCurrentTime(audio.currentTime),setIsPlaying(!0)},onPause:function(){audio.pause(),setIsPlaying(!1)},onScrub:function(newPosition){void 0!==duration&&(audio.currentTime=newPosition*duration)}})}Default.displayName="Default";var __namedExportsOrder=["Default"]},"./ts/components/PlaybackButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>PlaybackButton});var _react_spring_web__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SPRING_CONFIG={mass:.5,tension:350,friction:20,velocity:.01},PlaybackButton=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((function ButtonInner(props,ref){var mod=props.mod,label=props.label,variant=props.variant,onClick=props.onClick,context=props.context,_props$visible=props.visible,visible=void 0===_props$visible||_props$visible,animProps=_slicedToArray((0,_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.useSpring)({config:SPRING_CONFIG,to:{scale:visible?1:0}},[visible]),1)[0],onButtonClick=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(event){event.stopPropagation(),event.preventDefault(),onClick()}),[onClick]),onButtonKeyDown=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(event){"Enter"!==event.key&&"Space"!==event.key||(event.stopPropagation(),event.preventDefault(),onClick())}),[onClick]),buttonComponent=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{type:"button",ref,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("PlaybackButton",`PlaybackButton--variant-${variant}`,context&&`PlaybackButton--context-${context}`,mod?`PlaybackButton--${mod}`:void 0),onClick:onButtonClick,onKeyDown:onButtonKeyDown,tabIndex:0,"aria-label":label});return"message"===variant?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_react_spring_web__WEBPACK_IMPORTED_MODULE_0__.animated.div,{style:animProps,children:buttonComponent}):buttonComponent}))},"./ts/components/RecordingComposer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>RecordingComposer});__webpack_require__("./node_modules/react/index.js");var _Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Button.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function RecordingComposer(_ref){var i18n=_ref.i18n,onCancel=_ref.onCancel,onSend=_ref.onSend,children=_ref.children;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"RecordingComposer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"RecordingComposer__content",children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{className:"RecordingComposer__button",onClick:onCancel,size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Medium,variant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.Secondary,children:i18n("icu:RecordingComposer__cancel")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.zx,{className:"RecordingComposer__button",onClick:onSend,size:_Button__WEBPACK_IMPORTED_MODULE_1__.qE.Medium,children:i18n("icu:RecordingComposer__send")})]})}RecordingComposer.displayName="RecordingComposer"},"./ts/components/VoiceNotesPlaybackContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{JM:()=>computePeaks});__webpack_require__("./node_modules/react/index.js");var audioContext,p_queue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/p-queue/dist/index.js"),lru_cache__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lru-cache/index.js"),lru_cache__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lru_cache__WEBPACK_IMPORTED_MODULE_2__),_logging_log__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/logging/log.ts"),waveformCache=(__webpack_require__("./node_modules/react/jsx-runtime.js"),new(lru_cache__WEBPACK_IMPORTED_MODULE_2___default())({max:1e3})),inProgressMap=new Map,computeQueue=new p_queue__WEBPACK_IMPORTED_MODULE_1__.Z({concurrency:8});async function doComputePeaks(url,barCount){var cacheKey=`${url}:${barCount}`,existing=waveformCache.get(cacheKey);if(existing)return _logging_log__WEBPACK_IMPORTED_MODULE_3__.info("GlobalAudioContext: waveform cache hit",url),Promise.resolve(existing);_logging_log__WEBPACK_IMPORTED_MODULE_3__.info("GlobalAudioContext: waveform cache miss",url);var response=await fetch(url),raw=await response.arrayBuffer(),duration=await async function getAudioDuration(url,buffer){var blob=new Blob([buffer]),blobURL=URL.createObjectURL(blob),audio=new Audio;if(audio.muted=!0,audio.src=blobURL,await new Promise((function(resolve,reject){audio.addEventListener("loadedmetadata",(function(){resolve()})),audio.addEventListener("error",(function(event){var error=new Error(`Failed to load audio from: ${url} due to error: ${event.type}`);reject(error)}))})),Number.isNaN(audio.duration))throw new Error(`Invalid audio duration for: ${url}`);return audio.duration}(url,raw),peaks=new Array(barCount).fill(0);if(duration>900){_logging_log__WEBPACK_IMPORTED_MODULE_3__.info(`GlobalAudioContext: audio ${url} duration ${duration}s is too long`);var emptyResult={peaks,duration};return waveformCache.set(cacheKey,emptyResult),emptyResult}audioContext||(audioContext=new AudioContext,await audioContext.suspend());for(var data=await audioContext.decodeAudioData(raw),norms=new Array(barCount).fill(0),samplesPerPeak=data.length/peaks.length,channelNum=0;channelNum<data.numberOfChannels;channelNum+=1)for(var channel=data.getChannelData(channelNum),sample=0;sample<channel.length;sample+=1){var i=Math.floor(sample/samplesPerPeak);peaks[i]+=channel[sample]**2,norms[i]+=1}for(var max=1e-23,_i=0;_i<peaks.length;_i+=1)peaks[_i]=Math.sqrt(peaks[_i]/Math.max(1,norms[_i])),max=Math.max(max,peaks[_i]);for(var _i2=0;_i2<peaks.length;_i2+=1)peaks[_i2]/=max;var result={peaks,duration};return waveformCache.set(cacheKey,result),result}async function computePeaks(url,barCount){var computeKey=`${url}:${barCount}`,pending=inProgressMap.get(computeKey);if(pending)return _logging_log__WEBPACK_IMPORTED_MODULE_3__.info("VoiceNotesPlaybackContext: already computing peaks for",computeKey),pending;_logging_log__WEBPACK_IMPORTED_MODULE_3__.info("VoiceNotesPlaybackContext: queue computing peaks for",computeKey);var promise=computeQueue.add((function(){return doComputePeaks(url,barCount)}));inProgressMap.set(computeKey,promise);try{return await promise}finally{inProgressMap.delete(computeKey)}}},"./ts/components/conversation/WaveformScrubber.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>WaveformScrubber});var react=__webpack_require__("./node_modules/react/index.js"),useRefMerger=__webpack_require__("./ts/hooks/useRefMerger.ts"),durationToPlaybackText=__webpack_require__("./ts/util/durationToPlaybackText.ts"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),assert=__webpack_require__("./ts/util/assert.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Waveform(_ref){var peaks=_ref.peaks,barMinHeight=_ref.barMinHeight,barMaxHeight=_ref.barMaxHeight,currentTime=_ref.currentTime,duration=_ref.duration,currentTimeOrZero=null!=currentTime?currentTime:0,peakPosition=peaks.length*(currentTimeOrZero/(null!=duration?duration:1e-23));return(0,jsx_runtime.jsx)("div",{className:classnames_default()(["Waveform"]),children:peaks.map((function(peak,i){(0,assert.q8)(peak>=0&&peak<=1&&!Number.isNaN(peak),`Peak outside of range: ${peak}`);var height=Math.max(barMinHeight,barMaxHeight*peak),highlight=i<peakPosition;highlight&&i+1>=peakPosition&&(height=barMaxHeight),(0,assert.q8)(!Number.isNaN(height),"Got NaN for peak height");var key=i;return(0,jsx_runtime.jsx)("div",{className:classnames_default()(["Waveform__bar",highlight?"Waveform__bar--active":null]),style:{height}},key)}))})}Waveform.displayName="Waveform";var keyboard=__webpack_require__("./ts/util/keyboard.ts"),WaveformScrubber=react.forwardRef((function WaveformScrubber(_ref,ref){var i18n=_ref.i18n,peaks=_ref.peaks,barMinHeight=_ref.barMinHeight,barMaxHeight=_ref.barMaxHeight,currentTime=_ref.currentTime,duration=_ref.duration,onClick=_ref.onClick,onScrub=_ref.onScrub,refMerger=(0,useRefMerger.T)(),waveformRef=(0,react.useRef)(null),handleClick=(0,react.useCallback)((function(event){if(event.preventDefault(),event.stopPropagation(),waveformRef.current){var boundingRect=waveformRef.current.getBoundingClientRect(),progress=(event.pageX-boundingRect.left)/boundingRect.width;progress<=2/47&&(progress=0),onClick(progress)}}),[waveformRef,onClick]);return(0,jsx_runtime.jsx)("div",{ref:refMerger(waveformRef,ref),className:"WaveformScrubber",onClick:handleClick,onKeyDown:function(event){if(duration){var increment;if("ArrowUp"===event.key||event.key===(0,keyboard.x)("end"))increment=1;else if("ArrowDown"===event.key||event.key===(0,keyboard.x)("start"))increment=-1;else if("PageUp"===event.key)increment=5;else{if("PageDown"!==event.key)return;increment=-5}event.preventDefault(),event.stopPropagation(),onScrub(currentTime/duration+increment/duration)}},tabIndex:0,role:"slider","aria-label":i18n("icu:MessageAudio--slider"),"aria-orientation":"horizontal","aria-valuenow":currentTime,"aria-valuemin":0,"aria-valuemax":duration,"aria-valuetext":(0,durationToPlaybackText.v)(currentTime),children:(0,jsx_runtime.jsx)(Waveform,{peaks,barMinHeight,barMaxHeight,currentTime,duration})})}))},"./ts/hooks/useComputePeaks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>useComputePeaks});var lodash_noop__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/noop.js"),lodash_noop__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_noop__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_components_VoiceNotesPlaybackContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/VoiceNotesPlaybackContext.tsx"),_logging_log__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/logging/log.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useComputePeaks(_ref){var _ref2,_waveformData$duratio,_waveformData$peaks,audioUrl=_ref.audioUrl,activeDuration=_ref.activeDuration,barCount=_ref.barCount,onCorrupted=_ref.onCorrupted,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(void 0),2),waveformData=_useState2[0],setWaveformData=_useState2[1];return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){if(!audioUrl)return lodash_noop__WEBPACK_IMPORTED_MODULE_0___default();_logging_log__WEBPACK_IMPORTED_MODULE_3__.info("MessageAudio: loading audio and computing waveform");var canceled=!1;return async function(){try{var _await$computePeaks=await(0,_components_VoiceNotesPlaybackContext__WEBPACK_IMPORTED_MODULE_2__.JM)(audioUrl,barCount),newPeaks=_await$computePeaks.peaks,newDuration=_await$computePeaks.duration;if(canceled)return;setWaveformData({peaks:newPeaks,duration:Math.max(newDuration,1e-23)})}catch(err){_logging_log__WEBPACK_IMPORTED_MODULE_3__.error("MessageAudio: computePeaks error, marking as corrupted",err),onCorrupted()}}(),function(){canceled=!0}}),[audioUrl,barCount,onCorrupted]),{duration:null!==(_ref2=null!==(_waveformData$duratio=null==waveformData?void 0:waveformData.duration)&&void 0!==_waveformData$duratio?_waveformData$duratio:activeDuration)&&void 0!==_ref2?_ref2:1e-23,hasPeaks:void 0!==waveformData,peaks:null!==(_waveformData$peaks=null==waveformData?void 0:waveformData.peaks)&&void 0!==_waveformData$peaks?_waveformData$peaks:new Array(barCount).fill(0)}}},"./ts/hooks/useRefMerger.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>useRefMerger});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_util_refMerger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/util/refMerger.ts"),useRefMerger=function(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(_util_refMerger__WEBPACK_IMPORTED_MODULE_1__.d,[])}},"./ts/util/durationToPlaybackText.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>durationToPlaybackText});var durationToPlaybackText=function(time){var hours=Math.floor(time/3600),minutes=Math.floor(time%3600/60).toString(),seconds=Math.floor(time%60).toString();return 0!==hours&&minutes.length<2&&(minutes=`0${minutes}`),seconds.length<2&&(seconds=`0${seconds}`),hours?`${hours}:${minutes}:${seconds}`:`${minutes}:${seconds}`}},"./ts/util/keyboard.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>arrow});var logicalArrows={start:{ltr:"ArrowLeft",rtl:"ArrowRight"},end:{ltr:"ArrowRight",rtl:"ArrowLeft"}};function arrow(logicalDirection){var localeDirection=window.getResolvedMessagesLocaleDirection();return logicalArrows[logicalDirection][localeDirection]}},"./ts/util/missingCaseError.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>missingCaseError});var missingCaseError=function(x){return new TypeError(`Unhandled case: ${function reallyJsonStringify(value){var result;try{result=JSON.stringify(value)}catch(_err){result=void 0}return"string"==typeof result?result:Object.prototype.toString.call(value)}(x)}`)}},"./ts/util/refMerger.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>refMerger,d:()=>createRefMerger});var memoizee__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/memoizee/index.js"),memoizee__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(memoizee__WEBPACK_IMPORTED_MODULE_0__);function refMerger(){for(var _len=arguments.length,refs=new Array(_len),_key=0;_key<_len;_key++)refs[_key]=arguments[_key];return function(el){refs.forEach((function(ref){"function"==typeof ref?ref(el):ref&&(ref.current=el)}))}}function createRefMerger(){return memoizee__WEBPACK_IMPORTED_MODULE_0___default()(refMerger,{length:!1,max:1})}},"./ts/util/theme.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>Theme,j:()=>themeClassName});var Theme,_missingCaseError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ts/util/missingCaseError.ts");function themeClassName(theme){switch(theme){case Theme.Light:return"light-theme";case Theme.Dark:return"dark-theme";default:throw(0,_missingCaseError__WEBPACK_IMPORTED_MODULE_0__.b)(theme)}}!function(Theme){Theme[Theme.Light=0]="Light",Theme[Theme.Dark=1]="Dark"}(Theme||(Theme={}))},"./node_modules/lru-cache/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{const Yallist=__webpack_require__("./node_modules/yallist/yallist.js"),MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;const get=(self,key,doUse)=>{const node=self[CACHE].get(key);if(node){const hit=node.value;if(isStale(self,hit)){if(del(self,node),!self[ALLOW_STALE])return}else doUse&&(self[UPDATE_AGE_ON_GET]&&(node.value.now=Date.now()),self[LRU_LIST].unshiftNode(node));return hit.value}},isStale=(self,hit)=>{if(!hit||!hit.maxAge&&!self[MAX_AGE])return!1;const diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]},trim=self=>{if(self[LENGTH]>self[MAX])for(let walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&null!==walker;){const prev=walker.prev;del(self,walker),walker=prev}},del=(self,node)=>{if(node){const hit=node.value;self[DISPOSE]&&self[DISPOSE](hit.key,hit.value),self[LENGTH]-=hit.length,self[CACHE].delete(hit.key),self[LRU_LIST].removeNode(node)}};class Entry{constructor(key,value,length,now,maxAge){this.key=key,this.value=value,this.length=length,this.now=now,this.maxAge=maxAge||0}}const forEachStep=(self,fn,node,thisp)=>{let hit=node.value;isStale(self,hit)&&(del(self,node),self[ALLOW_STALE]||(hit=void 0)),hit&&fn.call(thisp,hit.value,hit.key,self)};module.exports=class LRUCache{constructor(options){if("number"==typeof options&&(options={max:options}),options||(options={}),options.max&&("number"!=typeof options.max||options.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=options.max||1/0;const lc=options.length||naiveLength;if(this[LENGTH_CALCULATOR]="function"!=typeof lc?naiveLength:lc,this[ALLOW_STALE]=options.stale||!1,options.maxAge&&"number"!=typeof options.maxAge)throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0,this[DISPOSE]=options.dispose,this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||!1,this.reset()}set max(mL){if("number"!=typeof mL||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||1/0,trim(this)}get max(){return this[MAX]}set allowStale(allowStale){this[ALLOW_STALE]=!!allowStale}get allowStale(){return this[ALLOW_STALE]}set maxAge(mA){if("number"!=typeof mA)throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(lC){"function"!=typeof lC&&(lC=naiveLength),lC!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=lC,this[LENGTH]=0,this[LRU_LIST].forEach((hit=>{hit.length=this[LENGTH_CALCULATOR](hit.value,hit.key),this[LENGTH]+=hit.length}))),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].tail;null!==walker;){const prev=walker.prev;forEachStep(this,fn,walker,thisp),walker=prev}}forEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].head;null!==walker;){const next=walker.next;forEachStep(this,fn,walker,thisp),walker=next}}keys(){return this[LRU_LIST].toArray().map((k=>k.key))}values(){return this[LRU_LIST].toArray().map((k=>k.value))}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach((hit=>this[DISPOSE](hit.key,hit.value))),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map((hit=>!isStale(this,hit)&&{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)})).toArray().filter((h=>h))}dumpLru(){return this[LRU_LIST]}set(key,value,maxAge){if((maxAge=maxAge||this[MAX_AGE])&&"number"!=typeof maxAge)throw new TypeError("maxAge must be a number");const now=maxAge?Date.now():0,len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX])return del(this,this[CACHE].get(key)),!1;const item=this[CACHE].get(key).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](key,item.value)),item.now=now,item.maxAge=maxAge,item.value=value,this[LENGTH]+=len-item.length,item.length=len,this.get(key),trim(this),!0}const hit=new Entry(key,value,len,now,maxAge);return hit.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](key,value),!1):(this[LENGTH]+=hit.length,this[LRU_LIST].unshift(hit),this[CACHE].set(key,this[LRU_LIST].head),trim(this),!0)}has(key){if(!this[CACHE].has(key))return!1;const hit=this[CACHE].get(key).value;return!isStale(this,hit)}get(key){return get(this,key,!0)}peek(key){return get(this,key,!1)}pop(){const node=this[LRU_LIST].tail;return node?(del(this,node),node.value):null}del(key){del(this,this[CACHE].get(key))}load(arr){this.reset();const now=Date.now();for(let l=arr.length-1;l>=0;l--){const hit=arr[l],expiresAt=hit.e||0;if(0===expiresAt)this.set(hit.k,hit.v);else{const maxAge=expiresAt-now;maxAge>0&&this.set(hit.k,hit.v,maxAge)}}}prune(){this[CACHE].forEach(((value,key)=>get(this,key,!1)))}}},"./node_modules/yallist/iterator.js":module=>{module.exports=function(Yallist){Yallist.prototype[Symbol.iterator]=function*(){for(let walker=this.head;walker;walker=walker.next)yield walker.value}}},"./node_modules/yallist/yallist.js":(module,__unused_webpack_exports,__webpack_require__)=>{function Yallist(list){var self=this;if(self instanceof Yallist||(self=new Yallist),self.tail=null,self.head=null,self.length=0,list&&"function"==typeof list.forEach)list.forEach((function(item){self.push(item)}));else if(arguments.length>0)for(var i=0,l=arguments.length;i<l;i++)self.push(arguments[i]);return self}function insert(self,node,value){var inserted=node===self.head?new Node(value,null,node,self):new Node(value,node,node.next,self);return null===inserted.next&&(self.tail=inserted),null===inserted.prev&&(self.head=inserted),self.length++,inserted}function push(self,item){self.tail=new Node(item,self.tail,null,self),self.head||(self.head=self.tail),self.length++}function unshift(self,item){self.head=new Node(item,null,self.head,self),self.tail||(self.tail=self.head),self.length++}function Node(value,prev,next,list){if(!(this instanceof Node))return new Node(value,prev,next,list);this.list=list,this.value=value,prev?(prev.next=this,this.prev=prev):this.prev=null,next?(next.prev=this,this.next=next):this.next=null}module.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(node){if(node.list!==this)throw new Error("removing node which does not belong to this list");var next=node.next,prev=node.prev;return next&&(next.prev=prev),prev&&(prev.next=next),node===this.head&&(this.head=next),node===this.tail&&(this.tail=prev),node.list.length--,node.next=null,node.prev=null,node.list=null,next},Yallist.prototype.unshiftNode=function(node){if(node!==this.head){node.list&&node.list.removeNode(node);var head=this.head;node.list=this,node.next=head,head&&(head.prev=node),this.head=node,this.tail||(this.tail=node),this.length++}},Yallist.prototype.pushNode=function(node){if(node!==this.tail){node.list&&node.list.removeNode(node);var tail=this.tail;node.list=this,node.prev=tail,tail&&(tail.next=node),this.tail=node,this.head||(this.head=node),this.length++}},Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++)push(this,arguments[i]);return this.length},Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++)unshift(this,arguments[i]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var res=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,res}},Yallist.prototype.shift=function(){if(this.head){var res=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,res}},Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;null!==walker;i++)fn.call(thisp,walker.value,i,this),walker=walker.next},Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;null!==walker;i--)fn.call(thisp,walker.value,i,this),walker=walker.prev},Yallist.prototype.get=function(n){for(var i=0,walker=this.head;null!==walker&&i<n;i++)walker=walker.next;if(i===n&&null!==walker)return walker.value},Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;null!==walker&&i<n;i++)walker=walker.prev;if(i===n&&null!==walker)return walker.value},Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.head;null!==walker;)res.push(fn.call(thisp,walker.value,this)),walker=walker.next;return res},Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.tail;null!==walker;)res.push(fn.call(thisp,walker.value,this)),walker=walker.prev;return res},Yallist.prototype.reduce=function(fn,initial){var acc,walker=this.head;if(arguments.length>1)acc=initial;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");walker=this.head.next,acc=this.head.value}for(var i=0;null!==walker;i++)acc=fn(acc,walker.value,i),walker=walker.next;return acc},Yallist.prototype.reduceReverse=function(fn,initial){var acc,walker=this.tail;if(arguments.length>1)acc=initial;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");walker=this.tail.prev,acc=this.tail.value}for(var i=this.length-1;null!==walker;i--)acc=fn(acc,walker.value,i),walker=walker.prev;return acc},Yallist.prototype.toArray=function(){for(var arr=new Array(this.length),i=0,walker=this.head;null!==walker;i++)arr[i]=walker.value,walker=walker.next;return arr},Yallist.prototype.toArrayReverse=function(){for(var arr=new Array(this.length),i=0,walker=this.tail;null!==walker;i++)arr[i]=walker.value,walker=walker.prev;return arr},Yallist.prototype.slice=function(from,to){(to=to||this.length)<0&&(to+=this.length),(from=from||0)<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=0,walker=this.head;null!==walker&&i<from;i++)walker=walker.next;for(;null!==walker&&i<to;i++,walker=walker.next)ret.push(walker.value);return ret},Yallist.prototype.sliceReverse=function(from,to){(to=to||this.length)<0&&(to+=this.length),(from=from||0)<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=this.length,walker=this.tail;null!==walker&&i>to;i--)walker=walker.prev;for(;null!==walker&&i>from;i--,walker=walker.prev)ret.push(walker.value);return ret},Yallist.prototype.splice=function(start,deleteCount,...nodes){start>this.length&&(start=this.length-1),start<0&&(start=this.length+start);for(var i=0,walker=this.head;null!==walker&&i<start;i++)walker=walker.next;var ret=[];for(i=0;walker&&i<deleteCount;i++)ret.push(walker.value),walker=this.removeNode(walker);null===walker&&(walker=this.tail),walker!==this.head&&walker!==this.tail&&(walker=walker.prev);for(i=0;i<nodes.length;i++)walker=insert(this,walker,nodes[i]);return ret},Yallist.prototype.reverse=function(){for(var head=this.head,tail=this.tail,walker=head;null!==walker;walker=walker.prev){var p=walker.prev;walker.prev=walker.next,walker.next=p}return this.head=tail,this.tail=head,this};try{__webpack_require__("./node_modules/yallist/iterator.js")(Yallist)}catch(er){}}}]);