(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[7548],{"./ts/components/Spinner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$j:()=>Spinner,me:()=>SpinnerSvgSizes,sX:()=>SpinnerDirections});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/getClassNamesFor.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),SpinnerSvgSizes=["small","normal"],SpinnerDirections=["outgoing","incoming","on-background","on-primary-button","on-progress-dialog","on-avatar"];function Spinner(_ref){var ariaLabel=_ref.ariaLabel,direction=_ref.direction,moduleClassName=_ref.moduleClassName,role=_ref.role,size=_ref.size,svgSize=_ref.svgSize,getClassName=(0,_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__.h)("module-spinner",moduleClassName);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(getClassName("__container"),getClassName(`__container--${svgSize}`),getClassName(direction&&`__container--${direction}`),getClassName(direction&&`__container--${svgSize}-${direction}`)),role,"aria-label":ariaLabel,style:{height:size,width:size},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(getClassName("__circle"),getClassName(`__circle--${svgSize}`),getClassName(direction&&`__circle--${direction}`),getClassName(direction&&`__circle--${svgSize}-${direction}`))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(getClassName("__arc"),getClassName(`__arc--${svgSize}`),getClassName(direction&&`__arc--${direction}`),getClassName(direction&&`__arc--${svgSize}-${direction}`))})]})}Spinner.displayName="Spinner"},"./ts/components/emoji/lib.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Eb:()=>getSizeClass,J7:()=>getEmojiCount,Mz:()=>hasNonEmojiText,PE:()=>emojiToData,al:()=>getImagePath,lu:()=>dataByCategory,nS:()=>convertShortName,pQ:()=>unifiedToEmoji,qg:()=>isShortName,rl:()=>emojiToImage,rz:()=>convertShortNameToData,yC:()=>search,yz:()=>getEmojiData});var lodash_take__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/take.js"),lodash_take__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_take__WEBPACK_IMPORTED_MODULE_0__),lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/sortBy.js"),lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__),lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/mapValues.js"),lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__),lodash_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_3__),lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash/keyBy.js"),lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__),lodash_isNumber__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash/isNumber.js"),lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_5__),lodash_groupBy__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash/groupBy.js"),lodash_groupBy__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_6__),lodash_get__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/lodash/get.js"),lodash_get__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_7__),lodash_flatMap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/lodash/flatMap.js"),lodash_flatMap__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_8__),lodash_compact__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_9__),emoji_datasource__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/emoji-datasource/emoji.json"),emoji_regex__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/emoji-regex/index.js"),emoji_regex__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(emoji_regex__WEBPACK_IMPORTED_MODULE_11__),fuse_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/fuse.js/dist/fuse.esm.js"),p_queue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/p-queue/dist/index.js"),_util_getOwn__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./ts/util/getOwn.ts"),_util_durations__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./ts/logging/log.ts"),__webpack_require__("./ts/util/durations/index.ts"));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var skinTones=["1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"],data=emoji_datasource__WEBPACK_IMPORTED_MODULE_10__.filter((function(emoji){return emoji.has_img_apple})).map((function(emoji){return"People & Body"===emoji.category?Object.assign({},emoji,{sort_order:emoji.sort_order+1e3}):emoji})),ROOT_PATH=lodash_get__WEBPACK_IMPORTED_MODULE_7___default()("undefined"!=typeof window?window:null,"ROOT_PATH",""),makeImagePath=function(src){return`${ROOT_PATH}node_modules/emoji-datasource-apple/img/apple/64/${src}`},dataByShortName=(new p_queue__WEBPACK_IMPORTED_MODULE_12__.Z({concurrency:10,timeout:30*_util_durations__WEBPACK_IMPORTED_MODULE_14__.EB,throwOnTimeout:!0}),new Set,lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default()(data,"short_name")),imageByEmoji={},dataByEmoji={},dataByCategory=lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_6___default()(data,(function(_ref){var category=_ref.category;return"Activities"===category?"activity":"Animals & Nature"===category?"animal":"Flags"===category?"flag":"Food & Drink"===category?"food":"Objects"===category?"object":"Travel & Places"===category?"travel":"Smileys & Emotion"===category||"People & Body"===category?"emoji":"Symbols"===category?"symbol":"misc"})),(function(arr){return lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(arr,"sort_order")}));function getEmojiData(shortName,skinTone){var base=dataByShortName[shortName];if(skinTone&&base.skin_variations){var variation=lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default()(skinTone)?skinTones[skinTone-1]:skinTone;return base.skin_variations[variation]?base.skin_variations[variation]:base.skin_variations[`${variation}-${variation}`]}return base}function getImagePath(shortName,skinTone){var emojiData=getEmojiData(shortName,skinTone);return makeImagePath(emojiData.image)}var fuse=new fuse_js__WEBPACK_IMPORTED_MODULE_15__.Z(data,{shouldSort:!0,threshold:.2,minMatchCharLength:1,keys:["short_name","short_names"]}),fuseExactPrefix=new fuse_js__WEBPACK_IMPORTED_MODULE_15__.Z(data,{shouldSort:!0,threshold:0,minMatchCharLength:2,keys:["short_name","short_names"]});function search(query){var count=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,fuseIndex=2===query.length?fuseExactPrefix:fuse,results=fuseIndex.search(query.substr(0,32)).map((function(result){return result.item}));return count?lodash_take__WEBPACK_IMPORTED_MODULE_0___default()(results,count):results}var shortNames=new Set([].concat(_toConsumableArray(lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(data,"short_name")),_toConsumableArray(lodash_compact__WEBPACK_IMPORTED_MODULE_9___default()(lodash_flatMap__WEBPACK_IMPORTED_MODULE_8___default()(data,"short_names")))));function isShortName(name){return shortNames.has(name)}function unifiedToEmoji(unified){return unified.split("-").map((function(c){return String.fromCodePoint(parseInt(c,16))})).join("")}function convertShortNameToData(shortName){var skinTone=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,base=dataByShortName[shortName];if(base){var toneKey=lodash_isNumber__WEBPACK_IMPORTED_MODULE_5___default()(skinTone)?skinTones[skinTone-1]:skinTone;if(skinTone&&base.skin_variations){var variation=base.skin_variations[toneKey];if(variation)return Object.assign({},base,variation)}return base}}function convertShortName(shortName){var skinTone=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,emojiData=convertShortNameToData(shortName,skinTone);return emojiData?unifiedToEmoji(emojiData.unified):""}function emojiToImage(emoji){return(0,_util_getOwn__WEBPACK_IMPORTED_MODULE_16__.G)(imageByEmoji,emoji)}function emojiToData(emoji){return(0,_util_getOwn__WEBPACK_IMPORTED_MODULE_16__.G)(dataByEmoji,emoji)}function getEmojiCount(str){var regex=emoji_regex__WEBPACK_IMPORTED_MODULE_11___default()(),match=regex.exec(str),count=0;if(!regex.global)return match?1:0;for(;match;)count+=1,match=regex.exec(str);return count}function hasNonEmojiText(str){return str.replace(emoji_regex__WEBPACK_IMPORTED_MODULE_11___default()(),"").trim().length>0}function getSizeClass(str){if(hasNonEmojiText(str))return"";var emojiCount=getEmojiCount(str);return 1===emojiCount?"max":2===emojiCount?"extra-large":3===emojiCount?"large":4===emojiCount?"medium":5===emojiCount?"small":""}data.forEach((function(emoji){var short_name=emoji.short_name,short_names=emoji.short_names,skin_variations=emoji.skin_variations,image=emoji.image;short_names&&short_names.forEach((function(name){dataByShortName[name]=emoji})),imageByEmoji[convertShortName(short_name)]=makeImagePath(image),dataByEmoji[convertShortName(short_name)]=emoji,skin_variations&&Object.entries(skin_variations).forEach((function(_ref2){var _ref3=_slicedToArray(_ref2,2),tone=_ref3[0],variation=_ref3[1];imageByEmoji[convertShortName(short_name,tone)]=makeImagePath(variation.image),dataByEmoji[convertShortName(short_name,tone)]=emoji}))}))},"./ts/types/Avatar.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{SR:()=>GroupAvatarIcons,_Y:()=>getDefaultAvatars,jo:()=>PersonalAvatarIcons});var _util_assert__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ts/util/assert.ts"),PersonalAvatarIcons=["abstract_01","abstract_02","abstract_03","cat","dog","fox","tucan","pig","dinosour","sloth","incognito","ghost"],GroupAvatarIcons=["balloon","book","briefcase","celebration","drink","football","heart","house","melon","soccerball","sunset","surfboard"],groupIconColors=["A180","A120","A110","A170","A100","A210","A100","A180","A120","A110","A130","A210"],personalIconColors=["A130","A120","A170","A190","A140","A190","A120","A160","A130","A180","A210","A100"];(0,_util_assert__WEBPACK_IMPORTED_MODULE_0__.Yj)(groupIconColors.length===GroupAvatarIcons.length&&personalIconColors.length===PersonalAvatarIcons.length,"colors.length !== icons.length");var groupDefaultAvatars=GroupAvatarIcons.map((function(icon,index){return{id:index,color:groupIconColors[index],icon}})),personalDefaultAvatars=PersonalAvatarIcons.map((function(icon,index){return{id:index,color:personalIconColors[index],icon}}));function getDefaultAvatars(isGroup){return isGroup?groupDefaultAvatars:personalDefaultAvatars}},"./ts/types/Colors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A0:()=>ContactNameColors,Cy:()=>DEFAULT_CONVERSATION_COLOR,cU:()=>ConversationColors,hx:()=>getAvatarColor,nE:()=>AvatarColorMap,sj:()=>AvatarColors});var AvatarColorMap=new Map([["A100",{bg:"#e3e3fe",fg:"#3838f5"}],["A110",{bg:"#dde7fc",fg:"#1251d3"}],["A120",{bg:"#d8e8f0",fg:"#086da0"}],["A130",{bg:"#cde4cd",fg:"#067906"}],["A140",{bg:"#eae0fd",fg:"#661aff"}],["A150",{bg:"#f5e3fe",fg:"#9f00f0"}],["A160",{bg:"#f6d8ec",fg:"#b8057c"}],["A170",{bg:"#f5d7d7",fg:"#be0404"}],["A180",{bg:"#fef5d0",fg:"#836b01"}],["A190",{bg:"#eae6d5",fg:"#7d6f40"}],["A200",{bg:"#d2d2dc",fg:"#4f4f6d"}],["A210",{bg:"#d7d7d9",fg:"#5c5c5c"}]]),AvatarColors=Array.from(AvatarColorMap.keys()),ConversationColors=["ultramarine","crimson","vermilion","burlap","forest","wintergreen","teal","blue","indigo","violet","plum","taupe","steel","ember","midnight","infrared","lagoon","fluorescent","basil","sublime","sea","tangerine"],ContactNameColors=["200","120","300","010","210","330","230","180","030","340","270","090","000","150","240","040","160","280","080","320","020","140","260","060","350","100","290","130","220","050","170","250","070","190","310","110"],DEFAULT_CONVERSATION_COLOR={color:"ultramarine"};function getAvatarColor(color){return color||AvatarColors[0]}},"./ts/types/MIME.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Aw:()=>isLongMessage,F0:()=>isAudio,F5:()=>VIDEO_QUICKTIME,Ih:()=>IMAGE_PNG,Oh:()=>IMAGE_ICO,Or:()=>isImage,UG:()=>IMAGE_BMP,Wv:()=>isVideo,_l:()=>IMAGE_JPEG,cJ:()=>stringToMIMEType,dB:()=>IMAGE_GIF,ml:()=>VIDEO_MP4,np:()=>TEXT_ATTACHMENT,rJ:()=>LONG_MESSAGE,sY:()=>isGif,to:()=>IMAGE_WEBP,ty:()=>AUDIO_MP3});var stringToMIMEType=function(value){return value},AUDIO_MP3=(stringToMIMEType("application/octet-stream"),stringToMIMEType("application/json"),stringToMIMEType("audio/aac"),stringToMIMEType("audio/mp3")),IMAGE_GIF=stringToMIMEType("image/gif"),IMAGE_JPEG=stringToMIMEType("image/jpeg"),IMAGE_PNG=stringToMIMEType("image/png"),IMAGE_WEBP=stringToMIMEType("image/webp"),IMAGE_ICO=stringToMIMEType("image/x-icon"),IMAGE_BMP=stringToMIMEType("image/bmp"),VIDEO_MP4=stringToMIMEType("video/mp4"),VIDEO_QUICKTIME=stringToMIMEType("video/quicktime"),LONG_MESSAGE=stringToMIMEType("text/x-signal-plain"),TEXT_ATTACHMENT=stringToMIMEType("text/x-signal-story"),isGif=function(value){return"image/gif"===value},isImage=function(value){return Boolean(value)&&value.startsWith("image/")},isVideo=function(value){return Boolean(value)&&value.startsWith("video/")},isAudio=function(value){return Boolean(value)&&value.startsWith("audio/")&&!value.endsWith("aiff")},isLongMessage=function(value){return value===LONG_MESSAGE}},"./ts/util/durations/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EB:()=>MINUTE,kr:()=>HOUR,ps:()=>WEEK,sh:()=>SECOND,vc:()=>MONTH,x4:()=>DAY});var SECOND=1e3,MINUTE=60*SECOND,HOUR=60*MINUTE,DAY=24*HOUR,WEEK=7*DAY,MONTH=30*DAY},"./ts/util/durations/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x4:()=>constants.x4,kC:()=>DurationInSeconds,kr:()=>constants.kr,EB:()=>constants.EB,vc:()=>constants.vc,sh:()=>constants.sh,ps:()=>constants.ps});var DurationInSeconds,_DurationInSeconds,constants=__webpack_require__("./ts/util/durations/constants.ts");(_DurationInSeconds=DurationInSeconds||(DurationInSeconds={})).fromMillis=function(ms){return ms/constants.sh},_DurationInSeconds.fromSeconds=function(seconds){return seconds},_DurationInSeconds.fromMinutes=function(m){return m*constants.EB/constants.sh},_DurationInSeconds.fromHours=function(h){return h*constants.kr/constants.sh},_DurationInSeconds.fromDays=function(d){return d*constants.x4/constants.sh},_DurationInSeconds.fromWeeks=function(d){return d*constants.ps/constants.sh},_DurationInSeconds.fromMonths=function(d){return d*constants.vc/constants.sh},_DurationInSeconds.toSeconds=function(d){return d},_DurationInSeconds.toMillis=function(d){return d*constants.sh},_DurationInSeconds.toHours=function(d){return d*constants.sh/constants.kr},_DurationInSeconds.ZERO=DurationInSeconds.fromSeconds(0),_DurationInSeconds.HOUR=DurationInSeconds.fromHours(1),_DurationInSeconds.MINUTE=DurationInSeconds.fromMinutes(1),_DurationInSeconds.DAY=DurationInSeconds.fromDays(1),_DurationInSeconds.WEEK=DurationInSeconds.fromWeeks(1)},"./ts/util/getOwn.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getOwn(obj,key){return Object.hasOwn(obj,key)?obj[key]:void 0}__webpack_require__.d(__webpack_exports__,{G:()=>getOwn})},"./node_modules/uuid-browser/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var v1=__webpack_require__("./node_modules/uuid-browser/v1.js"),v4=__webpack_require__("./node_modules/uuid-browser/v4.js"),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},"./node_modules/uuid-browser/v1.js":(module,__unused_webpack_exports,__webpack_require__)=>{var rng=__webpack_require__("./node_modules/uuid-browser/lib/rng-browser.js"),bytesToUuid=__webpack_require__("./node_modules/uuid-browser/lib/bytesToUuid.js"),_seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0;module.exports=function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[],clockseq=void 0!==(options=options||{}).clockseq?options.clockseq:_clockseq,msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}}}]);