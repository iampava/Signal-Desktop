"use strict";(globalThis.webpackChunksignal_desktop=globalThis.webpackChunksignal_desktop||[]).push([[3450],{"./ts/components/CircleCheckbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Variant,p:()=>CircleCheckbox});var Variant,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/util/getClassNamesFor.ts"),_util_missingCaseError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/util/missingCaseError.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function CircleCheckbox(_ref){var variantModifier,id=_ref.id,_ref$variant=_ref.variant,variant=void 0===_ref$variant?Variant.Normal:_ref$variant,checked=_ref.checked,disabled=_ref.disabled,isRadio=_ref.isRadio,moduleClassName=_ref.moduleClassName,name=_ref.name,onChange=_ref.onChange,onClick=_ref.onClick,getClassName=(0,_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_2__.h)("CircleCheckbox",moduleClassName);if(variant===Variant.Normal)variantModifier=getClassName("__checkbox--normal");else{if(variant!==Variant.Small)throw(0,_util_missingCaseError__WEBPACK_IMPORTED_MODULE_4__.b)(variant);variantModifier=getClassName("__checkbox--small")}var onChangeWrapped=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(ev){null==onChange||onChange(ev.target.checked)}),[onChange]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(getClassName("__checkbox"),variantModifier),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{checked:Boolean(checked),disabled,"aria-disabled":disabled,id,name,onChange:onChangeWrapped,onClick,type:isRadio?"radio":"checkbox"})})}!function(Variant){Variant.Normal="Normal",Variant.Small="Small"}(Variant||(Variant={})),CircleCheckbox.displayName="CircleCheckbox"},"./ts/components/ConversationList.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p7:()=>ConversationList,aC:()=>RowType});var pick=__webpack_require__("./node_modules/lodash/pick.js"),pick_default=__webpack_require__.n(pick),get=__webpack_require__("./node_modules/lodash/get.js"),get_default=__webpack_require__.n(get),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),missingCaseError=__webpack_require__("./ts/util/missingCaseError.ts"),assert=__webpack_require__("./ts/util/assert.ts"),Util=__webpack_require__("./ts/types/Util.ts"),_util=__webpack_require__("./ts/components/_util.ts"),ConversationListItem=__webpack_require__("./ts/components/conversationList/ConversationListItem.tsx"),BaseConversationListItem=__webpack_require__("./ts/components/conversationList/BaseConversationListItem.tsx"),ContactName=__webpack_require__("./ts/components/conversation/ContactName.tsx"),About=__webpack_require__("./ts/components/conversation/About.tsx"),ListTile=__webpack_require__("./ts/components/ListTile.tsx"),Avatar=__webpack_require__("./ts/components/Avatar.tsx"),ContextMenu=__webpack_require__("./ts/components/ContextMenu.tsx"),Intl=__webpack_require__("./ts/components/Intl.tsx"),ConfirmationDialog=__webpack_require__("./ts/components/ConfirmationDialog.tsx"),isSignalConversation=__webpack_require__("./ts/util/isSignalConversation.ts"),isInSystemContacts=__webpack_require__("./ts/util/isInSystemContacts.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ContactListItem=react.memo((function ContactListItem(_ref){var trailing,blockConfirmation,removeConfirmation,about=_ref.about,acceptedMessageRequest=_ref.acceptedMessageRequest,avatarPath=_ref.avatarPath,badge=_ref.badge,color=_ref.color,hasContextMenu=_ref.hasContextMenu,i18n=_ref.i18n,id=_ref.id,isMe=_ref.isMe,name=_ref.name,onClick=_ref.onClick,onAudioCall=_ref.onAudioCall,onVideoCall=_ref.onVideoCall,onRemove=_ref.onRemove,onBlock=_ref.onBlock,phoneNumber=_ref.phoneNumber,profileName=_ref.profileName,sharedGroupNames=_ref.sharedGroupNames,systemGivenName=_ref.systemGivenName,systemFamilyName=_ref.systemFamilyName,theme=_ref.theme,title=_ref.title,type=_ref.type,unblurredAvatarPath=_ref.unblurredAvatarPath,uuid=_ref.uuid,_useState2=_slicedToArray((0,react.useState)(!1),2),isConfirmingBlocking=_useState2[0],setConfirmingBlocking=_useState2[1],_useState4=_slicedToArray((0,react.useState)(!1),2),isConfirmingRemoving=_useState4[0],setConfirmingRemoving=_useState4[1],menuOptions=(0,react.useMemo)((function(){return[].concat(_toConsumableArray(onClick?[{icon:"ContactListItem__context-menu__chat-icon",label:i18n("icu:ContactListItem__menu__message"),onClick:function(){return onClick(id)}}]:[]),_toConsumableArray(onAudioCall?[{icon:"ContactListItem__context-menu__phone-icon",label:i18n("icu:ContactListItem__menu__audio-call"),onClick:function(){return onAudioCall(id)}}]:[]),_toConsumableArray(onVideoCall?[{icon:"ContactListItem__context-menu__video-icon",label:i18n("icu:ContactListItem__menu__video-call"),onClick:function(){return onVideoCall(id)}}]:[]),_toConsumableArray(onRemove?[{icon:"ContactListItem__context-menu__delete-icon",label:i18n("icu:ContactListItem__menu__remove"),onClick:function(){return setConfirmingRemoving(!0)}}]:[]),_toConsumableArray(onBlock?[{icon:"ContactListItem__context-menu__block-icon",label:i18n("icu:ContactListItem__menu__block"),onClick:function(){return setConfirmingBlocking(!0)}}]:[]))}),[id,i18n,onClick,onAudioCall,onVideoCall,onRemove,onBlock]),headerName=isMe?(0,jsx_runtime.jsx)(ContactName.K,{isMe,module:BaseConversationListItem.Tt,title:i18n("icu:noteToSelf")}):(0,jsx_runtime.jsx)(ContactName.K,{isSignalConversation:(0,isSignalConversation.T)({id,uuid}),module:BaseConversationListItem.Tt,title}),messageText=about&&!isMe?(0,jsx_runtime.jsx)(About.C,{className:"",text:about}):void 0;return hasContextMenu&&(trailing=(0,jsx_runtime.jsx)(ContextMenu.x,{i18n,menuOptions,popperOptions:{placement:"bottom-start",strategy:"absolute"},moduleClassName:"ContactListItem__context-menu",ariaLabel:i18n("icu:ContactListItem__menu"),portalToRoot:!0})),isConfirmingBlocking&&(blockConfirmation=(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"ContactListItem.blocking",i18n,onClose:function(){return setConfirmingBlocking(!1)},title:(0,jsx_runtime.jsx)(Intl.R,{i18n,id:"icu:MessageRequests--block-direct-confirm-title",components:{title:(0,jsx_runtime.jsx)(ContactName.K,{title},"name")}}),actions:[{text:i18n("icu:MessageRequests--block"),action:function(){return null==onBlock?void 0:onBlock(id)},style:"negative"}],children:i18n("icu:MessageRequests--block-direct-confirm-body")})),isConfirmingRemoving&&(removeConfirmation=(0,isInSystemContacts.H)({type,name,systemGivenName,systemFamilyName})?(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"ContactListItem.systemContact",i18n,onClose:function(){return setConfirmingRemoving(!1)},title:(0,jsx_runtime.jsx)(Intl.R,{i18n,id:"icu:ContactListItem__remove-system--title",components:{title:(0,jsx_runtime.jsx)(ContactName.K,{title},"name")}}),cancelText:i18n("icu:Confirmation--confirm"),children:i18n("icu:ContactListItem__remove-system--body")},"ContactListItem.systemContact"):(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"ContactListItem.removing",i18n,onClose:function(){return setConfirmingRemoving(!1)},title:(0,jsx_runtime.jsx)(Intl.R,{i18n,id:"icu:ContactListItem__remove--title",components:{title:(0,jsx_runtime.jsx)(ContactName.K,{title},"name")}}),actions:[{text:i18n("icu:ContactListItem__remove--confirm"),action:function(){return null==onRemove?void 0:onRemove(id)},style:"negative"}],children:i18n("icu:ContactListItem__remove--body")},"ContactListItem.removing")),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ListTile.x,{moduleClassName:"ContactListItem",leading:(0,jsx_runtime.jsx)(Avatar.qE,Object.assign({acceptedMessageRequest,avatarPath,color,conversationType:type,noteToSelf:Boolean(isMe),i18n,isMe,phoneNumber,profileName,title,sharedGroupNames,size:Avatar.DZ.THIRTY_TWO,unblurredAvatarPath},badge?{badge,theme}:{badge:void 0})),trailing,title:headerName,subtitle:messageText,subtitleMaxLines:1,onClick:onClick?function(){return onClick(id)}:void 0}),blockConfirmation,removeConfirmation]})})),ContactCheckbox=__webpack_require__("./ts/components/conversationList/ContactCheckbox.tsx"),PhoneNumberCheckbox=__webpack_require__("./ts/components/conversationList/PhoneNumberCheckbox.tsx"),UsernameCheckbox=__webpack_require__("./ts/components/conversationList/UsernameCheckbox.tsx"),CreateNewGroupButton=react.memo((function CreateNewGroupButton(_ref){var i18n=_ref.i18n,onClick=_ref.onClick,title=i18n("icu:createNewGroupButton");return(0,jsx_runtime.jsx)(ListTile.x,{testId:"CreateNewGroupButton",leading:(0,jsx_runtime.jsx)(Avatar.qE,{acceptedMessageRequest:!1,conversationType:"group",i18n,isMe:!1,title,sharedGroupNames:[],size:Avatar.DZ.THIRTY_TWO,badge:void 0}),title,onClick})})),Button=__webpack_require__("./ts/components/Button.tsx"),Spinner=__webpack_require__("./ts/components/Spinner.tsx"),Colors=__webpack_require__("./ts/types/Colors.ts");function StartNewConversation_slicedToArray(arr,i){return function StartNewConversation_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function StartNewConversation_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function StartNewConversation_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return StartNewConversation_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return StartNewConversation_arrayLikeToArray(o,minLen)}(arr,i)||function StartNewConversation_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function StartNewConversation_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var StartNewConversation=react.memo((function StartNewConversation(_ref){var modal,i18n=_ref.i18n,phoneNumber=_ref.phoneNumber,isFetching=_ref.isFetching,lookupConversationWithoutUuid=_ref.lookupConversationWithoutUuid,showUserNotFoundModal=_ref.showUserNotFoundModal,setIsFetchingUUID=_ref.setIsFetchingUUID,showConversation=_ref.showConversation,_useState2=StartNewConversation_slicedToArray((0,react.useState)(!1),2),isModalVisible=_useState2[0],setIsModalVisible=_useState2[1],boundOnClick=(0,react.useCallback)((async function(){if(phoneNumber.isValid){if(!isFetching){var conversationId=await lookupConversationWithoutUuid({showUserNotFoundModal,setIsFetchingUUID,type:"e164",e164:phoneNumber.e164,phoneNumber:phoneNumber.userInput});void 0!==conversationId&&showConversation({conversationId})}}else setIsModalVisible(!0)}),[showConversation,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,setIsModalVisible,phoneNumber,isFetching]);return isModalVisible&&(modal=(0,jsx_runtime.jsx)(ConfirmationDialog.U,{dialogName:"StartNewConversation.invalidPhoneNumber",cancelText:i18n("icu:ok"),cancelButtonVariant:Button.Wu.Secondary,i18n,onClose:function(){return setIsModalVisible(!1)},children:i18n("icu:startConversation--phone-number-not-valid",{phoneNumber:phoneNumber.userInput})})),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ListTile.x,{leading:(0,jsx_runtime.jsx)(Avatar.qE,{acceptedMessageRequest:!1,color:Colors.sj[0],conversationType:"direct",searchResult:!0,i18n,isMe:!1,title:phoneNumber.userInput,size:Avatar.DZ.THIRTY_TWO,badge:void 0,sharedGroupNames:[]}),title:phoneNumber.userInput,onClick:boundOnClick,trailing:isFetching?(0,jsx_runtime.jsx)(Spinner.$j,{size:"20px",svgSize:"small",moduleClassName:BaseConversationListItem.Sc,direction:"on-progress-dialog"}):void 0}),modal]})}));function SearchResultsLoadingFakeHeader(_){return(0,jsx_runtime.jsx)("div",{className:"module-SearchResultsLoadingFakeHeader"})}function SearchResultsLoadingFakeRow(_){return(0,jsx_runtime.jsxs)("div",{className:"module-SearchResultsLoadingFakeRow",children:[(0,jsx_runtime.jsx)("div",{className:"module-SearchResultsLoadingFakeRow__avatar"}),(0,jsx_runtime.jsxs)("div",{className:"module-SearchResultsLoadingFakeRow__content",children:[(0,jsx_runtime.jsx)("div",{className:"module-SearchResultsLoadingFakeRow__content__line"}),(0,jsx_runtime.jsx)("div",{className:"module-SearchResultsLoadingFakeRow__content__line"}),(0,jsx_runtime.jsx)("div",{className:"module-SearchResultsLoadingFakeRow__content__line"})]})]})}function UsernameSearchResultListItem(_ref){var i18n=_ref.i18n,isFetchingUsername=_ref.isFetchingUsername,lookupConversationWithoutUuid=_ref.lookupConversationWithoutUuid,username=_ref.username,showUserNotFoundModal=_ref.showUserNotFoundModal,setIsFetchingUUID=_ref.setIsFetchingUUID,showConversation=_ref.showConversation,boundOnClick=(0,react.useCallback)((async function(){if(!isFetchingUsername){var conversationId=await lookupConversationWithoutUuid({showUserNotFoundModal,setIsFetchingUUID,type:"username",username});void 0!==conversationId&&showConversation({conversationId})}}),[isFetchingUsername,lookupConversationWithoutUuid,setIsFetchingUUID,showConversation,showUserNotFoundModal,username]);return(0,jsx_runtime.jsx)(ListTile.x,{leading:(0,jsx_runtime.jsx)(Avatar.qE,{acceptedMessageRequest:!1,conversationType:"direct",searchResult:!0,i18n,isMe:!1,title:username,size:Avatar.DZ.THIRTY_TWO,badge:void 0,sharedGroupNames:[]}),title:username,onClick:boundOnClick,trailing:isFetchingUsername?(0,jsx_runtime.jsx)(Spinner.$j,{size:"20px",svgSize:"small",moduleClassName:BaseConversationListItem.Sc,direction:"on-progress-dialog"}):void 0})}SearchResultsLoadingFakeHeader.displayName="SearchResultsLoadingFakeHeader",SearchResultsLoadingFakeRow.displayName="SearchResultsLoadingFakeRow",UsernameSearchResultListItem.displayName="UsernameSearchResultListItem";var RowType,GroupListItem=__webpack_require__("./ts/components/conversationList/GroupListItem.tsx"),ListView=__webpack_require__("./ts/components/ListView.tsx");!function(RowType){RowType.ArchiveButton="ArchiveButton",RowType.Blank="Blank",RowType.Contact="Contact",RowType.ContactCheckbox="ContactCheckbox",RowType.PhoneNumberCheckbox="PhoneNumberCheckbox",RowType.UsernameCheckbox="UsernameCheckbox",RowType.Conversation="Conversation",RowType.CreateNewGroup="CreateNewGroup",RowType.Header="Header",RowType.MessageSearchResult="MessageSearchResult",RowType.SearchResultsLoadingFakeHeader="SearchResultsLoadingFakeHeader",RowType.SearchResultsLoadingFakeRow="SearchResultsLoadingFakeRow",RowType.SelectSingleGroup="SelectSingleGroup",RowType.StartNewConversation="StartNewConversation",RowType.UsernameSearchResult="UsernameSearchResult"}(RowType||(RowType={}));function ConversationList(_ref){var dimensions=_ref.dimensions,getPreferredBadge=_ref.getPreferredBadge,getRow=_ref.getRow,i18n=_ref.i18n,blockConversation=_ref.blockConversation,onClickArchiveButton=_ref.onClickArchiveButton,onClickContactCheckbox=_ref.onClickContactCheckbox,onSelectConversation=_ref.onSelectConversation,onOutgoingAudioCallInConversation=_ref.onOutgoingAudioCallInConversation,onOutgoingVideoCallInConversation=_ref.onOutgoingVideoCallInConversation,removeConversation=_ref.removeConversation,renderMessageSearchResult=_ref.renderMessageSearchResult,rowCount=_ref.rowCount,_ref$scrollBehavior=_ref.scrollBehavior,scrollBehavior=void 0===_ref$scrollBehavior?Util.s2.Default:_ref$scrollBehavior,scrollToRowIndex=_ref.scrollToRowIndex,_ref$scrollable=_ref.scrollable,scrollable=void 0===_ref$scrollable||_ref$scrollable,shouldRecomputeRowHeights=_ref.shouldRecomputeRowHeights,showChooseGroupMembers=_ref.showChooseGroupMembers,lookupConversationWithoutUuid=_ref.lookupConversationWithoutUuid,showUserNotFoundModal=_ref.showUserNotFoundModal,setIsFetchingUUID=_ref.setIsFetchingUUID,showConversation=_ref.showConversation,theme=_ref.theme,calculateRowHeight=(0,react.useCallback)((function(index){var row=getRow(index);if(!row)return(0,assert.q8)(!1,`Expected a row at index ${index}`),76;switch(row.type){case RowType.Header:case RowType.SearchResultsLoadingFakeHeader:return 40;case RowType.SelectSingleGroup:case RowType.ContactCheckbox:case RowType.Contact:case RowType.CreateNewGroup:return 52;default:return 76}}),[getRow]),renderRow=(0,react.useCallback)((function(_ref2){var result,key=_ref2.key,index=_ref2.index,style=_ref2.style,row=getRow(index);if(!row)return(0,assert.q8)(!1,`Expected a row at index ${index}`),(0,jsx_runtime.jsx)("div",{style},key);switch(row.type){case RowType.ArchiveButton:result=(0,jsx_runtime.jsxs)("button",{"aria-label":i18n("icu:archivedConversations"),className:"module-conversation-list__item--archive-button",onClick:onClickArchiveButton,type:"button",children:[(0,jsx_runtime.jsx)("div",{className:"module-conversation-list__item--archive-button__icon"}),(0,jsx_runtime.jsx)("span",{className:"module-conversation-list__item--archive-button__text",children:i18n("icu:archivedConversations")}),(0,jsx_runtime.jsx)("span",{className:"module-conversation-list__item--archive-button__archived-count",children:row.archivedConversationsCount})]});break;case RowType.Blank:result=void 0;break;case RowType.Contact:var _row$isClickable=row.isClickable,isClickable=void 0===_row$isClickable||_row$isClickable,_row$hasContextMenu=row.hasContextMenu,hasContextMenu=void 0!==_row$hasContextMenu&&_row$hasContextMenu;result=(0,jsx_runtime.jsx)(ContactListItem,Object.assign({},row.contact,{badge:getPreferredBadge(row.contact.badges),onClick:isClickable?onSelectConversation:void 0,i18n,theme,hasContextMenu,onAudioCall:isClickable?onOutgoingAudioCallInConversation:void 0,onVideoCall:isClickable?onOutgoingVideoCallInConversation:void 0,onBlock:isClickable?blockConversation:void 0,onRemove:isClickable?removeConversation:void 0}));break;case RowType.ContactCheckbox:result=(0,jsx_runtime.jsx)(ContactCheckbox.F,Object.assign({},row.contact,{badge:getPreferredBadge(row.contact.badges),isChecked:row.isChecked,disabledReason:row.disabledReason,onClick:onClickContactCheckbox,i18n,theme}));break;case RowType.PhoneNumberCheckbox:result=(0,jsx_runtime.jsx)(PhoneNumberCheckbox.e,{phoneNumber:row.phoneNumber,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,toggleConversationInChooseMembers:function(conversationId){return onClickContactCheckbox(conversationId,void 0)},isChecked:row.isChecked,isFetching:row.isFetching,i18n,theme});break;case RowType.UsernameCheckbox:result=(0,jsx_runtime.jsx)(UsernameCheckbox.s,{username:row.username,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,toggleConversationInChooseMembers:function(conversationId){return onClickContactCheckbox(conversationId,void 0)},isChecked:row.isChecked,isFetching:row.isFetching,i18n,theme});break;case RowType.Conversation:var itemProps=pick_default()(row.conversation,["acceptedMessageRequest","avatarPath","badges","color","draftPreview","groupId","id","isMe","isSelected","isPinned","lastMessage","lastUpdated","markedUnread","muteExpiresAt","phoneNumber","profileName","removalStage","sharedGroupNames","shouldShowDraft","title","type","typingContactId","unblurredAvatarPath","unreadCount","uuid"]),badges=itemProps.badges,title=itemProps.title,unreadCount=itemProps.unreadCount,lastMessage=itemProps.lastMessage;result=(0,react.createElement)(ConversationListItem.X,Object.assign({},itemProps,{buttonAriaLabel:i18n("icu:ConversationList__aria-label",{lastMessage:get_default()(lastMessage,"text")||i18n("icu:ConversationList__last-message-undefined"),title,unreadCount}),key,badge:getPreferredBadge(badges),onClick:onSelectConversation,i18n,theme}));break;case RowType.CreateNewGroup:result=(0,jsx_runtime.jsx)(CreateNewGroupButton,{i18n,onClick:showChooseGroupMembers});break;case RowType.Header:var headerText=row.getHeaderText(i18n);result=(0,jsx_runtime.jsx)("div",{className:"module-conversation-list__item--header","aria-label":headerText,children:headerText});break;case RowType.MessageSearchResult:result=(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:null==renderMessageSearchResult?void 0:renderMessageSearchResult(row.messageId)});break;case RowType.SearchResultsLoadingFakeHeader:result=(0,jsx_runtime.jsx)(SearchResultsLoadingFakeHeader,{});break;case RowType.SearchResultsLoadingFakeRow:result=(0,jsx_runtime.jsx)(SearchResultsLoadingFakeRow,{});break;case RowType.SelectSingleGroup:result=(0,jsx_runtime.jsx)(GroupListItem.R,{i18n,group:row.group,onSelectGroup:onSelectConversation});break;case RowType.StartNewConversation:result=(0,jsx_runtime.jsx)(StartNewConversation,{i18n,phoneNumber:row.phoneNumber,isFetching:row.isFetching,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,showConversation});break;case RowType.UsernameSearchResult:result=(0,jsx_runtime.jsx)(UsernameSearchResultListItem,{i18n,username:row.username,isFetchingUsername:row.isFetchingUsername,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,showConversation});break;default:throw(0,missingCaseError.b)(row)}return(0,jsx_runtime.jsx)("span",{"aria-rowindex":index+1,role:"row",style,children:(0,jsx_runtime.jsx)("span",{role:"gridcell","aria-colindex":1,children:result})},key)}),[blockConversation,getPreferredBadge,getRow,i18n,lookupConversationWithoutUuid,onClickArchiveButton,onClickContactCheckbox,onOutgoingAudioCallInConversation,onOutgoingVideoCallInConversation,onSelectConversation,removeConversation,renderMessageSearchResult,setIsFetchingUUID,showChooseGroupMembers,showConversation,showUserNotFoundModal,theme]),_ref3=dimensions||{},_ref3$width=_ref3.width,width=void 0===_ref3$width?0:_ref3$width,_ref3$height=_ref3.height,height=void 0===_ref3$height?0:_ref3$height;if(!width||!height)return null;var widthBreakpoint=(0,_util.qW)(width);return(0,jsx_runtime.jsx)(ListView.B,{className:classnames_default()("module-conversation-list",`module-conversation-list--width-${widthBreakpoint}`),width,height,rowCount,calculateRowHeight,rowRenderer:renderRow,scrollToIndex:scrollToRowIndex,shouldRecomputeRowHeights,scrollable,scrollBehavior})}ConversationList.displayName="ConversationList"},"./ts/components/ListTile.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>ListTile});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/uuid-browser/index.js"),uuid__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__),_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/util/getClassNamesFor.ts"),_CircleCheckbox__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/CircleCheckbox.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["onClick","disabled","isChecked"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ListTile(params){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ListTileImpl,Object.assign({},params))}ListTile.displayName="ListTile";var ListTileImpl=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((function ListTileImpl(_ref,ref){var title=_ref.title,subtitle=_ref.subtitle,leading=_ref.leading,trailing=_ref.trailing,moduleClassName=_ref.moduleClassName,onClick=_ref.onClick,onContextMenu=_ref.onContextMenu,clickable=_ref.clickable,_ref$subtitleMaxLines=_ref.subtitleMaxLines,subtitleMaxLines=void 0===_ref$subtitleMaxLines?2:_ref$subtitleMaxLines,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$variant=_ref.variant,variant=void 0===_ref$variant?"item":_ref$variant,_ref$rootElement=_ref.rootElement,rootElement=void 0===_ref$rootElement?"div":_ref$rootElement,testId=_ref.testId,isClickable=null!=clickable?clickable:Boolean(onClick),getClassName=(0,_util_getClassNamesFor__WEBPACK_IMPORTED_MODULE_3__.h)("ListTile",moduleClassName),rootProps={className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(getClassName(""),isClickable&&getClassName("--clickable"),getClassName(`--variant-${variant}`)),onClick,"aria-disabled":!!disabled||void 0,onContextMenu,"data-testid":testId},contents=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[leading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"ListTile__leading",children:leading}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"ListTile__content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"ListTile__title",children:title}),subtitle&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("ListTile__subtitle",`ListTile__subtitle--max-lines-${subtitleMaxLines}`),children:subtitle})]}),trailing&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"ListTile__trailing",children:trailing})]});return"button"===rootElement?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",Object.assign({type:"button"},rootProps,{ref,children:contents})):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",Object.assign({},rootProps,{children:contents}))}));ListTile.heightFull=64,ListTile.heightCompact=52,ListTile.checkbox=function(props){var htmlId=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return uuid__WEBPACK_IMPORTED_MODULE_2___default()()}),[]),onClick=props.onClick,disabled=props.disabled,isChecked=props.isChecked,otherProps=_objectWithoutProperties(props,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("label",Object.assign({htmlFor:htmlId},disabled?{onClick}:{},{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ListTile,Object.assign({},otherProps,{disabled,trailing:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_CircleCheckbox__WEBPACK_IMPORTED_MODULE_4__.p,{id:htmlId,checked:isChecked,onChange:onClick,disabled})}))}))}},"./ts/components/ListView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>ListView});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_virtualized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-virtualized/dist/es/index.js"),_types_Util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/types/Util.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ListView(_ref){var width=_ref.width,height=_ref.height,rowCount=_ref.rowCount,calculateRowHeight=_ref.calculateRowHeight,rowRenderer=_ref.rowRenderer,scrollToIndex=_ref.scrollToIndex,className=_ref.className,_ref$scrollable=_ref.scrollable,scrollable=void 0===_ref$scrollable||_ref$scrollable,_ref$shouldRecomputeR=_ref.shouldRecomputeRowHeights,shouldRecomputeRowHeights=void 0!==_ref$shouldRecomputeR&&_ref$shouldRecomputeR,_ref$scrollBehavior=_ref.scrollBehavior,scrollBehavior=void 0===_ref$scrollBehavior?_types_Util__WEBPACK_IMPORTED_MODULE_3__.s2.Default:_ref$scrollBehavior,listRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var list=listRef.current;shouldRecomputeRowHeights&&list&&list.recomputeRowHeights()}));var rowHeight=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(index){return calculateRowHeight(index.index)}),[calculateRowHeight]),style=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return{overflowY:scrollable?"overlay":"hidden",direction:"inherit"}}),[scrollable]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_virtualized__WEBPACK_IMPORTED_MODULE_2__.aV,{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("ListView",`ListView--scroll-behavior-${scrollBehavior}`,className),width,height,ref:listRef,rowCount,rowHeight,rowRenderer,scrollToIndex,style,tabIndex:-1})}ListView.displayName="ListView"},"./ts/components/conversation/About.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>About});__webpack_require__("./node_modules/react/index.js");var _Emojify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversation/Emojify.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function About(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"module-about__text":_ref$className,text=_ref.text;return text?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className,dir:"auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Emojify__WEBPACK_IMPORTED_MODULE_1__.u,{text:text||""})}):null}About.displayName="About"},"./ts/components/conversationList/ContactCheckbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>ContactCheckboxDisabledReason,F:()=>ContactCheckbox});var ContactCheckboxDisabledReason,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/conversationList/BaseConversationListItem.tsx"),_conversation_ContactName__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/conversation/ContactName.tsx"),_conversation_About__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/conversation/About.tsx"),_ListTile__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/ListTile.tsx"),_Avatar__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/components/Avatar.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");!function(ContactCheckboxDisabledReason){ContactCheckboxDisabledReason[ContactCheckboxDisabledReason.AlreadyAdded=1]="AlreadyAdded",ContactCheckboxDisabledReason[ContactCheckboxDisabledReason.MaximumContactsSelected=2]="MaximumContactsSelected"}(ContactCheckboxDisabledReason||(ContactCheckboxDisabledReason={}));var ContactCheckbox=react__WEBPACK_IMPORTED_MODULE_0__.memo((function ContactCheckbox(_ref){var messageText,about=_ref.about,acceptedMessageRequest=_ref.acceptedMessageRequest,avatarPath=_ref.avatarPath,badge=_ref.badge,color=_ref.color,disabledReason=_ref.disabledReason,i18n=_ref.i18n,id=_ref.id,isChecked=_ref.isChecked,isMe=_ref.isMe,onClick=_ref.onClick,phoneNumber=_ref.phoneNumber,profileName=_ref.profileName,sharedGroupNames=_ref.sharedGroupNames,theme=_ref.theme,title=_ref.title,type=_ref.type,unblurredAvatarPath=_ref.unblurredAvatarPath,disabled=Boolean(disabledReason),headerName=isMe?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_conversation_ContactName__WEBPACK_IMPORTED_MODULE_2__.K,{module:_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_1__.Tt,title:i18n("icu:noteToSelf"),isMe}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_conversation_ContactName__WEBPACK_IMPORTED_MODULE_2__.K,{module:_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_1__.Tt,title});disabledReason===ContactCheckboxDisabledReason.AlreadyAdded?messageText=i18n("icu:alreadyAMember"):about&&(messageText=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_conversation_About__WEBPACK_IMPORTED_MODULE_3__.C,{className:"",text:about}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ListTile__WEBPACK_IMPORTED_MODULE_4__.x.checkbox,{clickable:!0,disabled,isChecked,leading:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Avatar__WEBPACK_IMPORTED_MODULE_5__.qE,Object.assign({acceptedMessageRequest,avatarPath,color,conversationType:type,noteToSelf:Boolean(isMe),i18n,isMe,phoneNumber,profileName,title,sharedGroupNames,size:_Avatar__WEBPACK_IMPORTED_MODULE_5__.DZ.THIRTY_TWO,unblurredAvatarPath},badge?{badge,theme}:{badge:void 0})),title:headerName,subtitle:isMe?void 0:messageText,subtitleMaxLines:1,onClick:function(){onClick(id,disabledReason)}})}))},"./ts/components/conversationList/GroupListItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>GroupListItem,h:()=>DisabledReason});__webpack_require__("./node_modules/react/index.js");var DisabledReason,_Avatar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Avatar.tsx"),_ListTile__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/ListTile.tsx"),_UserText__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/UserText.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");function GroupListItem(_ref){var messageText,group=_ref.group,i18n=_ref.i18n,onSelectGroup=_ref.onSelectGroup;switch(group.disabledReason){case DisabledReason.AlreadyMember:messageText=i18n("icu:GroupListItem__message-already-member");break;case DisabledReason.Pending:messageText=i18n("icu:GroupListItem__message-pending");break;default:messageText=i18n("icu:GroupListItem__message-default",{count:group.membersCount})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ListTile__WEBPACK_IMPORTED_MODULE_2__.x,{leading:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Avatar__WEBPACK_IMPORTED_MODULE_1__.qE,{acceptedMessageRequest:!0,avatarPath:group.avatarPath,conversationType:"group",i18n,isMe:!1,title:group.title,sharedGroupNames:[],size:_Avatar__WEBPACK_IMPORTED_MODULE_1__.DZ.THIRTY_TWO,badge:void 0}),title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_UserText__WEBPACK_IMPORTED_MODULE_3__.a,{text:group.title}),subtitle:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_UserText__WEBPACK_IMPORTED_MODULE_3__.a,{text:messageText}),onClick:function(){return onSelectGroup(group.id)}})}!function(DisabledReason){DisabledReason.AlreadyMember="already-member",DisabledReason.Pending="pending"}(DisabledReason||(DisabledReason={})),GroupListItem.displayName="GroupListItem"},"./ts/components/conversationList/PhoneNumberCheckbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>PhoneNumberCheckbox});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/components/Button.tsx"),_ConfirmationDialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/ConfirmationDialog.tsx"),_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/conversationList/BaseConversationListItem.tsx"),_types_Colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/types/Colors.ts"),_ListTile__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/components/ListTile.tsx"),_Avatar__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ts/components/Avatar.tsx"),_Spinner__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ts/components/Spinner.tsx"),_UserText__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ts/components/UserText.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PhoneNumberCheckbox=react__WEBPACK_IMPORTED_MODULE_0__.memo((function PhoneNumberCheckbox(_ref){var modal,phoneNumber=_ref.phoneNumber,isChecked=_ref.isChecked,isFetching=_ref.isFetching,i18n=_ref.i18n,lookupConversationWithoutUuid=_ref.lookupConversationWithoutUuid,showUserNotFoundModal=_ref.showUserNotFoundModal,setIsFetchingUUID=_ref.setIsFetchingUUID,toggleConversationInChooseMembers=_ref.toggleConversationInChooseMembers,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isModalVisible=_useState2[0],setIsModalVisible=_useState2[1],onClickItem=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((async function(){if(phoneNumber.isValid){if(!isFetching){var conversationId=await lookupConversationWithoutUuid({showUserNotFoundModal,setIsFetchingUUID,type:"e164",e164:phoneNumber.e164,phoneNumber:phoneNumber.userInput});void 0!==conversationId&&toggleConversationInChooseMembers(conversationId)}}else setIsModalVisible(!0)}),[isFetching,toggleConversationInChooseMembers,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,setIsModalVisible,phoneNumber]);isModalVisible&&(modal=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ConfirmationDialog__WEBPACK_IMPORTED_MODULE_2__.U,{dialogName:"PhoneNumberCheckbox.invalidPhoneNumber",cancelText:i18n("icu:ok"),cancelButtonVariant:_Button__WEBPACK_IMPORTED_MODULE_1__.Wu.Secondary,i18n,onClose:function(){return setIsModalVisible(!1)},children:i18n("icu:startConversation--phone-number-not-valid",{phoneNumber:phoneNumber.userInput})}));var avatar=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_Avatar__WEBPACK_IMPORTED_MODULE_6__.qE,{acceptedMessageRequest:!1,color:_types_Colors__WEBPACK_IMPORTED_MODULE_4__.sj[0],conversationType:"direct",i18n,isMe:!1,phoneNumber:phoneNumber.userInput,title:phoneNumber.userInput,sharedGroupNames:[],size:_Avatar__WEBPACK_IMPORTED_MODULE_6__.DZ.THIRTY_TWO,badge:void 0}),title=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_UserText__WEBPACK_IMPORTED_MODULE_8__.a,{text:phoneNumber.userInput});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:[isFetching?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ListTile__WEBPACK_IMPORTED_MODULE_5__.x,{leading:avatar,title,trailing:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_7__.$j,{size:"20px",svgSize:"small",moduleClassName:_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_3__.Sc,direction:"on-progress-dialog"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ListTile__WEBPACK_IMPORTED_MODULE_5__.x.checkbox,{isChecked,onClick:onClickItem,leading:avatar,title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_UserText__WEBPACK_IMPORTED_MODULE_8__.a,{text:phoneNumber.userInput})}),modal]})}))},"./ts/components/conversationList/UsernameCheckbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>UsernameCheckbox});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_types_Colors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ts/types/Colors.ts"),_ListTile__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ts/components/ListTile.tsx"),_Avatar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ts/components/Avatar.tsx"),_Spinner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ts/components/Spinner.tsx"),_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ts/components/conversationList/BaseConversationListItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js"),UsernameCheckbox=react__WEBPACK_IMPORTED_MODULE_0__.memo((function UsernameCheckbox(_ref){var username=_ref.username,isChecked=_ref.isChecked,isFetching=_ref.isFetching,i18n=_ref.i18n,lookupConversationWithoutUuid=_ref.lookupConversationWithoutUuid,showUserNotFoundModal=_ref.showUserNotFoundModal,setIsFetchingUUID=_ref.setIsFetchingUUID,toggleConversationInChooseMembers=_ref.toggleConversationInChooseMembers,onClickItem=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((async function(){if(!isFetching){var conversationId=await lookupConversationWithoutUuid({showUserNotFoundModal,setIsFetchingUUID,type:"username",username});void 0!==conversationId&&toggleConversationInChooseMembers(conversationId)}}),[isFetching,toggleConversationInChooseMembers,lookupConversationWithoutUuid,showUserNotFoundModal,setIsFetchingUUID,username]),title=username,avatar=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Avatar__WEBPACK_IMPORTED_MODULE_3__.qE,{acceptedMessageRequest:!1,color:_types_Colors__WEBPACK_IMPORTED_MODULE_1__.sj[0],conversationType:"direct",searchResult:!0,i18n,isMe:!1,title,sharedGroupNames:[],size:_Avatar__WEBPACK_IMPORTED_MODULE_3__.DZ.THIRTY_TWO,badge:void 0});return isFetching?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ListTile__WEBPACK_IMPORTED_MODULE_2__.x,{leading:avatar,title,trailing:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Spinner__WEBPACK_IMPORTED_MODULE_4__.$j,{size:"20px",svgSize:"small",moduleClassName:_BaseConversationListItem__WEBPACK_IMPORTED_MODULE_5__.Sc,direction:"on-progress-dialog"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ListTile__WEBPACK_IMPORTED_MODULE_2__.x.checkbox,{leading:avatar,title,isChecked,onClick:onClickItem,clickable:!0})}))},"./ts/util/isInSystemContacts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>isInSystemContacts});var isInSystemContacts=function(_ref){var type=_ref.type,name=_ref.name,systemGivenName=_ref.systemGivenName,systemFamilyName=_ref.systemFamilyName;return!("direct"!==type&&"private"!==type||"string"!=typeof name&&"string"!=typeof systemGivenName&&"string"!=typeof systemFamilyName)}}}]);